!function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(t,n,e){return t(e={path:n,exports:{},require:function(t,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&e.path)}},e.exports),e.exports}function r(t){if(t.__esModule)return t;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})})),n}var i=n(e((function(t){t.exports=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t},t.exports.default=t.exports,t.exports.__esModule=!0}))),o=e((function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0})),a=e((function(t){t.exports=function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o=[],a=!0,u=!1;try{for(e=e.call(t);!(a=(r=e.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(t){u=!0,i=t}finally{try{a||null==e.return||e.return()}finally{if(u)throw i}}return o}},t.exports.default=t.exports,t.exports.__esModule=!0})),u=e((function(t){t.exports=function(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r},t.exports.default=t.exports,t.exports.__esModule=!0})),c=e((function(t){t.exports=function(t,n){if(t){if("string"==typeof t)return u(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,n):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0})),l=e((function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0})),s=n(e((function(t){t.exports=function(t,n){return o(t)||a(t,n)||c(t,n)||l()},t.exports.default=t.exports,t.exports.__esModule=!0}))),f="http://www.w3.org/1999/xhtml",h={svg:"http://www.w3.org/2000/svg",xhtml:f,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function p(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),h.hasOwnProperty(n)?{space:h[n],local:t}:t}function d(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===f&&n.documentElement.namespaceURI===f?n.createElement(t):n.createElementNS(e,t)}}function g(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function v(t){var n=p(t);return(n.local?g:d)(n)}function m(){}function y(t){return null==t?m:function(){return this.querySelector(t)}}function b(){return[]}function w(t){return null==t?b:function(){return this.querySelectorAll(t)}}function _(t){return function(){return this.matches(t)}}function x(t){return new Array(t.length)}function M(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}M.prototype={constructor:M,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function k(t,n,e,r,i,o){for(var a,u=0,c=n.length,l=o.length;u<l;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new M(t,o[u]);for(;u<c;++u)(a=n[u])&&(i[u]=a)}function S(t,n,e,r,i,o,a){var u,c,l,s={},f=n.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(c=n[u])&&(p[u]=l="$"+a.call(c,c.__data__,u,n),l in s?i[u]=c:s[l]=c);for(u=0;u<h;++u)(c=s[l="$"+a.call(t,o[u],u,o)])?(r[u]=c,c.__data__=o[u],s[l]=null):e[u]=new M(t,o[u]);for(u=0;u<f;++u)(c=n[u])&&s[p[u]]===c&&(i[u]=c)}function A(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function E(t){return function(){this.removeAttribute(t)}}function $(t){return function(){this.removeAttributeNS(t.space,t.local)}}function O(t,n){return function(){this.setAttribute(t,n)}}function j(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function N(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function z(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function L(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function T(t){return function(){this.style.removeProperty(t)}}function P(t,n,e){return function(){this.style.setProperty(t,n,e)}}function D(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function C(t,n){return t.style.getPropertyValue(n)||L(t).getComputedStyle(t,null).getPropertyValue(n)}function R(t){return function(){delete this[t]}}function B(t,n){return function(){this[t]=n}}function F(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function q(t){return t.trim().split(/^|\s+/)}function W(t){return t.classList||new H(t)}function H(t){this._node=t,this._names=q(t.getAttribute("class")||"")}function Y(t,n){for(var e=W(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function I(t,n){for(var e=W(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function U(t){return function(){Y(this,t)}}function X(t){return function(){I(this,t)}}function V(t,n){return function(){(n.apply(this,arguments)?Y:I)(this,t)}}function Z(){this.textContent=""}function G(t){return function(){this.textContent=t}}function K(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function J(){this.innerHTML=""}function Q(t){return function(){this.innerHTML=t}}function tt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function nt(){this.nextSibling&&this.parentNode.appendChild(this)}function et(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rt(){return null}function it(){var t=this.parentNode;t&&t.removeChild(this)}function ot(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function at(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}H.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ut={},ct=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ut={mouseenter:"mouseover",mouseleave:"mouseout"}));function lt(t,n,e){return t=st(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function st(t,n,e){return function(r){var i=ct;ct=r;try{t.call(this,this.__data__,n,e)}finally{ct=i}}}function ft(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function ht(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function pt(t,n,e){var r=ut.hasOwnProperty(t.type)?lt:st;return function(i,o,a){var u,c=this.__on,l=r(n,o,a);if(c)for(var s=0,f=c.length;s<f;++s)if((u=c[s]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=e),void(u.value=n);this.addEventListener(t.type,l,e),u={type:t.type,name:t.name,value:n,listener:l,capture:e},c?c.push(u):this.__on=[u]}}function dt(t,n,e){var r=L(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function gt(t,n){return function(){return dt(this,t,n)}}function vt(t,n){return function(){return dt(this,t,n.apply(this,arguments))}}var mt=[null];function yt(t,n){this._groups=t,this._parents=n}function bt(){return new yt([[document.documentElement]],mt)}function wt(t){return"string"==typeof t?new yt([[document.querySelector(t)]],[document.documentElement]):new yt([[t]],mt)}function _t(){for(var t,n=ct;t=n.sourceEvent;)n=t;return n}function xt(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function Mt(t){var n=_t();return n.changedTouches&&(n=n.changedTouches[0]),xt(t,n)}function kt(t,n,e){arguments.length<3&&(e=n,n=_t().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return xt(t,r);return null}function St(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}yt.prototype=bt.prototype={constructor:yt,select:function(t){"function"!=typeof t&&(t=y(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],c=u.length,l=r[i]=new Array(c),s=0;s<c;++s)(o=u[s])&&(a=t.call(o,o.__data__,s,u))&&("__data__"in o&&(a.__data__=o.__data__),l[s]=a);return new yt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=w(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],c=u.length,l=0;l<c;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),i.push(a));return new yt(r,i)},filter:function(t){"function"!=typeof t&&(t=_(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new yt(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),s=-1,this.each((function(t){d[++s]=t})),d;var e,r=n?S:k,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),c=new Array(a),l=new Array(a),s=0;s<a;++s){var f=i[s],h=o[s],p=h.length,d=t.call(f,f&&f.__data__,s,i),g=d.length,v=c[s]=new Array(g),m=u[s]=new Array(g);r(f,h,v,m,l[s]=new Array(p),d,n);for(var y,b,w=0,_=0;w<g;++w)if(y=v[w]){for(w>=_&&(_=w+1);!(b=m[_])&&++_<g;);y._next=b||null}}return(u=new yt(u,i))._enter=c,u._exit=l,u},enter:function(){return new yt(this._enter||this._groups.map(x),this._parents)},exit:function(){return new yt(this._exit||this._groups.map(x),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,l=n[u],s=e[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(h[p]=c);for(;u<r;++u)a[u]=n[u];return new yt(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=A);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],c=u.length,l=i[o]=new Array(c),s=0;s<c;++s)(a=u[s])&&(l[s]=a);l.sort(n)}return new yt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=p(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?$:E:"function"==typeof n?e.local?z:N:e.local?j:O)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?T:"function"==typeof n?D:P)(t,n,null==e?"":e)):C(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?R:"function"==typeof n?F:B)(t,n)):this.node()[t]},classed:function(t,n){var e=q(t+"");if(arguments.length<2){for(var r=W(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?V:n?U:X)(e,n))},text:function(t){return arguments.length?this.each(null==t?Z:("function"==typeof t?K:G)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?J:("function"==typeof t?tt:Q)(t)):this.node().innerHTML},raise:function(){return this.each(nt)},lower:function(){return this.each(et)},append:function(t){var n="function"==typeof t?t:v(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:v(t),r=null==n?rt:"function"==typeof n?n:y(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(it)},clone:function(t){return this.select(t?at:ot)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=ft(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?pt:ht,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var c,l=0,s=u.length;l<s;++l)for(r=0,c=u[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?vt:gt)(t,n))}};var At=function(t){return 1===t.length&&(t=function(t){return function(n,e){return St(t(n),e)}}(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}(St).right;function Et(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}var $t=Math.sqrt(50),Ot=Math.sqrt(10),jt=Math.sqrt(2);function Nt(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=$t?10:o>=Ot?5:o>=jt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=$t?10:o>=Ot?5:o>=jt?2:1)}function zt(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--a]=r[n];return e}function Lt(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}var Tt="$";function Pt(){}function Dt(t,n){var e=new Pt;if(t instanceof Pt)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function Ct(){}Pt.prototype=Dt.prototype={constructor:Pt,has:function(t){return Tt+t in this},get:function(t){return this[Tt+t]},set:function(t,n){return this[Tt+t]=n,this},remove:function(t){var n=Tt+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===Tt&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===Tt&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===Tt&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===Tt&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===Tt&&++t;return t},empty:function(){for(var t in this)if(t[0]===Tt)return!1;return!0},each:function(t){for(var n in this)n[0]===Tt&&t(this[n],n.slice(1),this)}};var Rt=Dt.prototype;function Bt(t){var n=[];for(var e in t)n.push(t[e]);return n}Ct.prototype=function(t,n){var e=new Ct;if(t instanceof Ct)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:Ct,has:Rt.has,add:function(t){return this[Tt+(t+="")]=t,this},remove:Rt.remove,clear:Rt.clear,values:Rt.keys,size:Rt.size,empty:Rt.empty,each:Rt.each};var Ft=Array.prototype,qt=Ft.map,Wt=Ft.slice,Ht={name:"implicit"};function Yt(){var t=Dt(),n=[],e=[],r=Ht;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Ht)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=Dt();for(var r,o,a=-1,u=e.length;++a<u;)t.has(o=(r=e[a])+"")||t.set(o,n.push(r));return i},i.range=function(t){return arguments.length?(e=Wt.call(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Yt(n,e).unknown(r)},Lt.apply(i,arguments),i}var It=n(e((function(t){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=n=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),n(e)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0})));function Ut(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Xt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Vt(){}var Zt=.7,Gt=1/Zt,Kt="\\s*([+-]?\\d+)\\s*",Jt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tn=/^#([0-9a-f]{3,8})$/,nn=new RegExp("^rgb\\("+[Kt,Kt,Kt]+"\\)$"),en=new RegExp("^rgb\\("+[Qt,Qt,Qt]+"\\)$"),rn=new RegExp("^rgba\\("+[Kt,Kt,Kt,Jt]+"\\)$"),on=new RegExp("^rgba\\("+[Qt,Qt,Qt,Jt]+"\\)$"),an=new RegExp("^hsl\\("+[Jt,Qt,Qt]+"\\)$"),un=new RegExp("^hsla\\("+[Jt,Qt,Qt,Jt]+"\\)$"),cn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ln(){return this.rgb().formatHex()}function sn(){return this.rgb().formatRgb()}function fn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=tn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?hn(n):3===e?new vn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?pn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?pn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=nn.exec(t))?new vn(n[1],n[2],n[3],1):(n=en.exec(t))?new vn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=rn.exec(t))?pn(n[1],n[2],n[3],n[4]):(n=on.exec(t))?pn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=an.exec(t))?wn(n[1],n[2]/100,n[3]/100,1):(n=un.exec(t))?wn(n[1],n[2]/100,n[3]/100,n[4]):cn.hasOwnProperty(t)?hn(cn[t]):"transparent"===t?new vn(NaN,NaN,NaN,0):null}function hn(t){return new vn(t>>16&255,t>>8&255,255&t,1)}function pn(t,n,e,r){return r<=0&&(t=n=e=NaN),new vn(t,n,e,r)}function dn(t){return t instanceof Vt||(t=fn(t)),t?new vn((t=t.rgb()).r,t.g,t.b,t.opacity):new vn}function gn(t,n,e,r){return 1===arguments.length?dn(t):new vn(t,n,e,null==r?1:r)}function vn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function mn(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)}function yn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function bn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function wn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new xn(t,n,e,r)}function _n(t){if(t instanceof xn)return new xn(t.h,t.s,t.l,t.opacity);if(t instanceof Vt||(t=fn(t)),!t)return new xn;if(t instanceof xn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new xn(a,u,c,t.opacity)}function xn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Mn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Ut(Vt,fn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ln,formatHex:ln,formatHsl:function(){return _n(this).formatHsl()},formatRgb:sn,toString:sn}),Ut(vn,gn,Xt(Vt,{brighter:function(t){return t=null==t?Gt:Math.pow(Gt,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Zt:Math.pow(Zt,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mn,formatHex:mn,formatRgb:yn,toString:yn})),Ut(xn,(function(t,n,e,r){return 1===arguments.length?_n(t):new xn(t,n,e,null==r?1:r)}),Xt(Vt,{brighter:function(t){return t=null==t?Gt:Math.pow(Gt,t),new xn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Zt:Math.pow(Zt,t),new xn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new vn(Mn(t>=240?t-240:t+120,i,r),Mn(t,i,r),Mn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var kn=Math.PI/180,Sn=180/Math.PI,An=.96422,En=.82521,$n=4/29,On=6/29,jn=3*On*On;function Nn(t){if(t instanceof Ln)return new Ln(t.l,t.a,t.b,t.opacity);if(t instanceof Bn)return Fn(t);t instanceof vn||(t=dn(t));var n,e,r=Cn(t.r),i=Cn(t.g),o=Cn(t.b),a=Tn((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?n=e=a:(n=Tn((.4360747*r+.3850649*i+.1430804*o)/An),e=Tn((.0139322*r+.0971045*i+.7141733*o)/En)),new Ln(116*a-16,500*(n-a),200*(a-e),t.opacity)}function zn(t,n,e,r){return 1===arguments.length?Nn(t):new Ln(t,n,e,null==r?1:r)}function Ln(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Tn(t){return t>.008856451679035631?Math.pow(t,1/3):t/jn+$n}function Pn(t){return t>On?t*t*t:jn*(t-$n)}function Dn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Cn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Rn(t){if(t instanceof Bn)return new Bn(t.h,t.c,t.l,t.opacity);if(t instanceof Ln||(t=Nn(t)),0===t.a&&0===t.b)return new Bn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Sn;return new Bn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Bn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Fn(t){if(isNaN(t.h))return new Ln(t.l,0,0,t.opacity);var n=t.h*kn;return new Ln(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function qn(t){return function(){return t}}function Wn(t){return 1==(t=+t)?Hn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):qn(isNaN(n)?e:n)}}function Hn(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):qn(isNaN(t)?n:t)}Ut(Ln,zn,Xt(Vt,{brighter:function(t){return new Ln(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ln(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new vn(Dn(3.1338561*(n=An*Pn(n))-1.6168667*(t=1*Pn(t))-.4906146*(e=En*Pn(e))),Dn(-.9787684*n+1.9161415*t+.033454*e),Dn(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),Ut(Bn,(function(t,n,e,r){return 1===arguments.length?Rn(t):new Bn(t,n,e,null==r?1:r)}),Xt(Vt,{brighter:function(t){return new Bn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Bn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Fn(this).rgb()}}));var Yn=function t(n){var e=Wn(n);function r(t,n){var r=e((t=gn(t)).r,(n=gn(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=Hn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function In(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function Un(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=Qn(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function Xn(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Vn(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Zn(t,n){var e,r={},i={};for(e in null!==t&&"object"===It(t)||(t={}),null!==n&&"object"===It(n)||(n={}),n)e in t?r[e]=Qn(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var Gn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kn=new RegExp(Gn.source,"g");function Jn(t,n){var e,r,i,o=Gn.lastIndex=Kn.lastIndex=0,a=-1,u=[],c=[];for(t+="",n+="";(e=Gn.exec(t))&&(r=Kn.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:Vn(e,r)})),o=Kn.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)u[(e=c[r]).i]=e.x(t);return u.join("")})}function Qn(t,n){var e,r,i=It(n);return null==n||"boolean"===i?qn(n):("number"===i?Vn:"string"===i?(e=fn(n))?(n=e,Yn):Jn:n instanceof fn?Yn:n instanceof Date?Xn:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?Un:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Zn:Vn:In))(t,n)}function te(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var ne,ee,re,ie,oe=180/Math.PI,ae={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ue(t,n,e,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,c/=u),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*oe,skewX:Math.atan(c)*oe,scaleX:a,scaleY:u}}function ce(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],c=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var c=a.push("translate(",null,n,null,e);u.push({i:c-4,x:Vn(t,i)},{i:c-2,x:Vn(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,c),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Vn(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,c),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Vn(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,c),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:Vn(t,e)},{i:u-2,x:Vn(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,c),o=a=null,function(t){for(var n,e=-1,r=c.length;++e<r;)u[(n=c[e]).i]=n.x(t);return u.join("")}}}var le=ce((function(t){return"none"===t?ae:(ne||(ne=document.createElement("DIV"),ee=document.documentElement,re=document.defaultView),ne.style.transform=t,t=re.getComputedStyle(ee.appendChild(ne),null).getPropertyValue("transform"),ee.removeChild(ne),ue(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),se=ce((function(t){return null==t?ae:(ie||(ie=document.createElementNS("http://www.w3.org/2000/svg","g")),ie.setAttribute("transform",t),(t=ie.transform.baseVal.consolidate())?ue((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ae)}),", ",")",")"),fe=Math.SQRT2;function he(t){return((t=Math.exp(t))+1/t)/2}function pe(t,n){var e,r,i=t[0],o=t[1],a=t[2],u=n[0],c=n[1],l=n[2],s=u-i,f=c-o,h=s*s+f*f;if(h<1e-12)r=Math.log(l/a)/fe,e=function(t){return[i+t*s,o+t*f,a*Math.exp(fe*t*r)]};else{var p=Math.sqrt(h),d=(l*l-a*a+4*h)/(2*a*2*p),g=(l*l-a*a-4*h)/(2*l*2*p),v=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/fe,e=function(t){var n,e=t*r,u=he(v),c=a/(2*p)*(u*(n=fe*e+v,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[i+c*s,o+c*f,a*u/he(fe*e+v)]}}return e.duration=1e3*r,e}function de(t,n){var e=Hn((t=zn(t)).l,(n=zn(n)).l),r=Hn(t.a,n.a),i=Hn(t.b,n.b),o=Hn(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}}function ge(t){return+t}var ve=[0,1];function me(t){return t}function ye(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function be(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function we(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=ye(i,r),o=e(a,o)):(r=ye(r,i),o=e(o,a)),function(t){return o(r(t))}}function _e(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=ye(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=At(t,n,1,r)-1;return o[e](i[e](n))}}function xe(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Me(t,n){return function(){var t,n,e,r,i,o,a=ve,u=ve,c=Qn,l=me;function s(){return r=Math.min(a.length,u.length)>2?_e:we,i=o=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(a.map(t),u,c)))(t(l(n)))}return f.invert=function(e){return l(n((o||(o=r(u,a.map(t),Vn)))(e)))},f.domain=function(t){return arguments.length?(a=qt.call(t,ge),l===me||(l=be(a)),s()):a.slice()},f.range=function(t){return arguments.length?(u=Wt.call(t),s()):u.slice()},f.rangeRound=function(t){return u=Wt.call(t),c=te,s()},f.clamp=function(t){return arguments.length?(l=t?be(a):me,f):l!==me},f.interpolate=function(t){return arguments.length?(c=t,s()):c},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,s()}}()(t,n)}function ke(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Se(t){return(t=ke(Math.abs(t)))?t[1]:NaN}var Ae,Ee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $e(t){if(!(n=Ee.exec(t)))throw new Error("invalid format: "+t);var n;return new Oe({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Oe(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function je(t,n){var e=ke(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}$e.prototype=Oe.prototype,Oe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ne={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return je(100*t,n)},r:je,s:function(t,n){var e=ke(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Ae=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ke(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function ze(t){return t}var Le,Te,Pe,De=Array.prototype.map,Ce=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Re(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?ze:(n=De.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(t.substring(i-=u,i+u)),!((c+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?ze:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(De.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=$e(t)).fill,e=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,g=t.comma,v=t.precision,m=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Ne[y]||(void 0===v&&(v=12),m=!0,y="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?o:/[%p]/.test(y)?c:"",_=Ne[y],x=/[defgprs%]/.test(y);function M(t){var i,o,c,h=b,M=w;if("c"===y)M=_(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?s:_(Math.abs(t),v),m&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),h=(k?"("===f?f:l:"-"===f||"("===f?"":f)+h,M=("s"===y?Ce[8+Ae/3]:"")+M+(k&&"("===f?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){M=(46===c?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!p&&(t=r(t,1/0));var S=h.length+t.length+M.length,A=S<d?new Array(d-S+1).join(n):"";switch(g&&p&&(t=r(A+t,A.length?d-M.length:1/0),A=""),e){case"<":t=h+t+M+A;break;case"=":t=h+A+t+M;break;case"^":t=A.slice(0,S=A.length>>1)+h+t+M+A.slice(S);break;default:t=A+h+t+M}return u(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,n){var e=f(((t=$e(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Se(n)/3))),i=Math.pow(10,-r),o=Ce[8+r/3];return function(t){return e(i*t)+o}}}}function Be(t){return Math.max(0,-Se(Math.abs(t)))}function Fe(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Se(n)/3)))-Se(Math.abs(t)))}function qe(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Se(n)-Se(t))+1}function We(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=$t?i*=10:o>=Ot?i*=5:o>=jt&&(i*=2),n<t?-i:i}(t,n,e);switch((r=$e(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=Fe(o,a))||(r.precision=i),Pe(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=qe(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Be(o))||(r.precision=i-2*("%"===r.type))}return Te(r)}function He(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=Nt(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return We(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),o=0,a=i.length-1,u=i[o],c=i[a];return c<u&&(r=u,u=c,c=r,r=o,o=a,a=r),(r=Nt(u,c,e))>0?r=Nt(u=Math.floor(u/r)*r,c=Math.ceil(c/r)*r,e):r<0&&(r=Nt(u=Math.ceil(u*r)/r,c=Math.floor(c*r)/r,e)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(c/r)*r,n(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(c*r)/r,n(i)),t},t}function Ye(){var t=Me(me,me);return t.copy=function(){return xe(t,Ye())},Lt.apply(t,arguments),He(t)}Le=Re({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Te=Le.format,Pe=Le.formatPrefix;var Ie={value:function(){}};function Ue(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Xe(r)}function Xe(t){this._=t}function Ve(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function Ze(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Ge(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Ie,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function Ke(){ct.preventDefault(),ct.stopImmediatePropagation()}function Je(t){var n=t.document.documentElement,e=wt(t).on("dragstart.drag",Ke,!0);"onselectstart"in n?e.on("selectstart.drag",Ke,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Qe(t,n){var e=t.document.documentElement,r=wt(t).on("dragstart.drag",null);n&&(r.on("click.drag",Ke,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}Xe.prototype=Ue.prototype={constructor:Xe,on:function(t,n){var e,r=this._,i=Ve(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=Ge(r[e],t.name,n);else if(null==n)for(e in r)r[e]=Ge(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=Ze(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Xe(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var tr,nr,er=0,rr=0,ir=0,or=0,ar=0,ur=0,cr="object"===("undefined"==typeof performance?"undefined":It(performance))&&performance.now?performance:Date,lr="object"===("undefined"==typeof window?"undefined":It(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function sr(){return ar||(lr(fr),ar=cr.now()+ur)}function fr(){ar=0}function hr(){this._call=this._time=this._next=null}function pr(t,n,e){var r=new hr;return r.restart(t,n,e),r}function dr(){ar=(or=cr.now())+ur,er=rr=0;try{!function(){sr(),++er;for(var t,n=tr;n;)(t=ar-n._time)>=0&&n._call.call(null,t),n=n._next;--er}()}finally{er=0,function(){var t,n,e=tr,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:tr=n);nr=t,vr(r)}(),ar=0}}function gr(){var t=cr.now(),n=t-or;n>1e3&&(ur-=n,or=t)}function vr(t){er||(rr&&(rr=clearTimeout(rr)),t-ar>24?(t<1/0&&(rr=setTimeout(dr,t-cr.now()-ur)),ir&&(ir=clearInterval(ir))):(ir||(or=cr.now(),ir=setInterval(gr,1e3)),er=1,lr(dr)))}function mr(t,n,e){var r=new hr;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r}hr.prototype=pr.prototype={constructor:hr,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?sr():+e)+(null==n?0:+n),this._next||nr===this||(nr?nr._next=this:tr=this,nr=this),this._call=t,this._time=e,vr()},stop:function(){this._call&&(this._call=null,this._time=1/0,vr())}};var yr=Ue("start","end","cancel","interrupt"),br=[];function wr(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var l,s,f,h;if(1!==e.state)return c();for(l in i)if((h=i[l]).name===e.name){if(3===h.state)return mr(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(mr((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(o))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),l=0,s=-1;l<f;++l)(h=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++s]=h);r.length=s+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(c),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=pr(o,0,e.time)}(t,e,{name:n,index:r,group:i,on:yr,tween:br,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function _r(t,n){var e=Mr(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function xr(t,n){var e=Mr(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Mr(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function kr(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}function Sr(t,n){var e,r;return function(){var i=xr(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function Ar(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=xr(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},c=0,l=i.length;c<l;++c)if(i[c].name===n){i[c]=u;break}c===l&&i.push(u)}o.tween=i}}function Er(t,n,e){var r=t._id;return t.each((function(){var t=xr(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Mr(t,r).value[n]}}function $r(t,n){var e;return("number"==typeof n?Vn:n instanceof fn?Yn:(e=fn(n))?(n=e,Yn):Jn)(t,n)}function Or(t){return function(){this.removeAttribute(t)}}function jr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Nr(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function zr(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function Lr(t,n,e){var r,i,o;return function(){var a,u,c=e(this);if(null!=c)return(a=this.getAttribute(t))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,c));this.removeAttribute(t)}}function Tr(t,n,e){var r,i,o;return function(){var a,u,c=e(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,c));this.removeAttributeNS(t.space,t.local)}}function Pr(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Dr(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Cr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Dr(t,i)),e}return i._value=n,i}function Rr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Pr(t,i)),e}return i._value=n,i}function Br(t,n){return function(){_r(this,t).delay=+n.apply(this,arguments)}}function Fr(t,n){return n=+n,function(){_r(this,t).delay=n}}function qr(t,n){return function(){xr(this,t).duration=+n.apply(this,arguments)}}function Wr(t,n){return n=+n,function(){xr(this,t).duration=n}}function Hr(t,n){if("function"!=typeof n)throw new Error;return function(){xr(this,t).ease=n}}function Yr(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?_r:xr;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}var Ir=bt.prototype.constructor;function Ur(t){return function(){this.style.removeProperty(t)}}function Xr(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Vr(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Xr(t,o,e)),r}return o._value=n,o}function Zr(t){return function(n){this.textContent=t.call(this,n)}}function Gr(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Zr(r)),n}return r._value=t,r}var Kr=0;function Jr(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Qr(t){return bt().transition(t)}function ti(){return++Kr}var ni=bt.prototype;Jr.prototype=Qr.prototype={constructor:Jr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=y(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,c,l=r[a],s=l.length,f=o[a]=new Array(s),h=0;h<s;++h)(u=l[h])&&(c=t.call(u,u.__data__,h,l))&&("__data__"in u&&(c.__data__=u.__data__),f[h]=c,wr(f[h],n,e,h,f,Mr(u,e)));return new Jr(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=w(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c,l=r[u],s=l.length,f=0;f<s;++f)if(c=l[f]){for(var h,p=t.call(c,c.__data__,f,l),d=Mr(c,e),g=0,v=p.length;g<v;++g)(h=p[g])&&wr(h,n,e,g,p,d);o.push(p),a.push(c)}return new Jr(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=_(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new Jr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,l=n[u],s=e[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(h[p]=c);for(;u<r;++u)a[u]=n[u];return new Jr(a,this._parents,this._name,this._id)},selection:function(){return new Ir(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=ti(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,l=0;l<c;++l)if(a=u[l]){var s=Mr(a,n);wr(a,t,e,l,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Jr(r,this._parents,t,e)},call:ni.call,nodes:ni.nodes,node:ni.node,size:ni.size,empty:ni.empty,each:ni.each,on:function(t,n){var e=this._id;return arguments.length<2?Mr(this.node(),e).on.on(t):this.each(Yr(e,t,n))},attr:function(t,n){var e=p(t),r="transform"===e?se:$r;return this.attrTween(t,"function"==typeof n?(e.local?Tr:Lr)(e,r,Er(this,"attr."+t,n)):null==n?(e.local?jr:Or)(e):(e.local?zr:Nr)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=p(t);return this.tween(e,(r.local?Cr:Rr)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?le:$r;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=C(this,t),a=(this.style.removeProperty(t),C(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,Ur(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=C(this,t),u=e(this),c=u+"";return null==u&&(this.style.removeProperty(t),c=u=C(this,t)),a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,u))}}(t,r,Er(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var c=xr(this,t),l=c.on,s=null==c.value[a]?o||(o=Ur(n)):void 0;l===e&&i===s||(r=(e=l).copy()).on(u,i=s),c.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=C(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,Vr(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Er(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,Gr(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Mr(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Sr:Ar)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Br:Fr)(n,t)):Mr(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?qr:Wr)(n,t)):Mr(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Hr(n,t)):Mr(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},c={value:function(){0==--i&&o()}};e.each((function(){var e=xr(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(c)),e.on=n}))}))}};var ei={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function ri(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return ei.time=sr(),ei;return e}function ii(t){return function(){return t}}function oi(t,n,e){this.target=t,this.type=n,this.transform=e}function ai(t,n,e){this.k=t,this.x=n,this.y=e}bt.prototype.interrupt=function(t){return this.each((function(){kr(this,t)}))},bt.prototype.transition=function(t){var n,e;t instanceof Jr?(n=t._id,t=t._name):(n=ti(),(e=ei).time=sr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,l=0;l<c;++l)(a=u[l])&&wr(a,t,n,l,u,e||ri(a,n));return new Jr(r,this._parents,t,n)},ai.prototype={constructor:ai,scale:function(t){return 1===t?this:new ai(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new ai(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ui=new ai(1,0,0);function ci(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ui;return t.__zoom}function li(){ct.stopImmediatePropagation()}function si(){ct.preventDefault(),ct.stopImmediatePropagation()}function fi(){return!ct.ctrlKey&&!ct.button}function hi(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function pi(){return this.__zoom||ui}function di(){return-ct.deltaY*(1===ct.deltaMode?.05:ct.deltaMode?1:.002)}function gi(){return navigator.maxTouchPoints||"ontouchstart"in this}function vi(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function mi(){var t,n,e=fi,r=hi,i=vi,o=di,a=gi,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,s=pe,f=Ue("start","zoom","end"),h=500,p=0;function d(t){t.property("__zoom",pi).on("wheel.zoom",_).on("mousedown.zoom",x).on("dblclick.zoom",M).filter(a).on("touchstart.zoom",k).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,n){return(n=Math.max(u[0],Math.min(u[1],n)))===t.k?t:new ai(n,t.x,t.y)}function v(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new ai(t.k,r,i)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function y(t,n,e){t.on("start.zoom",(function(){b(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=b(t,i),a=r.apply(t,i),u=null==e?m(a):"function"==typeof e?e.apply(t,i):e,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=t.__zoom,f="function"==typeof n?n.apply(t,i):n,h=s(l.invert(u).concat(c/l.k),f.invert(u).concat(c/f.k));return function(t){if(1===t)t=f;else{var n=h(t),e=c/n[2];t=new ai(e,u[0]-n[0]*e,u[1]-n[1]*e)}o.zoom(null,t)}}))}function b(t,n,e){return!e&&t.__zooming||new w(t,n)}function w(t,n){this.that=t,this.args=n,this.active=0,this.extent=r.apply(t,n),this.taps=0}function _(){if(e.apply(this,arguments)){var t=b(this,arguments),n=this.__zoom,r=Math.max(u[0],Math.min(u[1],n.k*Math.pow(2,o.apply(this,arguments)))),a=Mt(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=n.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(n.k===r)return;t.mouse=[a,n.invert(a)],kr(this),t.start()}si(),t.wheel=setTimeout(l,150),t.zoom("mouse",i(v(g(n,r),t.mouse[0],t.mouse[1]),t.extent,c))}function l(){t.wheel=null,t.end()}}function x(){if(!n&&e.apply(this,arguments)){var t=b(this,arguments,!0),r=wt(ct.view).on("mousemove.zoom",l,!0).on("mouseup.zoom",s,!0),o=Mt(this),a=ct.clientX,u=ct.clientY;Je(ct.view),li(),t.mouse=[o,this.__zoom.invert(o)],kr(this),t.start()}function l(){if(si(),!t.moved){var n=ct.clientX-a,e=ct.clientY-u;t.moved=n*n+e*e>p}t.zoom("mouse",i(v(t.that.__zoom,t.mouse[0]=Mt(t.that),t.mouse[1]),t.extent,c))}function s(){r.on("mousemove.zoom mouseup.zoom",null),Qe(ct.view,t.moved),si(),t.end()}}function M(){if(e.apply(this,arguments)){var t=this.__zoom,n=Mt(this),o=t.invert(n),a=t.k*(ct.shiftKey?.5:2),u=i(v(g(t,a),n,o),r.apply(this,arguments),c);si(),l>0?wt(this).transition().duration(l).call(y,u,n):wt(this).call(d.transform,u)}}function k(){if(e.apply(this,arguments)){var n,r,i,o,a=ct.touches,u=a.length,c=b(this,arguments,ct.changedTouches.length===u);for(li(),r=0;r<u;++r)o=[o=kt(this,a,(i=a[r]).identifier),this.__zoom.invert(o),i.identifier],c.touch0?c.touch1||c.touch0[2]===o[2]||(c.touch1=o,c.taps=0):(c.touch0=o,n=!0,c.taps=1+!!t);t&&(t=clearTimeout(t)),n&&(c.taps<2&&(t=setTimeout((function(){t=null}),h)),kr(this),c.start())}}function S(){if(this.__zooming){var n,e,r,o,a=b(this,arguments),u=ct.changedTouches,l=u.length;for(si(),t&&(t=clearTimeout(t)),a.taps=0,n=0;n<l;++n)r=kt(this,u,(e=u[n]).identifier),a.touch0&&a.touch0[2]===e.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===e.identifier&&(a.touch1[0]=r);if(e=a.that.__zoom,a.touch1){var s=a.touch0[0],f=a.touch0[1],h=a.touch1[0],p=a.touch1[1],d=(d=h[0]-s[0])*d+(d=h[1]-s[1])*d,m=(m=p[0]-f[0])*m+(m=p[1]-f[1])*m;e=g(e,Math.sqrt(d/m)),r=[(s[0]+h[0])/2,(s[1]+h[1])/2],o=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(v(e,r,o),a.extent,c))}}function A(){if(this.__zooming){var t,e,r=b(this,arguments),i=ct.changedTouches,o=i.length;for(li(),n&&clearTimeout(n),n=setTimeout((function(){n=null}),h),t=0;t<o;++t)e=i[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=wt(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return d.transform=function(t,n,e){var r=t.selection?t.selection():t;r.property("__zoom",pi),t!==r?y(t,n,e):r.interrupt().each((function(){b(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},d.scaleBy=function(t,n,e){d.scaleTo(t,(function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e}),e)},d.scaleTo=function(t,n,e){d.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==e?m(t):"function"==typeof e?e.apply(this,arguments):e,u=o.invert(a),l="function"==typeof n?n.apply(this,arguments):n;return i(v(g(o,l),a,u),t,c)}),e)},d.translateBy=function(t,n,e){d.transform(t,(function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),r.apply(this,arguments),c)}))},d.translateTo=function(t,n,e,o){d.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,u=null==o?m(t):"function"==typeof o?o.apply(this,arguments):o;return i(ui.translate(u[0],u[1]).scale(a.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,c)}),o)},w.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){!function(t,n,e,r){var i=ct;t.sourceEvent=ct,ct=t;try{n.apply(e,r)}finally{ct=i}}(new oi(d,t,this.that.__zoom),f.apply,f,[t,this.that,this.args])}},d.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:ii(+t),d):o},d.filter=function(t){return arguments.length?(e="function"==typeof t?t:ii(!!t),d):e},d.touchable=function(t){return arguments.length?(a="function"==typeof t?t:ii(!!t),d):a},d.extent=function(t){return arguments.length?(r="function"==typeof t?t:ii([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),d):r},d.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],d):[u[0],u[1]]},d.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],d):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},d.constrain=function(t){return arguments.length?(i=t,d):i},d.duration=function(t){return arguments.length?(l=+t,d):l},d.interpolate=function(t){return arguments.length?(s=t,d):s},d.on=function(){var t=f.on.apply(f,arguments);return t===f?d:t},d.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,d):Math.sqrt(p)},d}function yi(t,n){var e=this.node();return e?e.getBBox?this.attr("transform",(function(e,r){var i="function"==typeof t?t.call(this,e,r):t;return 0===n?i=[i,0]:1===n&&(i=[0,i]),"translate("+i[0]+","+i[1]+")"})):this.style("transform",(function(e,r){var i="function"==typeof t?t.call(this,e,r):t;return 0===n?i=[i,0]:1===n&&(i=[0,i]),"translate("+i[0]+"px,"+i[1]+"px)"})):this}function bi(t){if("string"==typeof t){var n,e={},r=t.split(/([\.#])/g);for(t=r.shift();n=r.shift();)"."==n?e.class=e.class?e.class+" "+r.shift():r.shift():"#"==n&&(e.id=r.shift());return{tag:t,attr:e}}return t}function wi(t){var n,e;"function"==typeof t?n=t:(e=bi(t),n=v(e.tag));var r=this.select((function(){return this.appendChild(n.apply(this,arguments))}));if(e)for(var i in e.attr)r.attr(i,e.attr[i]);return r}function _i(){return null}function xi(t,n){var e=bi(t),r=v(e.tag),i=null==n?_i:"function"==typeof n?n:y(n),o=this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}));for(var a in e.attr)o.attr(a,e.attr[a]);return o}function Mi(){var t=[];return this.filter((function(){return!(t.indexOf(this.parentNode)>-1)&&(t.push(this.parentNode),!0)})).select((function(){return this.parentNode}))}function ki(t){var n,e=y(t),r=bi(t);for(var i in t=v(r.tag),n=this.select((function(){return e.apply(this,arguments)||this.appendChild(t.apply(this,arguments))})),r.attr)n.attr(i,r.attr[i]);return n}function Si(t,n){return this.selectAll("tspan").data((function(n,e){return("function"==typeof t?t.call(this,n,e):t).map((function(t){return{line:t,parent:n}}))})).enter().append("tspan").text((function(t){return t.line})).attr("x",0).attr("dy",(function(t,e){return e?("function"==typeof n?n.call(this,t.parent,t.line,e):n)||15:0}))}function Ai(t,n){if("string"==typeof n){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var e=n;n=t,t=e}return this.selectAll(null).data(n).enter().append(t)}ci.prototype=ai.prototype;var Ei=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;function $i(t,n){if("object"==It(t)){for(var e in t)this.attr(Ei.test(e)?e:e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[e]);return this}return 1==arguments.length?this.attr(t):this.attr(t,n)}function Oi(){for(var t=arguments,n=0,e=t.length;n<e;)"string"!=typeof t[n]&&"number"!=typeof t[n]||(t[n]=function(t){return function(n){return n[t]}}(t[n])),n++;return function(n){for(var e=0,r=t.length;e++<r;)n=t[e-1].call(this,n);return n}}function ji(t,n){if("object"==It(t)){for(var e in t)r(this,e,t[e]);return this}return 1==arguments.length?this.style(t):r(this,t,n);function r(t,n,e){n=n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();return~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width margin-top margin-left margin-bottom margin-right font-size width stroke-width line-height margin padding border border-radius max-width min-width max-height min-height".indexOf(n)?t.style(n,"function"==typeof e?o(e):i(e)):t.style(n,e),t}function i(t){return t.match?t:t+"px"}function o(t){return function(){var n=t.apply(this,arguments);return i(n)}}}Oi.not=function(t){return!t},Oi.run=function(t){return t()},Oi.objToFn=function(t,n){return 1==arguments.length&&(n=void 0),function(e){return void 0!==t[e]?t[e]:n}};var Ni={A:7,a:7,B:8,b:7,C:8,c:6,D:9,d:7,E:7,e:7,F:7,f:4,G:9,g:7,H:9,h:7,I:3,i:3,J:5,j:3,K:8,k:6,L:7,l:3,M:11,m:11,N:9,n:7,O:9,o:7,P:8,p:7,Q:9,q:7,R:8,r:4,S:8,s:6,T:7,t:4,U:9,u:7,V:7,v:6,W:11,w:9,X:7,x:6,Y:7,y:6,Z:7,z:5,".":2,",":2,":":2,";":2};function zi(t,n,e,r){var i,o,a,u,c,l,s=[],f=[],h=[];return(o=t.split(" ")).forEach((function(t,n){var e=t.split("-"),r=n<o.length-1?" ":"";e.length>1?e.forEach((function(t,n){f.push(t+(n<e.length-1?"-":r))})):f.push(t+r)})),a=n||40,u=e||Math.max(3,Math.min(.5*a,.75*f.map((function(t){return t.length})).sort((function(t,n){return t-n}))[Math.round(f.length/2)])),c=a*Ni.a,l=u*Ni.a,i=0,f.forEach((function(t){var n=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o}(t.split("").map(p));return i+n>c&&i>l&&(s.push(h.join("")),h.length=0,i=0),i+=n,h.push(t)})),h.length&&s.push(h.join("")),s.filter((function(t){return""!==t}));function p(t){return!r&&Ni[t]||Ni.a}}function Li(){return new Ti}function Ti(){this.reset()}bt.prototype.translate=yi,Qr.prototype.translate=yi,bt.prototype.append=wi,bt.prototype.insert=xi,bt.prototype.parent=Mi,bt.prototype.selectAppend=ki,bt.prototype.tspans=Si,bt.prototype.appendMany=Ai,bt.prototype.at=$i,bt.prototype.st=ji,Qr.prototype.at=$i,Qr.prototype.st=ji,bt.prototype.prop=bt.prototype.property,Ti.prototype={constructor:Ti,reset:function(){this.s=this.t=0},add:function(t){Di(Pi,t,this.t),Di(this,Pi.s,this.s),this.s?this.t+=Pi.t:this.s=Pi.t},valueOf:function(){return this.s}};var Pi=new Ti;function Di(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var Ci=1e-6,Ri=1e-12,Bi=Math.PI,Fi=Bi/2,qi=Bi/4,Wi=2*Bi,Hi=180/Bi,Yi=Bi/180,Ii=Math.abs,Ui=Math.atan,Xi=Math.atan2,Vi=Math.cos,Zi=Math.ceil,Gi=Math.exp,Ki=Math.log,Ji=Math.pow,Qi=Math.sin,to=Math.sign||function(t){return t>0?1:t<0?-1:0},no=Math.sqrt,eo=Math.tan;function ro(t){return t>1?0:t<-1?Bi:Math.acos(t)}function io(t){return t>1?Fi:t<-1?-Fi:Math.asin(t)}function oo(t){return(t=Qi(t/2))*t}function ao(){}function uo(t,n){t&&lo.hasOwnProperty(t.type)&&lo[t.type](t,n)}var co={Feature:function(t,n){uo(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)uo(e[r].geometry,n)}},lo={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){so(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)so(e[r],n,0)},Polygon:function(t,n){fo(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)fo(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)uo(e[r],n)}};function so(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function fo(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)so(t[e],n,1);n.polygonEnd()}function ho(t,n){t&&co.hasOwnProperty(t.type)?co[t.type](t,n):uo(t,n)}var po,go,vo,mo,yo,bo=Li(),wo=Li(),_o={point:ao,lineStart:ao,lineEnd:ao,polygonStart:function(){bo.reset(),_o.lineStart=xo,_o.lineEnd=Mo},polygonEnd:function(){var t=+bo;wo.add(t<0?Wi+t:t),this.lineStart=this.lineEnd=this.point=ao},sphere:function(){wo.add(Wi)}};function xo(){_o.point=ko}function Mo(){So(po,go)}function ko(t,n){_o.point=So,po=t,go=n,vo=t*=Yi,mo=Vi(n=(n*=Yi)/2+qi),yo=Qi(n)}function So(t,n){var e=(t*=Yi)-vo,r=e>=0?1:-1,i=r*e,o=Vi(n=(n*=Yi)/2+qi),a=Qi(n),u=yo*a,c=mo*o+u*Vi(i),l=u*r*Qi(i);bo.add(Xi(l,c)),vo=t,mo=o,yo=a}function Ao(t){return[Xi(t[1],t[0]),io(t[2])]}function Eo(t){var n=t[0],e=t[1],r=Vi(e);return[r*Vi(n),r*Qi(n),Qi(e)]}function $o(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Oo(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function jo(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function No(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function zo(t){var n=no(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var Lo,To,Po,Do,Co,Ro,Bo,Fo,qo,Wo,Ho,Yo,Io,Uo,Xo,Vo,Zo,Go,Ko,Jo,Qo,ta,na,ea,ra,ia,oa=Li(),aa={point:ua,lineStart:la,lineEnd:sa,polygonStart:function(){aa.point=fa,aa.lineStart=ha,aa.lineEnd=pa,oa.reset(),_o.polygonStart()},polygonEnd:function(){_o.polygonEnd(),aa.point=ua,aa.lineStart=la,aa.lineEnd=sa,bo<0?(Lo=-(Po=180),To=-(Do=90)):oa>Ci?Do=90:oa<-Ci&&(To=-90),Wo[0]=Lo,Wo[1]=Po},sphere:function(){Lo=-(Po=180),To=-(Do=90)}};function ua(t,n){qo.push(Wo=[Lo=t,Po=t]),n<To&&(To=n),n>Do&&(Do=n)}function ca(t,n){var e=Eo([t*Yi,n*Yi]);if(Fo){var r=Oo(Fo,e),i=Oo([r[1],-r[0],0],r);zo(i),i=Ao(i);var o,a=t-Co,u=a>0?1:-1,c=i[0]*Hi*u,l=Ii(a)>180;l^(u*Co<c&&c<u*t)?(o=i[1]*Hi)>Do&&(Do=o):l^(u*Co<(c=(c+360)%360-180)&&c<u*t)?(o=-i[1]*Hi)<To&&(To=o):(n<To&&(To=n),n>Do&&(Do=n)),l?t<Co?da(Lo,t)>da(Lo,Po)&&(Po=t):da(t,Po)>da(Lo,Po)&&(Lo=t):Po>=Lo?(t<Lo&&(Lo=t),t>Po&&(Po=t)):t>Co?da(Lo,t)>da(Lo,Po)&&(Po=t):da(t,Po)>da(Lo,Po)&&(Lo=t)}else qo.push(Wo=[Lo=t,Po=t]);n<To&&(To=n),n>Do&&(Do=n),Fo=e,Co=t}function la(){aa.point=ca}function sa(){Wo[0]=Lo,Wo[1]=Po,aa.point=ua,Fo=null}function fa(t,n){if(Fo){var e=t-Co;oa.add(Ii(e)>180?e+(e>0?360:-360):e)}else Ro=t,Bo=n;_o.point(t,n),ca(t,n)}function ha(){_o.lineStart()}function pa(){fa(Ro,Bo),_o.lineEnd(),Ii(oa)>Ci&&(Lo=-(Po=180)),Wo[0]=Lo,Wo[1]=Po,Fo=null}function da(t,n){return(n-=t)<0?n+360:n}function ga(t,n){return t[0]-n[0]}function va(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var ma={sphere:ao,point:ya,lineStart:wa,lineEnd:Ma,polygonStart:function(){ma.lineStart=ka,ma.lineEnd=Sa},polygonEnd:function(){ma.lineStart=wa,ma.lineEnd=Ma}};function ya(t,n){t*=Yi;var e=Vi(n*=Yi);ba(e*Vi(t),e*Qi(t),Qi(n))}function ba(t,n,e){++Ho,Io+=(t-Io)/Ho,Uo+=(n-Uo)/Ho,Xo+=(e-Xo)/Ho}function wa(){ma.point=_a}function _a(t,n){t*=Yi;var e=Vi(n*=Yi);ea=e*Vi(t),ra=e*Qi(t),ia=Qi(n),ma.point=xa,ba(ea,ra,ia)}function xa(t,n){t*=Yi;var e=Vi(n*=Yi),r=e*Vi(t),i=e*Qi(t),o=Qi(n),a=Xi(no((a=ra*o-ia*i)*a+(a=ia*r-ea*o)*a+(a=ea*i-ra*r)*a),ea*r+ra*i+ia*o);Yo+=a,Vo+=a*(ea+(ea=r)),Zo+=a*(ra+(ra=i)),Go+=a*(ia+(ia=o)),ba(ea,ra,ia)}function Ma(){ma.point=ya}function ka(){ma.point=Aa}function Sa(){Ea(ta,na),ma.point=ya}function Aa(t,n){ta=t,na=n,t*=Yi,n*=Yi,ma.point=Ea;var e=Vi(n);ea=e*Vi(t),ra=e*Qi(t),ia=Qi(n),ba(ea,ra,ia)}function Ea(t,n){t*=Yi;var e=Vi(n*=Yi),r=e*Vi(t),i=e*Qi(t),o=Qi(n),a=ra*o-ia*i,u=ia*r-ea*o,c=ea*i-ra*r,l=no(a*a+u*u+c*c),s=io(l),f=l&&-s/l;Ko+=f*a,Jo+=f*u,Qo+=f*c,Yo+=s,Vo+=s*(ea+(ea=r)),Zo+=s*(ra+(ra=i)),Go+=s*(ia+(ia=o)),ba(ea,ra,ia)}function $a(t){return function(){return t}}function Oa(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function ja(t,n){return[Ii(t)>Bi?t+Math.round(-t/Wi)*Wi:t,n]}function Na(t,n,e){return(t%=Wi)?n||e?Oa(La(t),Ta(n,e)):La(t):n||e?Ta(n,e):ja}function za(t){return function(n,e){return[(n+=t)>Bi?n-Wi:n<-Bi?n+Wi:n,e]}}function La(t){var n=za(t);return n.invert=za(-t),n}function Ta(t,n){var e=Vi(t),r=Qi(t),i=Vi(n),o=Qi(n);function a(t,n){var a=Vi(n),u=Vi(t)*a,c=Qi(t)*a,l=Qi(n),s=l*e+u*r;return[Xi(c*i-s*o,u*e-l*r),io(s*i+c*o)]}return a.invert=function(t,n){var a=Vi(n),u=Vi(t)*a,c=Qi(t)*a,l=Qi(n),s=l*i-c*o;return[Xi(c*i+l*o,u*e+s*r),io(s*e-u*r)]},a}function Pa(t){function n(n){return(n=t(n[0]*Yi,n[1]*Yi))[0]*=Hi,n[1]*=Hi,n}return t=Na(t[0]*Yi,t[1]*Yi,t.length>2?t[2]*Yi:0),n.invert=function(n){return(n=t.invert(n[0]*Yi,n[1]*Yi))[0]*=Hi,n[1]*=Hi,n},n}function Da(t,n,e,r,i,o){if(e){var a=Vi(n),u=Qi(n),c=r*e;null==i?(i=n+r*Wi,o=n-c/2):(i=Ca(a,i),o=Ca(a,o),(r>0?i<o:i>o)&&(i+=r*Wi));for(var l,s=i;r>0?s>o:s<o;s-=c)l=Ao([a,-u*Vi(s),-u*Qi(s)]),t.point(l[0],l[1])}}function Ca(t,n){(n=Eo(n))[0]-=t,zo(n);var e=ro(-n[1]);return((-n[2]<0?-e:e)+Wi-Ci)%Wi}function Ra(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:ao,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Ba(t,n){return Ii(t[0]-n[0])<Ci&&Ii(t[1]-n[1])<Ci}function Fa(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function qa(t,n,e,r,i){var o,a,u=[],c=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(Ba(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}u.push(e=new Fa(r,t,null,!0)),c.push(e.o=new Fa(r,null,e,!1)),u.push(e=new Fa(a,t,null,!1)),c.push(e.o=new Fa(a,null,e,!0))}})),u.length){for(c.sort(n),Wa(u),Wa(c),o=0,a=c.length;o<a;++o)c[o].e=e=!e;for(var l,s,f=u[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=l.length;o<a;++o)i.point((s=l[o])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(l=h.p.z,o=l.length-1;o>=0;--o)i.point((s=l[o])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}l=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function Wa(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}ja.invert=ja;var Ha=Li();function Ya(t){return Ii(t[0])<=Bi?t[0]:to(t[0])*((Ii(t[0])+Bi)%Wi-Bi)}function Ia(t,n){var e=Ya(n),r=n[1],i=Qi(r),o=[Qi(e),-Vi(e),0],a=0,u=0;Ha.reset(),1===i?r=Fi+Ci:-1===i&&(r=-Fi-Ci);for(var c=0,l=t.length;c<l;++c)if(f=(s=t[c]).length)for(var s,f,h=s[f-1],p=Ya(h),d=h[1]/2+qi,g=Qi(d),v=Vi(d),m=0;m<f;++m,p=b,g=_,v=x,h=y){var y=s[m],b=Ya(y),w=y[1]/2+qi,_=Qi(w),x=Vi(w),M=b-p,k=M>=0?1:-1,S=k*M,A=S>Bi,E=g*_;if(Ha.add(Xi(E*k*Qi(S),v*x+E*Vi(S))),a+=A?M+k*Wi:M,A^p>=e^b>=e){var $=Oo(Eo(h),Eo(y));zo($);var O=Oo(o,$);zo(O);var j=(A^M>=0?-1:1)*io(O[2]);(r>j||r===j&&($[0]||$[1]))&&(u+=A^M>=0?1:-1)}}return(a<-Ci||a<Ci&&Ha<-Ci)^1&u}function Ua(t,n,e,r){return function(i){var o,a,u,c=n(i),l=Ra(),s=n(l),f=!1,h={point:p,lineStart:g,lineEnd:v,polygonStart:function(){h.point=m,h.lineStart=y,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=v,a=zt(a);var t=Ia(o,r);a.length?(f||(i.polygonStart(),f=!0),qa(a,Va,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(n,e){t(n,e)&&i.point(n,e)}function d(t,n){c.point(t,n)}function g(){h.point=d,c.lineStart()}function v(){h.point=p,c.lineEnd()}function m(t,n){u.push([t,n]),s.point(t,n)}function y(){s.lineStart(),u=[]}function b(){m(u[0][0],u[0][1]),s.lineEnd();var t,n,e,r,c=s.clean(),h=l.result(),p=h.length;if(u.pop(),o.push(u),u=null,p)if(1&c){if((n=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else p>1&&2&c&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Xa))}return h}}function Xa(t){return t.length>1}function Va(t,n){return((t=t.x)[0]<0?t[1]-Fi-Ci:Fi-t[1])-((n=n.x)[0]<0?n[1]-Fi-Ci:Fi-n[1])}var Za=Ua((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?Bi:-Bi,c=Ii(o-e);Ii(c-Bi)<Ci?(t.point(e,r=(r+a)/2>0?Fi:-Fi),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&c>=Bi&&(Ii(e-i)<Ci&&(e-=i*Ci),Ii(o-u)<Ci&&(o-=u*Ci),r=function(t,n,e,r){var i,o,a=Qi(t-e);return Ii(a)>Ci?Ui((Qi(n)*(o=Vi(r))*Qi(e)-Qi(r)*(i=Vi(n))*Qi(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*Fi,r.point(-Bi,i),r.point(0,i),r.point(Bi,i),r.point(Bi,0),r.point(Bi,-i),r.point(0,-i),r.point(-Bi,-i),r.point(-Bi,0),r.point(-Bi,i);else if(Ii(t[0]-n[0])>Ci){var o=t[0]<n[0]?Bi:-Bi;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-Bi,-Fi]);function Ga(t){var n=Vi(t),e=6*Yi,r=n>0,i=Ii(n)>Ci;function o(t,e){return Vi(t)*Vi(e)>n}function a(t,e,r){var i=[1,0,0],o=Oo(Eo(t),Eo(e)),a=$o(o,o),u=o[0],c=a-u*u;if(!c)return!r&&t;var l=n*a/c,s=-n*u/c,f=Oo(i,o),h=No(i,l);jo(h,No(o,s));var p=f,d=$o(h,p),g=$o(p,p),v=d*d-g*($o(h,h)-1);if(!(v<0)){var m=no(v),y=No(p,(-d-m)/g);if(jo(y,h),y=Ao(y),!r)return y;var b,w=t[0],_=e[0],x=t[1],M=e[1];_<w&&(b=w,w=_,_=b);var k=_-w,S=Ii(k-Bi)<Ci;if(!S&&M<x&&(b=x,x=M,M=b),S||k<Ci?S?x+M>0^y[1]<(Ii(y[0]-w)<Ci?x:M):x<=y[1]&&y[1]<=M:k>Bi^(w<=y[0]&&y[0]<=_)){var A=No(p,(-d+m)/g);return jo(A,h),[y,Ao(A)]}}}function u(n,e){var i=r?t:Bi-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Ua(o,(function(t){var n,e,c,l,s;return{lineStart:function(){l=c=!1,s=1},point:function(f,h){var p,d=[f,h],g=o(f,h),v=r?g?0:u(f,h):g?u(f+(f<0?Bi:-Bi),h):0;if(!n&&(l=c=g)&&t.lineStart(),g!==c&&(!(p=a(n,d))||Ba(n,p)||Ba(d,p))&&(d[2]=1),g!==c)s=0,g?(t.lineStart(),p=a(d,n),t.point(p[0],p[1])):(p=a(n,d),t.point(p[0],p[1],2),t.lineEnd()),n=p;else if(i&&n&&r^g){var m;v&e||!(m=a(d,n,!0))||(s=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1],3)))}!g||n&&Ba(n,d)||t.point(d[0],d[1]),n=d,c=g,e=v},lineEnd:function(){c&&t.lineEnd(),n=null},clean:function(){return s|(l&&c)<<1}}}),(function(n,r,i,o){Da(o,t,e,i,n,r)}),r?[0,-t]:[-Bi,t-Bi])}var Ka=1e9,Ja=-Ka;function Qa(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,l){var s=0,f=0;if(null==i||(s=a(i,u))!==(f=a(o,u))||c(i,o)<0^u>0)do{l.point(0===s||3===s?t:e,s>1?r:n)}while((s=(s+u+4)%4)!==f);else l.point(o[0],o[1])}function a(r,i){return Ii(r[0]-t)<Ci?i>0?0:3:Ii(r[0]-e)<Ci?i>0?2:1:Ii(r[1]-n)<Ci?i>0?1:0:i>0?3:2}function u(t,n){return c(t.x,n.x)}function c(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var c,l,s,f,h,p,d,g,v,m,y,b=a,w=Ra(),_={point:x,lineStart:function(){_.point=M,l&&l.push(s=[]);m=!0,v=!1,d=g=NaN},lineEnd:function(){c&&(M(f,h),p&&v&&w.rejoin(),c.push(w.result()));_.point=x,v&&b.lineEnd()},polygonStart:function(){b=w,c=[],l=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=l.length;e<i;++e)for(var o,a,u=l[e],c=1,s=u.length,f=u[0],h=f[0],p=f[1];c<s;++c)o=h,a=p,h=(f=u[c])[0],p=f[1],a<=r?p>r&&(h-o)*(r-a)>(p-a)*(t-o)&&++n:p<=r&&(h-o)*(r-a)<(p-a)*(t-o)&&--n;return n}(),e=y&&n,i=(c=zt(c)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&qa(c,u,n,o,a),a.polygonEnd());b=a,c=l=s=null}};function x(t,n){i(t,n)&&b.point(t,n)}function M(o,a){var u=i(o,a);if(l&&s.push([o,a]),m)f=o,h=a,p=u,m=!1,u&&(b.lineStart(),b.point(o,a));else if(u&&v)b.point(o,a);else{var c=[d=Math.max(Ja,Math.min(Ka,d)),g=Math.max(Ja,Math.min(Ka,g))],w=[o=Math.max(Ja,Math.min(Ka,o)),a=Math.max(Ja,Math.min(Ka,a))];!function(t,n,e,r,i,o){var a,u=t[0],c=t[1],l=0,s=1,f=n[0]-u,h=n[1]-c;if(a=e-u,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<s&&(s=a)}else if(f>0){if(a>s)return;a>l&&(l=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>s)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<s&&(s=a)}if(a=r-c,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<s&&(s=a)}else if(h>0){if(a>s)return;a>l&&(l=a)}if(a=o-c,h||!(a<0)){if(a/=h,h<0){if(a>s)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<s&&(s=a)}return l>0&&(t[0]=u+l*f,t[1]=c+l*h),s<1&&(n[0]=u+s*f,n[1]=c+s*h),!0}}}}}(c,w,t,n,e,r)?u&&(b.lineStart(),b.point(o,a),y=!1):(v||(b.lineStart(),b.point(c[0],c[1])),b.point(w[0],w[1]),u||b.lineEnd(),y=!1)}d=o,g=a,v=u}return _}}var tu,nu,eu,ru=Li(),iu={sphere:ao,point:ao,lineStart:function(){iu.point=au,iu.lineEnd=ou},lineEnd:ao,polygonStart:ao,polygonEnd:ao};function ou(){iu.point=iu.lineEnd=ao}function au(t,n){tu=t*=Yi,nu=Qi(n*=Yi),eu=Vi(n),iu.point=uu}function uu(t,n){t*=Yi;var e=Qi(n*=Yi),r=Vi(n),i=Ii(t-tu),o=Vi(i),a=r*Qi(i),u=eu*e-nu*r*o,c=nu*e+eu*r*o;ru.add(Xi(no(a*a+u*u),c)),tu=t,nu=e,eu=r}function cu(t){return ru.reset(),ho(t,iu),+ru}var lu=[null,null],su={type:"LineString",coordinates:lu};function fu(t,n){return lu[0]=t,lu[1]=n,cu(su)}var hu={Feature:function(t,n){return du(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(du(e[r].geometry,n))return!0;return!1}},pu={Sphere:function(){return!0},Point:function(t,n){return gu(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(gu(e[r],n))return!0;return!1},LineString:function(t,n){return vu(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(vu(e[r],n))return!0;return!1},Polygon:function(t,n){return mu(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(mu(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(du(e[r],n))return!0;return!1}};function du(t,n){return!(!t||!pu.hasOwnProperty(t.type))&&pu[t.type](t,n)}function gu(t,n){return 0===fu(t,n)}function vu(t,n){for(var e,r,i,o=0,a=t.length;o<a;o++){if(0===(r=fu(t[o],n)))return!0;if(o>0&&(i=fu(t[o],t[o-1]))>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<Ri*i)return!0;e=r}return!1}function mu(t,n){return!!Ia(t.map(yu),bu(n))}function yu(t){return(t=t.map(bu)).pop(),t}function bu(t){return[t[0]*Yi,t[1]*Yi]}function wu(t,n,e){var r=Et(t,n-Ci,e).concat(n);return function(t){return r.map((function(n){return[t,n]}))}}function _u(t,n,e){var r=Et(t,n-Ci,e).concat(n);return function(t){return r.map((function(n){return[n,t]}))}}function xu(){var t,n,e,r,i,o,a,u,c,l,s,f,h=10,p=h,d=90,g=360,v=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return Et(Zi(r/d)*d,e,d).map(s).concat(Et(Zi(u/g)*g,a,g).map(f)).concat(Et(Zi(n/h)*h,t,h).filter((function(t){return Ii(t%d)>Ci})).map(c)).concat(Et(Zi(o/p)*p,i,p).filter((function(t){return Ii(t%g)>Ci})).map(l))}return m.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},m.outline=function(){return{type:"Polygon",coordinates:[s(r).concat(f(a).slice(1),s(e).reverse().slice(1),f(u).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],u=+t[0][1],a=+t[1][1],r>e&&(t=r,r=e,e=t),u>a&&(t=u,u=a,a=t),m.precision(v)):[[r,u],[e,a]]},m.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),m.precision(v)):[[n,o],[t,i]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(d=+t[0],g=+t[1],m):[d,g]},m.stepMinor=function(t){return arguments.length?(h=+t[0],p=+t[1],m):[h,p]},m.precision=function(h){return arguments.length?(v=+h,c=wu(o,i,90),l=_u(n,t,v),s=wu(u,a,90),f=_u(r,e,v),m):v},m.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Mu(t){return t}var ku,Su,Au,Eu,$u=Li(),Ou=Li(),ju={point:ao,lineStart:ao,lineEnd:ao,polygonStart:function(){ju.lineStart=Nu,ju.lineEnd=Tu},polygonEnd:function(){ju.lineStart=ju.lineEnd=ju.point=ao,$u.add(Ii(Ou)),Ou.reset()},result:function(){var t=$u/2;return $u.reset(),t}};function Nu(){ju.point=zu}function zu(t,n){ju.point=Lu,ku=Au=t,Su=Eu=n}function Lu(t,n){Ou.add(Eu*t-Au*n),Au=t,Eu=n}function Tu(){Lu(ku,Su)}var Pu=1/0,Du=Pu,Cu=-Pu,Ru=Cu,Bu={point:function(t,n){t<Pu&&(Pu=t);t>Cu&&(Cu=t);n<Du&&(Du=n);n>Ru&&(Ru=n)},lineStart:ao,lineEnd:ao,polygonStart:ao,polygonEnd:ao,result:function(){var t=[[Pu,Du],[Cu,Ru]];return Cu=Ru=-(Du=Pu=1/0),t}};var Fu,qu,Wu,Hu,Yu=0,Iu=0,Uu=0,Xu=0,Vu=0,Zu=0,Gu=0,Ku=0,Ju=0,Qu={point:tc,lineStart:nc,lineEnd:ic,polygonStart:function(){Qu.lineStart=oc,Qu.lineEnd=ac},polygonEnd:function(){Qu.point=tc,Qu.lineStart=nc,Qu.lineEnd=ic},result:function(){var t=Ju?[Gu/Ju,Ku/Ju]:Zu?[Xu/Zu,Vu/Zu]:Uu?[Yu/Uu,Iu/Uu]:[NaN,NaN];return Yu=Iu=Uu=Xu=Vu=Zu=Gu=Ku=Ju=0,t}};function tc(t,n){Yu+=t,Iu+=n,++Uu}function nc(){Qu.point=ec}function ec(t,n){Qu.point=rc,tc(Wu=t,Hu=n)}function rc(t,n){var e=t-Wu,r=n-Hu,i=no(e*e+r*r);Xu+=i*(Wu+t)/2,Vu+=i*(Hu+n)/2,Zu+=i,tc(Wu=t,Hu=n)}function ic(){Qu.point=tc}function oc(){Qu.point=uc}function ac(){cc(Fu,qu)}function uc(t,n){Qu.point=cc,tc(Fu=Wu=t,qu=Hu=n)}function cc(t,n){var e=t-Wu,r=n-Hu,i=no(e*e+r*r);Xu+=i*(Wu+t)/2,Vu+=i*(Hu+n)/2,Zu+=i,Gu+=(i=Hu*t-Wu*n)*(Wu+t),Ku+=i*(Hu+n),Ju+=3*i,tc(Wu=t,Hu=n)}function lc(t){this._context=t}lc.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Wi)}},result:ao};var sc,fc,hc,pc,dc,gc=Li(),vc={point:ao,lineStart:function(){vc.point=mc},lineEnd:function(){sc&&yc(fc,hc),vc.point=ao},polygonStart:function(){sc=!0},polygonEnd:function(){sc=null},result:function(){var t=+gc;return gc.reset(),t}};function mc(t,n){vc.point=yc,fc=pc=t,hc=dc=n}function yc(t,n){pc-=t,dc-=n,gc.add(no(pc*pc+dc*dc)),pc=t,dc=n}function bc(){this._string=[]}function wc(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function _c(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),ho(t,e(r))),r.result()}return o.area=function(t){return ho(t,e(ju)),ju.result()},o.measure=function(t){return ho(t,e(vc)),vc.result()},o.bounds=function(t){return ho(t,e(Bu)),Bu.result()},o.centroid=function(t){return ho(t,e(Qu)),Qu.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,Mu):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new bc):new lc(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)}function xc(t){return{stream:Mc(t)}}function Mc(t){return function(n){var e=new kc;for(var r in t)e[r]=t[r];return e.stream=n,e}}function kc(){}function Sc(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),ho(e,t.stream(Bu)),n(Bu.result()),null!=r&&t.clipExtent(r),t}function Ac(t,n,e){return Sc(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])}),e)}function Ec(t,n,e){return Ac(t,[[0,0],n],e)}function $c(t,n,e){return Sc(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])}),e)}function Oc(t,n,e){return Sc(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])}),e)}bc.prototype={_radius:4.5,_circle:wc(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=wc(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},kc.prototype={constructor:kc,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var jc=Vi(30*Yi);function Nc(t,n){return+n?function(t,n){function e(r,i,o,a,u,c,l,s,f,h,p,d,g,v){var m=l-r,y=s-i,b=m*m+y*y;if(b>4*n&&g--){var w=a+h,_=u+p,x=c+d,M=no(w*w+_*_+x*x),k=io(x/=M),S=Ii(Ii(x)-1)<Ci||Ii(o-f)<Ci?(o+f)/2:Xi(_,w),A=t(S,k),E=A[0],$=A[1],O=E-r,j=$-i,N=y*O-m*j;(N*N/b>n||Ii((m*O+y*j)/b-.5)>.3||a*h+u*p+c*d<jc)&&(e(r,i,o,a,u,c,E,$,S,w/=M,_/=M,x,g,v),v.point(E,$),e(E,$,S,w,_,x,l,s,f,h,p,d,g,v))}}return function(n){var r,i,o,a,u,c,l,s,f,h,p,d,g={point:v,lineStart:m,lineEnd:b,polygonStart:function(){n.polygonStart(),g.lineStart=w},polygonEnd:function(){n.polygonEnd(),g.lineStart=m}};function v(e,r){e=t(e,r),n.point(e[0],e[1])}function m(){s=NaN,g.point=y,n.lineStart()}function y(r,i){var o=Eo([r,i]),a=t(r,i);e(s,f,l,h,p,d,s=a[0],f=a[1],l=r,h=o[0],p=o[1],d=o[2],16,n),n.point(s,f)}function b(){g.point=v,n.lineEnd()}function w(){m(),g.point=_,g.lineEnd=x}function _(t,n){y(r=t,n),i=s,o=f,a=h,u=p,c=d,g.point=y}function x(){e(s,f,l,h,p,d,i,o,r,a,u,c,16,n),g.lineEnd=b,b()}return g}}(t,n):function(t){return Mc({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var zc=Mc({point:function(t,n){this.stream.point(t*Yi,n*Yi)}});function Lc(t,n,e,r,i){function o(o,a){return[n+t*(o*=r),e-t*(a*=i)]}return o.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},o}function Tc(t,n,e,r,i,o){var a=Vi(o),u=Qi(o),c=a*t,l=u*t,s=a/t,f=u/t,h=(u*e-a*n)/t,p=(u*n+a*e)/t;function d(t,o){return[c*(t*=r)-l*(o*=i)+n,e-l*t-c*o]}return d.invert=function(t,n){return[r*(s*t-f*n+h),i*(p-f*t-s*n)]},d}function Pc(t){return Dc((function(){return t}))()}function Dc(t){var n,e,r,i,o,a,u,c,l,s,f=150,h=480,p=250,d=0,g=0,v=0,m=0,y=0,b=0,w=1,_=1,x=null,M=Za,k=null,S=Mu,A=.5;function E(t){return c(t[0]*Yi,t[1]*Yi)}function $(t){return(t=c.invert(t[0],t[1]))&&[t[0]*Hi,t[1]*Hi]}function O(){var t=Tc(f,0,0,w,_,b).apply(null,n(d,g)),r=(b?Tc:Lc)(f,h-t[0],p-t[1],w,_,b);return e=Na(v,m,y),u=Oa(n,r),c=Oa(e,u),a=Nc(u,A),j()}function j(){return l=s=null,E}return E.stream=function(t){return l&&s===t?l:l=zc(function(t){return Mc({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(M(a(S(s=t)))))},E.preclip=function(t){return arguments.length?(M=t,x=void 0,j()):M},E.postclip=function(t){return arguments.length?(S=t,k=r=i=o=null,j()):S},E.clipAngle=function(t){return arguments.length?(M=+t?Ga(x=t*Yi):(x=null,Za),j()):x*Hi},E.clipExtent=function(t){return arguments.length?(S=null==t?(k=r=i=o=null,Mu):Qa(k=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),j()):null==k?null:[[k,r],[i,o]]},E.scale=function(t){return arguments.length?(f=+t,O()):f},E.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],O()):[h,p]},E.center=function(t){return arguments.length?(d=t[0]%360*Yi,g=t[1]%360*Yi,O()):[d*Hi,g*Hi]},E.rotate=function(t){return arguments.length?(v=t[0]%360*Yi,m=t[1]%360*Yi,y=t.length>2?t[2]%360*Yi:0,O()):[v*Hi,m*Hi,y*Hi]},E.angle=function(t){return arguments.length?(b=t%360*Yi,O()):b*Hi},E.reflectX=function(t){return arguments.length?(w=t?-1:1,O()):w<0},E.reflectY=function(t){return arguments.length?(_=t?-1:1,O()):_<0},E.precision=function(t){return arguments.length?(a=Nc(u,A=t*t),j()):no(A)},E.fitExtent=function(t,n){return Ac(E,t,n)},E.fitSize=function(t,n){return Ec(E,t,n)},E.fitWidth=function(t,n){return $c(E,t,n)},E.fitHeight=function(t,n){return Oc(E,t,n)},function(){return n=t.apply(this,arguments),E.invert=n.invert&&$,O()}}function Cc(t){var n=0,e=Bi/3,r=Dc(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*Yi,e=t[1]*Yi):[n*Hi,e*Hi]},i}function Rc(t,n){var e=Qi(t),r=(e+Qi(n))/2;if(Ii(r)<Ci)return function(t){var n=Vi(t);function e(t,e){return[t*n,Qi(e)/n]}return e.invert=function(t,e){return[t/n,io(e*n)]},e}(t);var i=1+e*(2*r-e),o=no(i)/r;function a(t,n){var e=no(i-2*r*Qi(n))/r;return[e*Qi(t*=r),o-e*Vi(t)]}return a.invert=function(t,n){var e=o-n,a=Xi(t,Ii(e))*to(e);return e*r<0&&(a-=Bi*to(t)*to(e)),[a/r,io((i-(t*t+e*e)*r*r)/(2*r))]},a}function Bc(){return Cc(Rc).scale(155.424).center([0,33.6442])}function Fc(){return Bc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function qc(t){return function(n,e){var r=Vi(n),i=Vi(e),o=t(r*i);return[o*i*Qi(n),o*Qi(e)]}}function Wc(t){return function(n,e){var r=no(n*n+e*e),i=t(r),o=Qi(i),a=Vi(i);return[Xi(n*o,r*a),io(r&&e*o/r)]}}var Hc=qc((function(t){return no(2/(1+t))}));Hc.invert=Wc((function(t){return 2*io(t/2)}));var Yc=qc((function(t){return(t=ro(t))&&t/Qi(t)}));function Ic(t,n){return[t,Ki(eo((Fi+n)/2))]}function Uc(t){var n,e,r,i=Pc(t),o=i.center,a=i.scale,u=i.translate,c=i.clipExtent,l=null;function s(){var o=Bi*a(),u=i(Pa(i.rotate()).invert([0,0]));return c(null==l?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===Ic?[[Math.max(u[0]-o,l),n],[Math.min(u[0]+o,e),r]]:[[l,Math.max(u[1]-o,n)],[e,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),s()):a()},i.translate=function(t){return arguments.length?(u(t),s()):u()},i.center=function(t){return arguments.length?(o(t),s()):o()},i.clipExtent=function(t){return arguments.length?(null==t?l=n=e=r=null:(l=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),s()):null==l?null:[[l,n],[e,r]]},s()}function Xc(t){return eo((Fi+t)/2)}function Vc(t,n){var e=Vi(t),r=t===n?Qi(t):Ki(e/Vi(n))/Ki(Xc(n)/Xc(t)),i=e*Ji(Xc(t),r)/r;if(!r)return Ic;function o(t,n){i>0?n<-Fi+Ci&&(n=-Fi+Ci):n>Fi-Ci&&(n=Fi-Ci);var e=i/Ji(Xc(n),r);return[e*Qi(r*t),i-e*Vi(r*t)]}return o.invert=function(t,n){var e=i-n,o=to(r)*no(t*t+e*e),a=Xi(t,Ii(e))*to(e);return e*r<0&&(a-=Bi*to(t)*to(e)),[a/r,2*Ui(Ji(i/o,1/r))-Fi]},o}function Zc(t,n){return[t,n]}function Gc(t,n){var e=Vi(t),r=t===n?Qi(t):(e-Vi(n))/(n-t),i=e/r+t;if(Ii(r)<Ci)return Zc;function o(t,n){var e=i-n,o=r*t;return[e*Qi(o),i-e*Vi(o)]}return o.invert=function(t,n){var e=i-n,o=Xi(t,Ii(e))*to(e);return e*r<0&&(o-=Bi*to(t)*to(e)),[o/r,i-to(r)*no(t*t+e*e)]},o}Yc.invert=Wc((function(t){return t})),Ic.invert=function(t,n){return[t,2*Ui(Gi(n))-Fi]},Zc.invert=Zc;var Kc=1.340264,Jc=-.081106,Qc=893e-6,tl=.003796,nl=no(3)/2;function el(t,n){var e=io(nl*Qi(n)),r=e*e,i=r*r*r;return[t*Vi(e)/(nl*(Kc+3*Jc*r+i*(7*Qc+9*tl*r))),e*(Kc+Jc*r+i*(Qc+tl*r))]}function rl(t,n){var e=Vi(n),r=Vi(t)*e;return[e*Qi(t)/r,Qi(n)/r]}function il(){var t,n,e,r,i,o,a,u=1,c=0,l=0,s=1,f=1,h=0,p=null,d=1,g=1,v=Mc({point:function(t,n){var e=b([t,n]);this.stream.point(e[0],e[1])}}),m=Mu;function y(){return d=u*s,g=u*f,o=a=null,b}function b(e){var r=e[0]*d,i=e[1]*g;if(h){var o=i*t-r*n;r=r*t+i*n,i=o}return[r+c,i+l]}return b.invert=function(e){var r=e[0]-c,i=e[1]-l;if(h){var o=i*t+r*n;r=r*t-i*n,i=o}return[r/d,i/g]},b.stream=function(t){return o&&a===t?o:o=v(m(a=t))},b.postclip=function(t){return arguments.length?(m=t,p=e=r=i=null,y()):m},b.clipExtent=function(t){return arguments.length?(m=null==t?(p=e=r=i=null,Mu):Qa(p=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),y()):null==p?null:[[p,e],[r,i]]},b.scale=function(t){return arguments.length?(u=+t,y()):u},b.translate=function(t){return arguments.length?(c=+t[0],l=+t[1],y()):[c,l]},b.angle=function(e){return arguments.length?(n=Qi(h=e%360*Yi),t=Vi(h),y()):h*Hi},b.reflectX=function(t){return arguments.length?(s=t?-1:1,y()):s<0},b.reflectY=function(t){return arguments.length?(f=t?-1:1,y()):f<0},b.fitExtent=function(t,n){return Ac(b,t,n)},b.fitSize=function(t,n){return Ec(b,t,n)},b.fitWidth=function(t,n){return $c(b,t,n)},b.fitHeight=function(t,n){return Oc(b,t,n)},b}function ol(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function al(t,n){return[Vi(n)*Qi(t),Qi(n)]}function ul(t,n){var e=Vi(n),r=1+Vi(t)*e;return[e*Qi(t)/r,Qi(n)/r]}function cl(t,n){return[Ki(eo((Fi+n)/2)),-t]}el.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=e=(r*(Kc+Jc*i+o*(Qc+tl*i))-n)/(Kc+3*Jc*i+o*(7*Qc+9*tl*i)))*r)*i*i,!(Ii(e)<Ri));++a);return[nl*t*(Kc+3*Jc*i+o*(7*Qc+9*tl*i))/Vi(r),io(Qi(r)/nl)]},rl.invert=Wc(Ui),ol.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Ii(e)>Ci&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},al.invert=Wc(io),ul.invert=Wc((function(t){return 2*Ui(t)})),cl.invert=function(t,n){return[-n,2*Ui(Gi(t))-Fi]};var ll=Object.freeze({__proto__:null,geoArea:function(t){return wo.reset(),ho(t,_o),2*wo},geoBounds:function(t){var n,e,r,i,o,a,u;if(Do=Po=-(Lo=To=1/0),qo=[],ho(t,aa),e=qo.length){for(qo.sort(ga),n=1,o=[r=qo[0]];n<e;++n)va(r,(i=qo[n])[0])||va(r,i[1])?(da(r[0],i[1])>da(r[0],r[1])&&(r[1]=i[1]),da(i[0],r[1])>da(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(u=da(r[1],i[0]))>a&&(a=u,Lo=i[0],Po=r[1])}return qo=Wo=null,Lo===1/0||To===1/0?[[NaN,NaN],[NaN,NaN]]:[[Lo,To],[Po,Do]]},geoCentroid:function(t){Ho=Yo=Io=Uo=Xo=Vo=Zo=Go=Ko=Jo=Qo=0,ho(t,ma);var n=Ko,e=Jo,r=Qo,i=n*n+e*e+r*r;return i<Ri&&(n=Vo,e=Zo,r=Go,Yo<Ci&&(n=Io,e=Uo,r=Xo),(i=n*n+e*e+r*r)<Ri)?[NaN,NaN]:[Xi(e,n)*Hi,io(r/no(i))*Hi]},geoCircle:function(){var t,n,e=$a([0,0]),r=$a(90),i=$a(6),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=Hi,e[1]*=Hi}};function a(){var a=e.apply(this,arguments),u=r.apply(this,arguments)*Yi,c=i.apply(this,arguments)*Yi;return t=[],n=Na(-a[0]*Yi,-a[1]*Yi,0).invert,Da(o,u,c,1),a={type:"Polygon",coordinates:[t]},t=n=null,a}return a.center=function(t){return arguments.length?(e="function"==typeof t?t:$a([+t[0],+t[1]]),a):e},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:$a(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:$a(+t),a):i},a},geoClipAntimeridian:Za,geoClipCircle:Ga,geoClipExtent:function(){var t,n,e,r=0,i=0,o=960,a=500;return e={stream:function(e){return t&&n===e?t:t=Qa(r,i,o,a)(n=e)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],t=n=null,e):[[r,i],[o,a]]}}},geoClipRectangle:Qa,geoContains:function(t,n){return(t&&hu.hasOwnProperty(t.type)?hu[t.type]:du)(t,n)},geoDistance:fu,geoGraticule:xu,geoGraticule10:function(){return xu()()},geoInterpolate:function(t,n){var e=t[0]*Yi,r=t[1]*Yi,i=n[0]*Yi,o=n[1]*Yi,a=Vi(r),u=Qi(r),c=Vi(o),l=Qi(o),s=a*Vi(e),f=a*Qi(e),h=c*Vi(i),p=c*Qi(i),d=2*io(no(oo(o-r)+a*c*oo(i-e))),g=Qi(d),v=d?function(t){var n=Qi(t*=d)/g,e=Qi(d-t)/g,r=e*s+n*h,i=e*f+n*p,o=e*u+n*l;return[Xi(i,r)*Hi,Xi(o,no(r*r+i*i))*Hi]}:function(){return[e*Hi,r*Hi]};return v.distance=d,v},geoLength:cu,geoPath:_c,geoAlbers:Fc,geoAlbersUsa:function(){var t,n,e,r,i,o,a=Fc(),u=Bc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=Bc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){o=[t,n]}};function s(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(r.point(n,a),o)||(i.point(n,a),o)}function f(){return t=n=null,s}return s.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:a).invert(t)},s.stream=function(e){return t&&n===e?t:(r=[a.stream(n=e),u.stream(e),c.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},s.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),c.precision(t),f()):a.precision()},s.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),c.scale(t),s.translate(a.translate())):a.scale()},s.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],s=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,s-.238*n],[o+.455*n,s+.238*n]]).stream(l),r=u.translate([o-.307*n,s+.201*n]).clipExtent([[o-.425*n+Ci,s+.12*n+Ci],[o-.214*n-Ci,s+.234*n-Ci]]).stream(l),i=c.translate([o-.205*n,s+.212*n]).clipExtent([[o-.214*n+Ci,s+.166*n+Ci],[o-.115*n-Ci,s+.234*n-Ci]]).stream(l),f()},s.fitExtent=function(t,n){return Ac(s,t,n)},s.fitSize=function(t,n){return Ec(s,t,n)},s.fitWidth=function(t,n){return $c(s,t,n)},s.fitHeight=function(t,n){return Oc(s,t,n)},s.scale(1070)},geoAzimuthalEqualArea:function(){return Pc(Hc).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:Hc,geoAzimuthalEquidistant:function(){return Pc(Yc).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:Yc,geoConicConformal:function(){return Cc(Vc).scale(109.5).parallels([30,30])},geoConicConformalRaw:Vc,geoConicEqualArea:Bc,geoConicEqualAreaRaw:Rc,geoConicEquidistant:function(){return Cc(Gc).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:Gc,geoEqualEarth:function(){return Pc(el).scale(177.158)},geoEqualEarthRaw:el,geoEquirectangular:function(){return Pc(Zc).scale(152.63)},geoEquirectangularRaw:Zc,geoGnomonic:function(){return Pc(rl).scale(144.049).clipAngle(60)},geoGnomonicRaw:rl,geoIdentity:il,geoProjection:Pc,geoProjectionMutator:Dc,geoMercator:function(){return Uc(Ic).scale(961/Wi)},geoMercatorRaw:Ic,geoNaturalEarth1:function(){return Pc(ol).scale(175.295)},geoNaturalEarth1Raw:ol,geoOrthographic:function(){return Pc(al).scale(249.5).clipAngle(90.000001)},geoOrthographicRaw:al,geoStereographic:function(){return Pc(ul).scale(250).clipAngle(142)},geoStereographicRaw:ul,geoTransverseMercator:function(){var t=Uc(cl),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:cl,geoRotation:Pa,geoStream:ho,geoTransform:xc}),sl=r(ll);function fl(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return hl(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return hl(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==e.return||e.return()}finally{if(u)throw o}}}}function hl(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var pl=e((function(t,n){!function(t,n){var e=1e-6;function r(t){return{point:function(n,e){var r,i=fl(t);try{for(i.s();!(r=i.n()).done;)r.value.point(n,e)}catch(t){i.e(t)}finally{i.f()}},sphere:function(){var n,e=fl(t);try{for(e.s();!(n=e.n()).done;)n.value.sphere()}catch(t){e.e(t)}finally{e.f()}},lineStart:function(){var n,e=fl(t);try{for(e.s();!(n=e.n()).done;)n.value.lineStart()}catch(t){e.e(t)}finally{e.f()}},lineEnd:function(){var n,e=fl(t);try{for(e.s();!(n=e.n()).done;)n.value.lineEnd()}catch(t){e.e(t)}finally{e.f()}},polygonStart:function(){var n,e=fl(t);try{for(e.s();!(n=e.n()).done;)n.value.polygonStart()}catch(t){e.e(t)}finally{e.f()}},polygonEnd:function(){var n,e=fl(t);try{for(e.s();!(n=e.n()).done;)n.value.polygonEnd()}catch(t){e.e(t)}finally{e.f()}}}}function i(){var t,i,o,a,u,c,l,s,f,h=n.geoAlbers(),p=n.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=n.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),g=n.geoConicEqualArea().rotate([66,0]).center([0,18]).parallels([8,18]),v=n.geoConicEqualArea().rotate([-145,0]).center([0,16]).parallels([10,20]),m=n.geoConicEqualArea().rotate([170,0]).center([0,-14]).parallels([-14,0]),y={point:function(t,n){f=[t,n]}};function b(t){var n=t[0],e=t[1];return f=null,o.point(n,e),f||(a.point(n,e),f)||(u.point(n,e),f)||(c.point(n,e),f)||(l.point(n,e),f)||(s.point(n,e),f)}function w(){return t=i=null,b}return b.invert=function(t){var n=h.scale(),e=h.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.225&&r<-.185?p:i>=.166&&i<.234&&r>=-.185&&r<-.08?d:i>=.204&&i<.234&&r>=.3&&r<.38?g:i>=.05&&i<.204&&r>=-.415&&r<-.225?v:i>=.18&&i<.234&&r>=-.415&&r<-.225?m:h).invert(t)},b.stream=function(n){return t&&i===n?t:t=r([h.stream(i=n),p.stream(n),d.stream(n),g.stream(n),v.stream(n),m.stream(n)])},b.precision=function(t){return arguments.length?(h.precision(t),p.precision(t),d.precision(t),g.precision(t),v.precision(t),m.precision(t),w()):h.precision()},b.scale=function(t){return arguments.length?(h.scale(t),p.scale(.35*t),d.scale(t),g.scale(t),v.scale(t),m.scale(t),b.translate(h.translate())):h.scale()},b.translate=function(t){if(!arguments.length)return h.translate();var n=h.scale(),r=+t[0],i=+t[1];return o=h.translate(t).clipExtent([[r-.455*n,i-.238*n],[r+.455*n,i+.238*n]]).stream(y),a=p.translate([r-.275*n,i+.201*n]).clipExtent([[r-.425*n+e,i+.12*n+e],[r-.185*n-e,i+.234*n-e]]).stream(y),u=d.translate([r-.18*n,i+.212*n]).clipExtent([[r-.185*n+e,i+.166*n+e],[r-.08*n-e,i+.234*n-e]]).stream(y),c=g.translate([r+.335*n,i+.224*n]).clipExtent([[r+.3*n,i+.204*n],[r+.38*n,i+.234*n]]).stream(y),l=v.translate([r-.415*n,i+.14*n]).clipExtent([[r-.45*n,i+.05*n],[r-.39*n,i+.21*n]]).stream(y),s=m.translate([r-.415*n,i+.215*n]).clipExtent([[r-.45*n,i+.21*n],[r-.39*n,i+.234*n]]).stream(y),w()},b.scale(1070)}t.geoAlbersUsaTerritories=i,Object.defineProperty(t,"__esModule",{value:!0})}(n,sl)}));function dl(t){return t}function gl(t){if(null==t)return dl;var n,e,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,u){u||(n=e=0);var c=2,l=t.length,s=new Array(l);for(s[0]=(n+=t[0])*r+o,s[1]=(e+=t[1])*i+a;c<l;)s[c]=t[c],++c;return s}}function vl(t,n){return"string"==typeof n&&(n=t.objects[n]),"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map((function(n){return ml(t,n)}))}:ml(t,n)}function ml(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,o=yl(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}function yl(t,n){var e=gl(t.transform),r=t.arcs;function i(t,n){n.length&&n.pop();for(var i=r[t<0?~t:t],o=0,a=i.length;o<a;++o)n.push(e(i[o],o));t<0&&function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}(n,a)}function o(t){return e(t)}function a(t){for(var n=[],e=0,r=t.length;e<r;++e)i(t[e],n);return n.length<2&&n.push(n[0]),n}function u(t){for(var n=a(t);n.length<4;)n.push(n[0]);return n}function c(t){return t.map(u)}return function t(n){var e,r=n.type;switch(r){case"GeometryCollection":return{type:r,geometries:n.geometries.map(t)};case"Point":e=o(n.coordinates);break;case"MultiPoint":e=n.coordinates.map(o);break;case"LineString":e=a(n.arcs);break;case"MultiLineString":e=n.arcs.map(a);break;case"Polygon":e=c(n.arcs);break;case"MultiPolygon":e=n.arcs.map(c);break;default:return null}return{type:r,coordinates:e}}(n)}function bl(t,n){var e={},r={},i={},o=[],a=-1;function u(t,n){for(var r in t){var i=t[r];delete n[i.start],delete i.start,delete i.end,i.forEach((function(t){e[t<0?~t:t]=1})),o.push(i)}}return n.forEach((function(e,r){var i,o=t.arcs[e<0?~e:e];o.length<3&&!o[1][0]&&!o[1][1]&&(i=n[++a],n[a]=e,n[r]=i)})),n.forEach((function(n){var e,o,a=function(n){var e,r=t.arcs[n<0?~n:n],i=r[0];t.transform?(e=[0,0],r.forEach((function(t){e[0]+=t[0],e[1]+=t[1]}))):e=r[r.length-1];return n<0?[e,i]:[i,e]}(n),u=a[0],c=a[1];if(e=i[u])if(delete i[e.end],e.push(n),e.end=c,o=r[c]){delete r[o.start];var l=o===e?e:e.concat(o);r[l.start=e.start]=i[l.end=o.end]=l}else r[e.start]=i[e.end]=e;else if(e=r[c])if(delete r[e.start],e.unshift(n),e.start=u,o=i[u]){delete i[o.end];var s=o===e?e:o.concat(e);r[s.start=o.start]=i[s.end=e.end]=s}else r[e.start]=i[e.end]=e;else r[(e=[n]).start=u]=i[e.end=c]=e})),u(i,r),u(r,i),n.forEach((function(t){e[t<0?~t:t]||o.push([t])})),o}function wl(t,n,e){var r,i,o;if(arguments.length>1)r=_l(t,n,e);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:bl(t,r)}}function _l(t,n,e){var r,i=[],o=[];function a(t){var n=t<0?~t:t;(o[n]||(o[n]=[])).push({i:t,g:r})}function u(t){t.forEach(a)}function c(t){t.forEach(u)}return function t(n){switch(r=n,n.type){case"GeometryCollection":n.geometries.forEach(t);break;case"LineString":u(n.arcs);break;case"MultiLineString":case"Polygon":c(n.arcs);break;case"MultiPolygon":!function(t){t.forEach(c)}(n.arcs)}}(n),o.forEach(null==e?function(t){i.push(t[0].i)}:function(t){e(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}function xl(t){var n=t[0],e=t[1],r=t[2];return Math.abs((n[0]-r[0])*(e[1]-n[1])-(n[0]-e[0])*(r[1]-n[1]))/2}function Ml(t,n){return t[1][2]-n[1][2]}function kl(t){return[t[0],t[1],0]}function Sl(t,n){var e=t.transform?gl(t.transform):kl,r=function(){var t={},n=[],e=0;function r(t,e){for(;e>0;){var r=(e+1>>1)-1,i=n[r];if(Ml(t,i)>=0)break;n[i._=e]=i,n[t._=e=r]=t}}function i(t,r){for(;;){var i=r+1<<1,o=i-1,a=r,u=n[a];if(o<e&&Ml(n[o],u)<0&&(u=n[a=o]),i<e&&Ml(n[i],u)<0&&(u=n[a=i]),a===r)break;n[u._=r]=u,n[t._=r=a]=t}}return t.push=function(t){return r(n[t._=e]=t,e++),e},t.pop=function(){if(!(e<=0)){var t,r=n[0];return--e>0&&(t=n[e],i(n[t._=0]=t,0)),r}},t.remove=function(t){var o,a=t._;if(n[a]===t)return a!==--e&&(Ml(o=n[e],t)<0?r:i)(n[o._=a]=o,a),a},t}();null==n&&(n=xl);var i=t.arcs.map((function(t){var i,a,u,c=[],l=0;for(a=1,u=(t=t.map(e)).length-1;a<u;++a)(i=[t[a-1],t[a],t[a+1]])[1][2]=n(i),c.push(i),r.push(i);for(t[0][2]=t[u][2]=1/0,a=0,u=c.length;a<u;++a)(i=c[a]).previous=c[a-1],i.next=c[a+1];for(;i=r.pop();){var s=i.previous,f=i.next;i[1][2]<l?i[1][2]=l:l=i[1][2],s&&(s.next=f,s[2]=i[2],o(s)),f&&(f.previous=s,f[0]=i[0],o(f))}return t}));function o(t){r.remove(t),t[1][2]=n(t),r.push(t)}return{type:"Topology",bbox:t.bbox,objects:t.objects,arcs:i}}var Al=e((function(n){
/*! @preserve
	   * numeral.js
	   * version : 2.0.6
	   * author : Adam Draper
	   * license : MIT
	   * http://adamwdraper.github.com/Numeral-js/
	   */
!function(t,e){n.exports?n.exports=e():t.numeral=e()}(t,(function(){var t,n,e,r,i,o={},a={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},c={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function l(t,n){this._input=t,this._value=n}return(t=function(e){var r,i,a,u;if(t.isNumeral(e))r=e.value();else if(0===e||void 0===e)r=0;else if(null===e||n.isNaN(e))r=null;else if("string"==typeof e)if(c.zeroFormat&&e===c.zeroFormat)r=0;else if(c.nullFormat&&e===c.nullFormat||!e.replace(/[^0-9]+/g,"").length)r=null;else{for(i in o)if((u="function"==typeof o[i].regexps.unformat?o[i].regexps.unformat():o[i].regexps.unformat)&&e.match(u)){a=o[i].unformat;break}r=(a=a||t._.stringToNumber)(e)}else r=Number(e)||null;return new l(e,r)}).version="2.0.6",t.isNumeral=function(t){return t instanceof l},t._=n={numberToFormat:function(n,e,r){var i,o,u,c,l,s,f,h,p=a[t.options.currentLocale],d=!1,g=!1,v="",m=1e12,y=1e9,b=1e6,w="",_=!1;if(n=n||0,u=Math.abs(n),t._.includes(e,"(")?(d=!0,e=e.replace(/[\(|\)]/g,"")):(t._.includes(e,"+")||t._.includes(e,"-"))&&(s=t._.includes(e,"+")?e.indexOf("+"):n<0?e.indexOf("-"):-1,e=e.replace(/[\+|\-]/g,"")),t._.includes(e,"a")&&(o=!!(o=e.match(/a(k|m|b|t)?/))&&o[1],t._.includes(e," a")&&(v=" "),e=e.replace(new RegExp(v+"a[kmbt]?"),""),u>=m&&!o||"t"===o?(v+=p.abbreviations.trillion,n/=m):u<m&&u>=y&&!o||"b"===o?(v+=p.abbreviations.billion,n/=y):u<y&&u>=b&&!o||"m"===o?(v+=p.abbreviations.million,n/=b):(u<b&&u>=1e3&&!o||"k"===o)&&(v+=p.abbreviations.thousand,n/=1e3)),t._.includes(e,"[.]")&&(g=!0,e=e.replace("[.]",".")),c=n.toString().split(".")[0],l=e.split(".")[1],f=e.indexOf(","),i=(e.split(".")[0].split(",")[0].match(/0/g)||[]).length,l?(t._.includes(l,"[")?(l=(l=l.replace("]","")).split("["),w=t._.toFixed(n,l[0].length+l[1].length,r,l[1].length)):w=t._.toFixed(n,l.length,r),c=w.split(".")[0],w=t._.includes(w,".")?p.delimiters.decimal+w.split(".")[1]:"",g&&0===Number(w.slice(1))&&(w="")):c=t._.toFixed(n,0,r),v&&!o&&Number(c)>=1e3&&v!==p.abbreviations.trillion)switch(c=String(Number(c)/1e3),v){case p.abbreviations.thousand:v=p.abbreviations.million;break;case p.abbreviations.million:v=p.abbreviations.billion;break;case p.abbreviations.billion:v=p.abbreviations.trillion}if(t._.includes(c,"-")&&(c=c.slice(1),_=!0),c.length<i)for(var x=i-c.length;x>0;x--)c="0"+c;return f>-1&&(c=c.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p.delimiters.thousands)),0===e.indexOf(".")&&(c=""),h=c+w+(v||""),d?h=(d&&_?"(":"")+h+(d&&_?")":""):s>=0?h=0===s?(_?"-":"+")+h:h+(_?"-":"+"):_&&(h="-"+h),h},stringToNumber:function(t){var n,e,r,i=a[c.currentLocale],o=t,u={thousand:3,million:6,billion:9,trillion:12};if(c.zeroFormat&&t===c.zeroFormat)e=0;else if(c.nullFormat&&t===c.nullFormat||!t.replace(/[^0-9]+/g,"").length)e=null;else{for(n in e=1,"."!==i.delimiters.decimal&&(t=t.replace(/\./g,"").replace(i.delimiters.decimal,".")),u)if(r=new RegExp("[^a-zA-Z]"+i.abbreviations[n]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),o.match(r)){e*=Math.pow(10,u[n]);break}e*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),e*=Number(t)}return e},isNaN:function(t){function n(n){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}((function(t){return"number"==typeof t&&isNaN(t)})),includes:function(t,n){return-1!==t.indexOf(n)},insert:function(t,n,e){return t.slice(0,e)+n+t.slice(e)},reduce:function(t,n){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof n)throw new TypeError(n+" is not a function");var e,r=Object(t),i=r.length>>>0,o=0;if(3===arguments.length)e=arguments[2];else{for(;o<i&&!(o in r);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");e=r[o++]}for(;o<i;o++)o in r&&(e=n(e,r[o],o,r));return e},multiplier:function(t){var n=t.toString().split(".");return n.length<2?1:Math.pow(10,n[1].length)},correctionFactor:function(){var t=Array.prototype.slice.call(arguments);return t.reduce((function(t,e){var r=n.multiplier(e);return t>r?t:r}),1)},toFixed:function(t,n,e,r){var i,o,a,u,c=t.toString().split("."),l=n-(r||0);return i=2===c.length?Math.min(Math.max(c[1].length,l),n):l,a=Math.pow(10,i),u=(e(t+"e+"+i)/a).toFixed(i),r>n-i&&(o=new RegExp("\\.?0{1,"+(r-(n-i))+"}$"),u=u.replace(o,"")),u}},t.options=c,t.formats=o,t.locales=a,t.locale=function(t){return t&&(c.currentLocale=t.toLowerCase()),c.currentLocale},t.localeData=function(t){if(!t)return a[c.currentLocale];if(t=t.toLowerCase(),!a[t])throw new Error("Unknown locale : "+t);return a[t]},t.reset=function(){for(var t in u)c[t]=u[t]},t.zeroFormat=function(t){c.zeroFormat="string"==typeof t?t:null},t.nullFormat=function(t){c.nullFormat="string"==typeof t?t:null},t.defaultFormat=function(t){c.defaultFormat="string"==typeof t?t:"0.0"},t.register=function(t,n,e){if(n=n.toLowerCase(),this[t+"s"][n])throw new TypeError(n+" "+t+" already registered.");return this[t+"s"][n]=e,e},t.validate=function(n,e){var r,i,o,a,u,c,l,s;if("string"!=typeof n&&(n+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",n)),(n=n.trim()).match(/^\d+$/))return!0;if(""===n)return!1;try{l=t.localeData(e)}catch(n){l=t.localeData(t.locale())}return o=l.currency.symbol,u=l.abbreviations,r=l.delimiters.decimal,i="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,(null===(s=n.match(/^[^\d]+/))||(n=n.substr(1),s[0]===o))&&((null===(s=n.match(/[^\d]+$/))||(n=n.slice(0,-1),s[0]===u.thousand||s[0]===u.million||s[0]===u.billion||s[0]===u.trillion))&&(c=new RegExp(i+"{2}"),!n.match(/[^\d.,]/g)&&(!((a=n.split(r)).length>2)&&(a.length<2?!!a[0].match(/^\d+.*\d$/)&&!a[0].match(c):1===a[0].length?!!a[0].match(/^\d+$/)&&!a[0].match(c)&&!!a[1].match(/^\d+$/):!!a[0].match(/^\d+.*\d$/)&&!a[0].match(c)&&!!a[1].match(/^\d+$/)))))},t.fn=l.prototype={clone:function(){return t(this)},format:function(n,e){var r,i,a,u=this._value,l=n||c.defaultFormat;if(e=e||Math.round,0===u&&null!==c.zeroFormat)i=c.zeroFormat;else if(null===u&&null!==c.nullFormat)i=c.nullFormat;else{for(r in o)if(l.match(o[r].regexps.format)){a=o[r].format;break}i=(a=a||t._.numberToFormat)(u,l,e)}return i},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var e=n.correctionFactor.call(null,this._value,t);return this._value=n.reduce([this._value,t],(function(t,n,r,i){return t+Math.round(e*n)}),0)/e,this},subtract:function(t){var e=n.correctionFactor.call(null,this._value,t);return this._value=n.reduce([t],(function(t,n,r,i){return t-Math.round(e*n)}),Math.round(this._value*e))/e,this},multiply:function(t){return this._value=n.reduce([this._value,t],(function(t,e,r,i){var o=n.correctionFactor(t,e);return Math.round(t*o)*Math.round(e*o)/Math.round(o*o)}),1),this},divide:function(t){return this._value=n.reduce([this._value,t],(function(t,e,r,i){var o=n.correctionFactor(t,e);return Math.round(t*o)/Math.round(e*o)})),this},difference:function(n){return Math.abs(t(this._value).subtract(n).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var n=t%10;return 1==~~(t%100/10)?"th":1===n?"st":2===n?"nd":3===n?"rd":"th"},currency:{symbol:"$"}}),t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(n,e,r){var i,o=t._.includes(e," BPS")?" ":"";return n*=1e4,e=e.replace(/\s?BPS/,""),i=t._.numberToFormat(n,e,r),t._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(n){return+(1e-4*t._.stringToNumber(n)).toFixed(15)}}),r={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},i="("+(i=(e={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(r.suffixes.filter((function(t){return e.suffixes.indexOf(t)<0}))).join("|")).replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(i)},format:function(n,i,o){var a,u,c,l=t._.includes(i,"ib")?r:e,s=t._.includes(i," b")||t._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),a=0;a<=l.suffixes.length;a++)if(u=Math.pow(l.base,a),c=Math.pow(l.base,a+1),null===n||0===n||n>=u&&n<c){s+=l.suffixes[a],u>0&&(n/=u);break}return t._.numberToFormat(n,i,o)+s},unformat:function(n){var i,o,a=t._.stringToNumber(n);if(a){for(i=e.suffixes.length-1;i>=0;i--){if(t._.includes(n,e.suffixes[i])){o=Math.pow(e.base,i);break}if(t._.includes(n,r.suffixes[i])){o=Math.pow(r.base,i);break}}a*=o||1}return a}}),t.register("format","currency",{regexps:{format:/(\$)/},format:function(n,e,r){var i,o,a=t.locales[t.options.currentLocale],u={before:e.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:e.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(e=e.replace(/\s?\$\s?/,""),i=t._.numberToFormat(n,e,r),n>=0?(u.before=u.before.replace(/[\-\(]/,""),u.after=u.after.replace(/[\-\)]/,"")):n<0&&!t._.includes(u.before,"-")&&!t._.includes(u.before,"(")&&(u.before="-"+u.before),o=0;o<u.before.length;o++)switch(u.before[o]){case"$":i=t._.insert(i,a.currency.symbol,o);break;case" ":i=t._.insert(i," ",o+a.currency.symbol.length-1)}for(o=u.after.length-1;o>=0;o--)switch(u.after[o]){case"$":i=o===u.after.length-1?i+a.currency.symbol:t._.insert(i,a.currency.symbol,-(u.after.length-(1+o)));break;case" ":i=o===u.after.length-1?i+" ":t._.insert(i," ",-(u.after.length-(1+o)+a.currency.symbol.length-1))}return i}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(n,e,r){var i=("number"!=typeof n||t._.isNaN(n)?"0e+0":n.toExponential()).split("e");return e=e.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(i[0]),e,r)+"e"+i[1]},unformat:function(n){var e=t._.includes(n,"e+")?n.split("e+"):n.split("e-"),r=Number(e[0]),i=Number(e[1]);return i=t._.includes(n,"e-")?i*=-1:i,t._.reduce([r,Math.pow(10,i)],(function(n,e,r,i){var o=t._.correctionFactor(n,e);return n*o*(e*o)/(o*o)}),1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(n,e,r){var i=t.locales[t.options.currentLocale],o=t._.includes(e," o")?" ":"";return e=e.replace(/\s?o/,""),o+=i.ordinal(n),t._.numberToFormat(n,e,r)+o}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(n,e,r){var i,o=t._.includes(e," %")?" ":"";return t.options.scalePercentBy100&&(n*=100),e=e.replace(/\s?\%/,""),i=t._.numberToFormat(n,e,r),t._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(n){var e=t._.stringToNumber(n);return t.options.scalePercentBy100?.01*e:e}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,n,e){var r=Math.floor(t/60/60),i=Math.floor((t-60*r*60)/60),o=Math.round(t-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(t){var n=t.split(":"),e=0;return 3===n.length?(e+=60*Number(n[0])*60,e+=60*Number(n[1]),e+=Number(n[2])):2===n.length&&(e+=60*Number(n[0]),e+=Number(n[1])),Number(e)}}),t}))})),El=e((function(t,n){t.exports=function(){var t="millisecond",n="second",e="minute",r="hour",i="day",o="week",a="month",u="quarter",c="year",l="date",s=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(t,n,e){var r=String(t);return!r||r.length>=n?t:""+Array(n+1-r.length).join(e)+t},d={s:p,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return(n<=0?"+":"-")+p(r,2,"0")+":"+p(i,2,"0")},m:function t(n,e){if(n.date()<e.date())return-t(e,n);var r=12*(e.year()-n.year())+(e.month()-n.month()),i=n.clone().add(r,a),o=e-i<0,u=n.clone().add(r+(o?-1:1),a);return+(-(r+(e-i)/(o?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(s){return{M:a,y:c,w:o,d:i,D:l,h:r,m:e,s:n,ms:t,Q:u}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",v={};v[g]=h;var m=function(t){return t instanceof _},y=function(t,n,e){var r;if(!t)return g;if("string"==typeof t)v[t]&&(r=t),n&&(v[t]=n,r=t);else{var i=t.name;v[i]=t,r=i}return!e&&r&&(g=r),r||!e&&g},b=function(t,n){if(m(t))return t.clone();var e="object"==It(n)?n:{};return e.date=t,e.args=arguments,new _(e)},w=d;w.l=y,w.i=m,w.w=function(t,n){return b(t,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var _=function(){function h(t){this.$L=y(t.locale,null,!0),this.parse(t)}var p=h.prototype;return p.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(w.u(n))return new Date;if(n instanceof Date)return new Date(n);if("string"==typeof n&&!/Z$/i.test(n)){var r=n.match(s);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return e?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(n)}(t),this.$x=t.x||{},this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return w},p.isValid=function(){return!("Invalid Date"===this.$d.toString())},p.isSame=function(t,n){var e=b(t);return this.startOf(n)<=e&&e<=this.endOf(n)},p.isAfter=function(t,n){return b(t)<this.startOf(n)},p.isBefore=function(t,n){return this.endOf(n)<b(t)},p.$g=function(t,n,e){return w.u(t)?this[n]:this.set(e,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,u){var s=this,f=!!w.u(u)||u,h=w.p(t),p=function(t,n){var e=w.w(s.$u?Date.UTC(s.$y,n,t):new Date(s.$y,n,t),s);return f?e:e.endOf(i)},d=function(t,n){return w.w(s.toDate()[t].apply(s.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(n)),s)},g=this.$W,v=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(h){case c:return f?p(1,0):p(31,11);case a:return f?p(1,v):p(0,v+1);case o:var b=this.$locale().weekStart||0,_=(g<b?g+7:g)-b;return p(f?m-_:m+(6-_),v);case i:case l:return d(y+"Hours",0);case r:return d(y+"Minutes",1);case e:return d(y+"Seconds",2);case n:return d(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(o,u){var s,f=w.p(o),h="set"+(this.$u?"UTC":""),p=(s={},s[i]=h+"Date",s[l]=h+"Date",s[a]=h+"Month",s[c]=h+"FullYear",s[r]=h+"Hours",s[e]=h+"Minutes",s[n]=h+"Seconds",s[t]=h+"Milliseconds",s)[f],d=f===i?this.$D+(u-this.$W):u;if(f===a||f===c){var g=this.clone().set(l,1);g.$d[p](d),g.init(),this.$d=g.set(l,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](d);return this.init(),this},p.set=function(t,n){return this.clone().$set(t,n)},p.get=function(t){return this[w.p(t)]()},p.add=function(t,u){var l,s=this;t=Number(t);var f=w.p(u),h=function(n){var e=b(s);return w.w(e.date(e.date()+Math.round(n*t)),s)};if(f===a)return this.set(a,this.$M+t);if(f===c)return this.set(c,this.$y+t);if(f===i)return h(1);if(f===o)return h(7);var p=(l={},l[e]=6e4,l[r]=36e5,l[n]=1e3,l)[f]||1,d=this.$d.getTime()+t*p;return w.w(d,this)},p.subtract=function(t,n){return this.add(-1*t,n)},p.format=function(t){var n=this;if(!this.isValid())return"Invalid Date";var e=t||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),i=this.$locale(),o=this.$H,a=this.$m,u=this.$M,c=i.weekdays,l=i.months,s=function(t,r,i,o){return t&&(t[r]||t(n,e))||i[r].substr(0,o)},h=function(t){return w.s(o%12||12,t,"0")},p=i.meridiem||function(t,n,e){var r=t<12?"AM":"PM";return e?r.toLowerCase():r},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:w.s(u+1,2,"0"),MMM:s(i.monthsShort,u,l,3),MMMM:s(l,u),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:s(i.weekdaysMin,this.$W,c,2),ddd:s(i.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:w.s(o,2,"0"),h:h(1),hh:h(2),a:p(o,a,!0),A:p(o,a,!1),m:String(a),mm:w.s(a,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return e.replace(f,(function(t,n){return n||d[t]||r.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(t,l,s){var f,h=w.p(l),p=b(t),d=6e4*(p.utcOffset()-this.utcOffset()),g=this-p,v=w.m(this,p);return v=(f={},f[c]=v/12,f[a]=v,f[u]=v/3,f[o]=(g-d)/6048e5,f[i]=(g-d)/864e5,f[r]=g/36e5,f[e]=g/6e4,f[n]=g/1e3,f)[h]||g,s?v:w.a(v)},p.daysInMonth=function(){return this.endOf(a).$D},p.$locale=function(){return v[this.$L]},p.locale=function(t,n){if(!t)return this.$L;var e=this.clone(),r=y(t,n,!0);return r&&(e.$L=r),e},p.clone=function(){return w.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},h}(),x=_.prototype;return b.prototype=x,[["$ms",t],["$s",n],["$m",e],["$H",r],["$W",i],["$M",a],["$y",c],["$D",l]].forEach((function(t){x[t[1]]=function(n){return this.$g(n,t[0],t[1])}})),b.extend=function(t,n){return t.$i||(t(n,_,b),t.$i=!0),b},b.locale=y,b.isDayjs=m,b.unix=function(t){return b(1e3*t)},b.en=v[g],b.Ls=v,b.p={},b}()})),$l=e((function(t,n){t.exports=function(t,n,e){var r=n.prototype,i=r.format;e.en.ordinal=function(t){var n=["th","st","nd","rd"],e=t%100;return"["+t+(n[(e-20)%10]||n[e]||n[0])+"]"},r.format=function(t){var n=this,e=this.$locale(),r=this.$utils(),o=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(t){switch(t){case"Q":return Math.ceil((n.$M+1)/3);case"Do":return e.ordinal(n.$D);case"gggg":return n.weekYear();case"GGGG":return n.isoWeekYear();case"wo":return e.ordinal(n.week(),"W");case"w":case"ww":return r.s(n.week(),"w"===t?1:2,"0");case"W":case"WW":return r.s(n.isoWeek(),"W"===t?1:2,"0");case"k":case"kk":return r.s(String(0===n.$H?24:n.$H),"k"===t?1:2,"0");case"X":return Math.floor(n.$d.getTime()/1e3);case"x":return n.$d.getTime();case"z":return"["+n.offsetName()+"]";case"zzz":return"["+n.offsetName("long")+"]";default:return t}}));return i.bind(this)(o)}}})),Ol=e((function(t,n){t.exports=function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,e,r){var i=e.prototype,o=i.format;r.en.formats=t,i.format=function(n){void 0===n&&(n="YYYY-MM-DDTHH:mm:ssZ");var e=this.$locale().formats,r=function(n,e){return n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(n,r,i){var o=i&&i.toUpperCase();return r||e[i]||t[i]||e[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,n,e){return n||e.slice(1)}))}))}(n,void 0===e?{}:e);return o.call(this,r)}}}()}));var jl=!1;function Nl(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!n)return t;for(var r=Array.isArray(n)?n:n.split("."),i=t,o=0;o<r.length&&null!=i;o++)i=i[r[o]];return null==i?e:i}function zl(t){if(!t||"object"!==It(t))return t;try{return JSON.parse(JSON.stringify(t))}catch(n){return t}}var Ll=e((function(n,e){n.exports=function(){function n(){}function e(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,n){return t!=t?n==n:t!==n||t&&"object"==It(t)||"function"==typeof t}function u(t,n){t.appendChild(n)}function c(t,n,e){t.insertBefore(n,e||null)}function l(t){t.parentNode.removeChild(t)}function s(t,n){for(var e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function f(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function p(t){return document.createTextNode(t)}function d(){return p(" ")}function g(){return p("")}function v(t,n,e,r){return t.addEventListener(n,e,r),function(){return t.removeEventListener(n,e,r)}}function m(t){return function(n){return n.stopPropagation(),t.call(this,n)}}function y(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function b(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function w(t,n,e){t.classList[e?"add":"remove"](n)}var _,x=function(t){void 0===t&&(t=null),this.a=t,this.e=this.n=null};function M(t){_=t}function k(){if(!_)throw new Error("Function called outside component initialization");return _}function S(t){k().$$.after_update.push(t)}function A(){var t=k();return function(n,e){var r=t.$$.callbacks[n];if(r){var i=function(t,n){var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);r.slice().forEach((function(n){n.call(t,i)}))}}}function E(t,n){var e=t.$$.callbacks[n.type];e&&e.slice().forEach((function(t){return t(n)}))}x.prototype.m=function(t,n,e){void 0===e&&(e=null),this.e||(this.e=f(n.nodeName),this.t=n,this.h(t)),this.i(e)},x.prototype.h=function(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)},x.prototype.i=function(t){for(var n=0;n<this.n.length;n+=1)c(this.t,this.n[n],t)},x.prototype.p=function(t){this.d(),this.h(t),this.i(this.a)},x.prototype.d=function(){this.n.forEach(l)};var $=[],O=[],j=[],N=[],z=Promise.resolve(),L=!1;function T(){L||(L=!0,z.then(B))}function P(t){j.push(t)}function D(t){N.push(t)}var C=!1,R=new Set;function B(){if(!C){C=!0;do{for(var t=0;t<$.length;t+=1){var n=$[t];M(n),F(n.$$)}for(M(null),$.length=0;O.length;)O.pop()();for(var e=0;e<j.length;e+=1){var r=j[e];R.has(r)||(R.add(r),r())}j.length=0}while($.length);for(;N.length;)N.pop()();L=!1,C=!1,R.clear()}}function F(t){if(null!==t.fragment){t.update(),i(t.before_update);var n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(P)}}var q,W=new Set;function H(){q={r:0,c:[],p:q}}function Y(){q.r||i(q.c),q=q.p}function I(t,n){t&&t.i&&(W.delete(t),t.i(n))}function U(t,n,e,r){if(t&&t.o){if(W.has(t))return;W.add(t),q.c.push((function(){W.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}var X="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:t;function V(t,n,e){var r=t.$$.props[n];void 0!==r&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function Z(t){t&&t.c()}function G(t,n,r){var a=t.$$,u=a.fragment,c=a.on_mount,l=a.on_destroy,s=a.after_update;u&&u.m(n,r),P((function(){var n=c.map(e).filter(o);l?l.push.apply(l,n):i(n),t.$$.on_mount=[]})),s.forEach(P)}function K(t,n){var e=t.$$;null!==e.fragment&&(i(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function J(t,n){-1===t.$$.dirty[0]&&($.push(t),T(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function Q(t,e,o,a,u,c,s){void 0===s&&(s=[-1]);var f=_;M(t);var h=e.props||{},p=t.$$={fragment:null,ctx:null,props:c,update:n,not_equal:u,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:r(),dirty:s,skip_bound:!1},d=!1;if(p.ctx=o?o(t,h,(function(n,e){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var o=r.length?r[0]:e;return p.ctx&&u(p.ctx[n],p.ctx[n]=o)&&(!p.skip_bound&&p.bound[n]&&p.bound[n](o),d&&J(t,n)),e})):[],p.update(),d=!0,i(p.before_update),p.fragment=!!a&&a(p.ctx),e.target){if(e.hydrate){var g=function(t){return Array.from(t.childNodes)}(e.target);p.fragment&&p.fragment.l(g),g.forEach(l)}else p.fragment&&p.fragment.c();e.intro&&I(t.$$.fragment),G(t,e.target,e.anchor),B()}M(f)}var tt=function(){};tt.prototype.$destroy=function(){K(this,1),this.$destroy=n},tt.prototype.$on=function(t,n){var e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),function(){var t=e.indexOf(n);-1!==t&&e.splice(t,1)}},tt.prototype.$set=function(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)};var nt="http://www.w3.org/1999/xhtml",et={svg:"http://www.w3.org/2000/svg",xhtml:nt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rt(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),et.hasOwnProperty(n)?{space:et[n],local:t}:t}function it(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===nt&&n.documentElement.namespaceURI===nt?n.createElement(t):n.createElementNS(e,t)}}function ot(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function at(t){var n=rt(t);return(n.local?ot:it)(n)}function ut(){}function ct(t){return null==t?ut:function(){return this.querySelector(t)}}function lt(){return[]}function st(t){return new Array(t.length)}function ft(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function ht(t,n,e,r,i,o){for(var a,u=0,c=n.length,l=o.length;u<l;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new ft(t,o[u]);for(;u<c;++u)(a=n[u])&&(i[u]=a)}function pt(t,n,e,r,i,o,a){var u,c,l,s={},f=n.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(c=n[u])&&(p[u]=l="$"+a.call(c,c.__data__,u,n),l in s?i[u]=c:s[l]=c);for(u=0;u<h;++u)(c=s[l="$"+a.call(t,o[u],u,o)])?(r[u]=c,c.__data__=o[u],s[l]=null):e[u]=new ft(t,o[u]);for(u=0;u<f;++u)(c=n[u])&&s[p[u]]===c&&(i[u]=c)}function dt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function gt(t){return function(){this.removeAttribute(t)}}function vt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mt(t,n){return function(){this.setAttribute(t,n)}}function yt(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function bt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function wt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function _t(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function xt(t){return function(){this.style.removeProperty(t)}}function Mt(t,n,e){return function(){this.style.setProperty(t,n,e)}}function kt(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function St(t,n){return t.style.getPropertyValue(n)||_t(t).getComputedStyle(t,null).getPropertyValue(n)}function At(t){return function(){delete this[t]}}function Et(t,n){return function(){this[t]=n}}function $t(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Ot(t){return t.trim().split(/^|\s+/)}function jt(t){return t.classList||new Nt(t)}function Nt(t){this._node=t,this._names=Ot(t.getAttribute("class")||"")}function zt(t,n){for(var e=jt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Lt(t,n){for(var e=jt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Tt(t){return function(){zt(this,t)}}function Pt(t){return function(){Lt(this,t)}}function Dt(t,n){return function(){(n.apply(this,arguments)?zt:Lt)(this,t)}}function Ct(){this.textContent=""}function Rt(t){return function(){this.textContent=t}}function Bt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Ft(){this.innerHTML=""}function qt(t){return function(){this.innerHTML=t}}function Wt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Ht(){this.nextSibling&&this.parentNode.appendChild(this)}function Yt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ut(){return null}function Xt(){var t=this.parentNode;t&&t.removeChild(this)}function Vt(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Zt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}ft.prototype={constructor:ft,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Nt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Gt={};function Kt(t,n,e){return t=Jt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Jt(t,n,e){return function(r){try{t.call(this,this.__data__,n,e)}finally{}}}function Qt(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function tn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function nn(t,n,e){var r=Gt.hasOwnProperty(t.type)?Kt:Jt;return function(i,o,a){var u,c=this.__on,l=r(n,o,a);if(c)for(var s=0,f=c.length;s<f;++s)if((u=c[s]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=e),void(u.value=n);this.addEventListener(t.type,l,e),u={type:t.type,name:t.name,value:n,listener:l,capture:e},c?c.push(u):this.__on=[u]}}function en(t,n,e){var r=_t(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function rn(t,n){return function(){return en(this,t,n)}}function on(t,n){return function(){return en(this,t,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Gt={mouseenter:"mouseover",mouseleave:"mouseout"}));var an=[null];function un(t,n){this._groups=t,this._parents=n}function cn(){return new un([[document.documentElement]],an)}function ln(t){return"string"==typeof t?new un([[document.querySelector(t)]],[document.documentElement]):new un([[t]],an)}function sn(){window.getSelection().removeAllRanges()}function fn(t,n,e){var r=t.slice();return r[12]=n[e],r}function hn(t){var n,e,r,i,o,a;function s(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return t[10].apply(t,[t[12]].concat(n))}return{c:function(){n=f("div"),e=f("div"),r=d(),y(e,"class","resizer-inner svelte-15xph4v"),y(n,"class",i="resizer "+t[2]+" "+t[12].charAt(0)+" svelte-15xph4v"),w(n,"drag","line"===t[0].display)},m:function(t,i){c(t,n,i),u(n,e),u(n,r),o||(a=v(n,"mousedown",s),o=!0)},p:function(e,r){t=e,6&r&&i!==(i="resizer "+t[2]+" "+t[12].charAt(0)+" svelte-15xph4v")&&y(n,"class",i),7&r&&w(n,"drag","line"===t[0].display)},d:function(t){t&&l(n),o=!1,a()}}}function pn(t){for(var e,r=t[1],i=[],o=0;o<r.length;o+=1)i[o]=hn(fn(t,r,o));return{c:function(){e=f("div");for(var t=0;t<i.length;t+=1)i[t].c();y(e,"class","resizers svelte-15xph4v")},m:function(t,n){c(t,e,n);for(var r=0;r<i.length;r+=1)i[r].m(e,null)},p:function(t,n){var o=n[0];if(15&o){var a;for(r=t[1],a=0;a<r.length;a+=1){var u=fn(t,r,a);i[a]?i[a].p(u,o):(i[a]=hn(u),i[a].c(),i[a].m(e,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},i:n,o:n,d:function(t){t&&l(e),s(i,t)}}}function dn(t,n,e){var r,i,o=A(),a=n.annotation,u=n.type,c=n.index,l=n.activeResizer,s=n.resizing,f=n.noOffsetAtEventStart,h=n.orientation;function p(t,n){t.stopPropagation(),sn(),o("selectAnnotation",{type:u,index:c}),void 0===a.width&&o("setWidth"),e(4,l=n),e(5,s=!0),e(6,f=0===a.dx&&0===a.dy)}return t.$$set=function(t){"annotation"in t&&e(0,a=t.annotation),"type"in t&&e(7,u=t.type),"index"in t&&e(8,c=t.index),"activeResizer"in t&&e(4,l=t.activeResizer),"resizing"in t&&e(5,s=t.resizing),"noOffsetAtEventStart"in t&&e(6,f=t.noOffsetAtEventStart),"orientation"in t&&e(9,h=t.orientation)},t.$$.update=function(){513&t.$$.dirty&&e(1,r="y"===h?"line"===a.display?["t"]:["t","b"]:"line"===a.display?["l"]:["l","r"]),512&t.$$.dirty&&e(2,i="y"===h?"y":"x")},[a,r,i,p,l,s,f,u,c,h,function(t,n){return p(n,t)}]}un.prototype=cn.prototype={constructor:un,select:function(t){"function"!=typeof t&&(t=ct(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],c=u.length,l=r[i]=new Array(c),s=0;s<c;++s)(o=u[s])&&(a=t.call(o,o.__data__,s,u))&&("__data__"in o&&(a.__data__=o.__data__),l[s]=a);return new un(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?lt:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],c=u.length,l=0;l<c;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),i.push(a));return new un(r,i)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new un(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),s=-1,this.each((function(t){d[++s]=t})),d;var e,r=n?pt:ht,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),c=new Array(a),l=new Array(a),s=0;s<a;++s){var f=i[s],h=o[s],p=h.length,d=t.call(f,f&&f.__data__,s,i),g=d.length,v=c[s]=new Array(g),m=u[s]=new Array(g);r(f,h,v,m,l[s]=new Array(p),d,n);for(var y,b,w=0,_=0;w<g;++w)if(y=v[w]){for(w>=_&&(_=w+1);!(b=m[_])&&++_<g;);y._next=b||null}}return(u=new un(u,i))._enter=c,u._exit=l,u},enter:function(){return new un(this._enter||this._groups.map(st),this._parents)},exit:function(){return new un(this._exit||this._groups.map(st),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,l=n[u],s=e[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(h[p]=c);for(;u<r;++u)a[u]=n[u];return new un(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=dt);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],c=u.length,l=i[o]=new Array(c),s=0;s<c;++s)(a=u[s])&&(l[s]=a);l.sort(n)}return new un(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=rt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?vt:gt:"function"==typeof n?e.local?wt:bt:e.local?yt:mt)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?xt:"function"==typeof n?kt:Mt)(t,n,null==e?"":e)):St(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?At:"function"==typeof n?$t:Et)(t,n)):this.node()[t]},classed:function(t,n){var e=Ot(t+"");if(arguments.length<2){for(var r=jt(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Dt:n?Tt:Pt)(e,n))},text:function(t){return arguments.length?this.each(null==t?Ct:("function"==typeof t?Bt:Rt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ft:("function"==typeof t?Wt:qt)(t)):this.node().innerHTML},raise:function(){return this.each(Ht)},lower:function(){return this.each(Yt)},append:function(t){var n="function"==typeof t?t:at(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:at(t),r=null==n?Ut:"function"==typeof n?n:ct(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Xt)},clone:function(t){return this.select(t?Zt:Vt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=Qt(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?nn:tn,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var c,l=0,s=u.length;l<s;++l)for(r=0,c=u[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?on:rn)(t,n))}};var gn=function(t){function n(n){t.call(this),Q(this,n,dn,pn,a,{annotation:0,type:7,index:8,activeResizer:4,resizing:5,noOffsetAtEventStart:6,orientation:9})}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(tt);function vn(t){if("string"==typeof t){var n,e={},r=t.split(/([\.#])/g);for(t=r.shift();n=r.shift();)"."==n?e.class=e.class?e.class+" "+r.shift():r.shift():"#"==n&&(e.id=r.shift());return{tag:t,attr:e}}return t}function mn(){return null}var yn=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;function bn(){}function wn(t,n){var e=new bn;if(t instanceof bn)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function _n(){}bn.prototype=wn.prototype={constructor:bn,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var xn=wn.prototype;_n.prototype=function(t,n){var e=new _n;if(t instanceof _n)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:_n,has:xn.has,add:function(t){return this["$"+(t+="")]=t,this},remove:xn.remove,clear:xn.clear,values:xn.keys,size:xn.size,empty:xn.empty,each:xn.each},cn.prototype.translate=function(t,n){var e=this.node();return e?e.getBBox?this.attr("transform",(function(e,r){var i="function"==typeof t?t.call(this,e,r):t;return 0===n?i=[i,0]:1===n&&(i=[0,i]),"translate("+i[0]+","+i[1]+")"})):this.style("transform",(function(e,r){var i="function"==typeof t?t.call(this,e,r):t;return 0===n?i=[i,0]:1===n&&(i=[0,i]),"translate("+i[0]+"px,"+i[1]+"px)"})):this},cn.prototype.append=function(t){var n,e;"function"==typeof t?n=t:(e=vn(t),n=at(e.tag));var r=this.select((function(){return this.appendChild(n.apply(this,arguments))}));if(e)for(var i in e.attr)r.attr(i,e.attr[i]);return r},cn.prototype.insert=function(t,n){var e=vn(t),r=at(e.tag),i=null==n?mn:"function"==typeof n?n:ct(n),o=this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}));for(var a in e.attr)o.attr(a,e.attr[a]);return o},cn.prototype.parent=function(){var t=[];return this.filter((function(){return!(t.indexOf(this.parentNode)>-1||(t.push(this.parentNode),0))})).select((function(){return this.parentNode}))},cn.prototype.selectAppend=function(t){var n,e=ct(t),r=vn(t);for(var i in t=at(r.tag),n=this.select((function(){return e.apply(this,arguments)||this.appendChild(t.apply(this,arguments))})),r.attr)n.attr(i,r.attr[i]);return n},cn.prototype.tspans=function(t,n){return this.selectAll("tspan").data((function(n,e){return("function"==typeof t?t.call(this,n,e):t).map((function(t){return{line:t,parent:n}}))})).enter().append("tspan").text((function(t){return t.line})).attr("x",0).attr("dy",(function(t,e){return e?("function"==typeof n?n.call(this,t.parent,t.line,e):n)||15:0}))},cn.prototype.appendMany=function(t,n){if("string"==typeof n){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var e=n;n=t,t=e}return this.selectAll(null).data(n).enter().append(t)},cn.prototype.at=function(t,n){if("object"==It(t)){for(var e in t)this.attr(yn.test(e)?e:e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[e]);return this}return 1==arguments.length?this.attr(t):this.attr(t,n)},cn.prototype.st=function(t,n){if("object"==It(t)){for(var e in t)r(this,e,t[e]);return this}return 1==arguments.length?this.style(t):r(this,t,n);function r(t,n,e){return n=n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width margin-top margin-left margin-bottom margin-right font-size width stroke-width line-height margin padding border border-radius max-width min-width max-height min-height".indexOf(n)?t.style(n,"function"==typeof e?o(e):i(e)):t.style(n,e),t}function i(t){return t.match?t:t+"px"}function o(t){return function(){return i(t.apply(this,arguments))}}},cn.prototype.prop=cn.prototype.property;var Mn=Math.cos(.25*Math.PI),kn=Math.sin(.25*Math.PI);function Sn(t){var n=t[0],e=t[1];return[n*Mn-e*kn,n*kn+e*Mn]}function An(t){var n=t[0],e=t[1];return[n*Mn+e*kn,e*Mn-n*kn]}function En(t,n,e,r){void 0===r&&(r=!0);var i=r?1:0,o=(e-t[i])/(n[i]-t[i]);if(o<0||o>1)return null;var a=r?0:1;return t[a]+o*(n[a]-t[a])}function $n(t){return void 0===t&&(t=!0),function(n){var e=n.source,r=n.sourcePadding,i=n.targetPadding,o=n.circle,a=n.circleRadius;return function(n){var u,c;o&&a&&(i+=a),r>0&&((e=Object.assign({},e)).x-=r,e.y-=r,e.width+=2*r,e.height+=2*r);var l=e.x+.5*e.width,s=e.y+.5*e.height,f=0,h=0,p=On(l,s,f,h,.25,t),d=p[0],g=p[1],v=e.height/e.width,m=d-l,y=g-s;if(Math.abs(y/m)<v?(l+=.5*e.width*(m>0?1:-1),s+=.5*e.width*y/m*(m>0?1:-1)):(l+=.5*e.height*m/y*(y>0?1:-1),s+=.5*e.height*(y>0?1:-1)),d=(u=On(l,s,f,h,.25,t))[0],g=u[1],i>0){var b=Math.atan2(-g,-d);d=(c=On(l,s,f=-Math.cos(b)*i,h=-Math.sin(b)*i,.25,t))[0],g=c[1]}n.attr("d","M "+l+","+s+" Q "+d+","+g+" "+f+","+h)}}}function On(t,n,e,r,i,o){void 0===i&&(i=.25),void 0===o&&(o=!0);var a=e-t,u=r-n,c=u,l=-a,s=.5*(t+e),f=.5*(n+r),h=Math.sqrt(c*c+l*l),p=Math.sqrt(a*a+u*u)*i/h*(o?-1:1);return[s+c*p,f+l*p]}var jn=function(t){var n=t.source,e=t.sourcePadding,r=t.targetPadding,i=t.circle,o=t.circleRadius;return function(t){var a,u,c,l;i&&o&&(r+=o),e&&((n=Object.assign({},n)).x-=e,n.y-=e,n.width+=2*e,n.height+=2*e);var s=n.x+.5*n.width,f=n.y+.5*n.height,h=0,p=0,d=!0,g=-s,v=-f,m=n.height/n.width;if(2*Math.abs(s)<n.width)s=0,h=0,p=r*(f>0?1:-1),f+=.5*n.height*(f<0?1:-1),d=!1;else if(2*Math.abs(f)<n.height)f=0,p=0,h=r*(s>0?1:-1),s+=.5*n.width*(s<0?1:-1),d=!1;else{var y,b,w=Sn([-.5*n.width,0]),_=w[0],x=w[1],M=Sn([.5*n.width,0]),k=M[0],S=M[1],A=Sn([0,-.5*n.height]),E=A[0],$=A[1],O=Sn([0,.5*n.height]),j=O[0],N=O[1],z=Sn([-s,-f]),L=z[0],T=z[1];if(s>0&&f>0&&L>=_&&L<=E){var P=Sn([-.5*n.width,-.5*n.height]),D=P[0];y=(a=An([L,En(L<D?[_,x]:[E,$],[D,P[1]],L,!1)]))[0],b=a[1]}else if(s<0&&f<0&&L>=j&&L<=k){var C=Sn([.5*n.width,.5*n.height]),R=C[0];y=(u=An([L,En(L<R?[j,N]:[k,S],[R,C[1]],L,!1)]))[0],b=u[1]}else if(s>0&&f<0&&T>=x&&T<=N){var B=Sn([-.5*n.width,.5*n.height]),F=B[0],q=B[1];y=(c=An([En(T<q?[_,x]:[j,N],[F,q],T,!0),T]))[0],b=c[1]}else if(s<0&&f>0&&T>=$&&T<=S){var W=Sn([.5*n.width,-.5*n.height]),H=W[0],Y=W[1];y=(l=An([En(T<Y?[E,$]:[k,S],[H,Y],T,!0),T]))[0],b=l[1]}else Math.abs(v/g)<m?(y=.5*n.width*(g>0?1:-1),b=.5*n.width*v/g*(g>0?1:-1)):(y=.5*n.height*g/v*(v>0?1:-1),b=.5*n.height*(v>0?1:-1));s+=y,f+=b}if(r>0&&d){g=-s,v=-f;var I=Math.atan2(v,g);h=-Math.cos(I)*r,p=-Math.sin(I)*r}t.attr("d","M "+s+","+f+" L "+h+","+p),t.classed("crisp",s.toFixed(1)===h.toFixed(1)||f.toFixed(1)===p.toFixed(1))}},Nn=$n(!0),zn=$n(!1),Ln=Object.freeze({__proto__:null,straight:jn,curveLeft:Nn,curveRight:zn});function Tn(t){return void 0===t&&(t={}),t=Object.assign({},{sourcePadding:0,targetPadding:4,arrowHead:!1,type:"straight",circle:!1,circleRadius:15,strokeWidth:1,color:"black"},t),function(n){return n.each((function(n){var e=Object.assign({},t,n),r=ln(this).append("g.callout-line").attr("aria-hidden",!0);e.arrowHead&&(e.targetPadding+=e.strokeWidth,e.circleRadius+=e.strokeWidth);var i,o=r.append("path").style("stroke-width",e.strokeWidth).style("stroke",e.color).call(Ln[e.type](e));e.arrowHead&&function(t,n,e,r,i){var o=Pn[e];if(n.getTotalLength){var a=n.getTotalLength();if(0!==a){var u=n.getPointAtLength(a),c=n.getPointAtLength(a-10),l=Math.min(1,a/o.minLen/r),s=[u.x-c.x,u.y-c.y],f=s[0],h=s[1],p=Math.atan2(h,f)/Math.PI*180,d=t.append("path.callout-line-arrow-head").attr("d",o.path).attr("transform","translate("+u.x+", "+u.y+") rotate("+p+") scale("+r*l+") ").classed("callout-line-arrow-head-stroke",o.strokes);o.strokes?d.style("stroke",i).style("fill","none").style("stroke-width",1/l):d.style("fill",i).style("stroke","none")}}}(r,o.node(),e.arrowHead,e.strokeWidth,e.color),e.circle&&r.append("circle").style("stroke",e.color).style("stroke-width",e.strokeWidth).style("stroke-dasharray","dashed"===e.circleStyle?(i=e.strokeWidth,2+i+", "+(4+i)):void 0).attr("r",e.circleRadius-(e.arrowHead?e.strokeWidth:0))}))}}var Pn={triangle:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:20,path:"M-8.75,-3.75 L 1,0 L -8.75,3.75"},lines:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:15,path:"M-4.75,-3.75 L 0,0 L -4.75,3.75",strokes:!0}},Dn=Math.ceil,Cn=Math.max,Rn=function(t,n,e,r){for(var i=-1,o=Cn(Dn((n-t)/(e||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=e;return a},Bn=function(t,n){return t===n||t!=t&&n!=n},Fn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},qn="object"==It(Fn)&&Fn&&Fn.Object===Object&&Fn,Wn="object"==("undefined"==typeof self?"undefined":It(self))&&self&&self.Object===Object&&self,Hn=(qn||Wn||Function("return this")()).Symbol,Yn=Object.prototype,In=Yn.hasOwnProperty,Un=Yn.toString,Xn=Hn?Hn.toStringTag:void 0,Vn=function(t){var n=In.call(t,Xn),e=t[Xn];try{t[Xn]=void 0;var r=!0}catch(t){}var i=Un.call(t);return r&&(n?t[Xn]=e:delete t[Xn]),i},Zn=Object.prototype.toString,Gn=function(t){return Zn.call(t)},Kn=Hn?Hn.toStringTag:void 0,Jn=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Kn&&Kn in Object(t)?Vn(t):Gn(t)},Qn=function(t){var n=It(t);return null!=t&&("object"==n||"function"==n)},te=function(t){if(!Qn(t))return!1;var n=Jn(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n},ne=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},ee=function(t){return null!=t&&ne(t.length)&&!te(t)},re=/^(?:0|[1-9]\d*)$/,ie=function(t,n){var e=It(t);return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&re.test(t))&&t>-1&&t%1==0&&t<n},oe=function(t,n,e){if(!Qn(e))return!1;var r=It(n);return!!("number"==r?ee(e)&&ie(n,e.length):"string"==r&&n in e)&&Bn(e[n],t)},ae=function(t){return null!=t&&"object"==It(t)},ue=function(t){return"symbol"==It(t)||ae(t)&&"[object Symbol]"==Jn(t)},ce=/^\s+|\s+$/g,le=/^[-+]0x[0-9a-f]+$/i,se=/^0b[01]+$/i,fe=/^0o[0-7]+$/i,he=parseInt,pe=function(t){if("number"==typeof t)return t;if(ue(t))return NaN;if(Qn(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Qn(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ce,"");var e=se.test(t);return e||fe.test(t)?he(t.slice(2),e?2:8):le.test(t)?NaN:+t},de=function(t){return t?(t=pe(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},ge=function(t){return function(n,e,r){return r&&"number"!=typeof r&&oe(n,e,r)&&(e=r=void 0),n=de(n),void 0===e?(e=n,n=0):e=de(e),r=void 0===r?n<e?1:-1:de(r),Rn(n,e,r,t)}}();function ve(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function me(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function ye(){}var be="\\s*([+-]?\\d+)\\s*",we="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",_e="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xe=/^#([0-9a-f]{3,8})$/,Me=new RegExp("^rgb\\("+[be,be,be]+"\\)$"),ke=new RegExp("^rgb\\("+[_e,_e,_e]+"\\)$"),Se=new RegExp("^rgba\\("+[be,be,be,we]+"\\)$"),Ae=new RegExp("^rgba\\("+[_e,_e,_e,we]+"\\)$"),Ee=new RegExp("^hsl\\("+[we,_e,_e]+"\\)$"),$e=new RegExp("^hsla\\("+[we,_e,_e,we]+"\\)$"),Oe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function je(){return this.rgb().formatHex()}function Ne(){return this.rgb().formatRgb()}function ze(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=xe.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Le(n):3===e?new Ce(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Te(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Te(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Me.exec(t))?new Ce(n[1],n[2],n[3],1):(n=ke.exec(t))?new Ce(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Se.exec(t))?Te(n[1],n[2],n[3],n[4]):(n=Ae.exec(t))?Te(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Ee.exec(t))?qe(n[1],n[2]/100,n[3]/100,1):(n=$e.exec(t))?qe(n[1],n[2]/100,n[3]/100,n[4]):Oe.hasOwnProperty(t)?Le(Oe[t]):"transparent"===t?new Ce(NaN,NaN,NaN,0):null}function Le(t){return new Ce(t>>16&255,t>>8&255,255&t,1)}function Te(t,n,e,r){return r<=0&&(t=n=e=NaN),new Ce(t,n,e,r)}function Pe(t){return t instanceof ye||(t=ze(t)),t?new Ce((t=t.rgb()).r,t.g,t.b,t.opacity):new Ce}function De(t,n,e,r){return 1===arguments.length?Pe(t):new Ce(t,n,e,null==r?1:r)}function Ce(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Re(){return"#"+Fe(this.r)+Fe(this.g)+Fe(this.b)}function Be(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Fe(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function qe(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new He(t,n,e,r)}function We(t){if(t instanceof He)return new He(t.h,t.s,t.l,t.opacity);if(t instanceof ye||(t=ze(t)),!t)return new He;if(t instanceof He)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new He(a,u,c,t.opacity)}function He(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ye(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Ie(t,n){return"translate("+Math.round(t)+"px, "+Math.round(n)+"px);"}function Ue(t){return!0===t||void 0===t}function Xe(t){return!(!Ue(t.showDesktop)||!1!==t.showMobile)}function Ve(t){return!1===t.showDesktop&&!1===t.showMobile}function Ze(t,n){return"function"==typeof n?n(t):t}ve(ye,ze,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:je,formatHex:je,formatHsl:function(){return We(this).formatHsl()},formatRgb:Ne,toString:Ne}),ve(Ce,De,me(ye,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ce(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ce(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Re,formatHex:Re,formatRgb:Be,toString:Be})),ve(He,(function(t,n,e,r){return 1===arguments.length?We(t):new He(t,n,e,null==r?1:r)}),me(ye,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new He(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new He(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Ce(Ye(t>=240?t-240:t+120,i,r),Ye(t,i,r),Ye(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ge=180/Math.PI;function Ke(t,n){return Math.atan(t/n)*Ge}function Je(t,n,e){if(void 0===n&&(n=null),void 0===e&&(e=null),!n)return t;for(var r=n.split("."),i=t,o=0;o<r.length&&null!=i;o++)i=i[r[o]];return null==i?e:i}var Qe=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,tr=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;function nr(t,n){if(null===t)return null;if(void 0!==t){if((t=String(t)).indexOf("<")<0||t.indexOf(">")<0)return t;if(t=function(t,n){n=(((void 0!==n?n||"":"<a><span><b><br><br/><i><strong><sup><sub><strike><u><em><tt>")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var e=t,r=t;;)if(r=(e=r).replace(tr,"").replace(Qe,(function(t,e){return n.indexOf("<"+e.toLowerCase()+">")>-1?t:""})),e===r)return r}(t,n),"undefined"==typeof document)return t;var e=document.createElement("div");e.innerHTML=t;for(var r=e.querySelectorAll("*"),i=0;i<r.length;i++){"a"===r[i].nodeName.toLowerCase()&&("_self"!==r[i].getAttribute("target")&&r[i].setAttribute("target","_blank"),r[i].setAttribute("rel","nofollow noopener noreferrer"),r[i].getAttribute("href")&&r[i].getAttribute("href").trim().replace(/[^a-zA-Z0-9 -:]/g,"").startsWith("javascript:")&&r[i].setAttribute("href",""));for(var o=[],a=0;a<r[i].attributes.length;a++){var u=r[i].attributes[a];u.specified&&"on"===u.name.substr(0,2)&&o.push(u.name)}o.forEach((function(t){return r[i].removeAttribute(t)}))}return e.innerHTML}}function er(t){var n,e,r;return{c:function(){n=f("div"),y(e=h("svg"),"width","1"),y(e,"height","1"),y(e,"class","svelte-t7ef7g"),y(n,"class","connector-line svelte-t7ef7g"),y(n,"aria-hidden","true"),y(n,"style",r="transform: "+Ie(t[9],t[10]))},m:function(r,i){c(r,n,i),u(n,e),t[57](e)},p:function(t,e){1536&e[0]&&r!==(r="transform: "+Ie(t[9],t[10]))&&y(n,"style",r)},d:function(e){e&&l(n),t[57](null)}}}function rr(t){var n,e,r,i;return{c:function(){n=f("div"),e=h("svg"),y(r=h("path"),"class","helper-line svelte-t7ef7g"),y(r,"d",i=t[27](t[0])),y(e,"width","1"),y(e,"height","1"),y(e,"class","svelte-t7ef7g"),y(n,"class","helper svelte-t7ef7g")},m:function(t,i){c(t,n,i),u(n,e),u(e,r)},p:function(t,n){134217729&n[0]&&i!==(i=t[27](t[0]))&&y(r,"d",i)},d:function(t){t&&l(n)}}}function ir(t){var n,e,r,i;return{c:function(){y(n=f("div"),"class","reference-point svelte-t7ef7g"),y(n,"style",e="transform: "+t[23]()),w(n,"hollow",t[22])},m:function(e,o){c(e,n,o),r||(i=v(n,"mousedown",m(t[32])),r=!0)},p:function(t,r){8388608&r[0]&&e!==(e="transform: "+t[23]())&&y(n,"style",e),4194304&r[0]&&w(n,"hollow",t[22])},d:function(t){t&&l(n),r=!1,i()}}}function or(t){var n,e;return{c:function(){y(n=f("div"),"class","offset-point svelte-t7ef7g"),y(n,"style",e="transform: "+t[25]())},m:function(t,e){c(t,n,e)},p:function(t,r){33554432&r[0]&&e!==(e="transform: "+t[25]())&&y(n,"style",e)},d:function(t){t&&l(n)}}}function ar(t){var n,e,r,i=nr(t[0].text)+"";return{c:function(){n=f("div"),y(e=f("span"),"class","export-text"),y(n,"class","shadow-text svelte-t7ef7g"),y(n,"aria-hidden","true"),y(n,"style",r=t[20](t[0])),w(n,"dw-bold",t[0].bold),w(n,"italic",t[0].italic),w(n,"underline",t[0].underline)},m:function(t,r){c(t,n,r),u(n,e),e.innerHTML=i},p:function(t,o){1&o[0]&&i!==(i=nr(t[0].text)+"")&&(e.innerHTML=i),1048577&o[0]&&r!==(r=t[20](t[0]))&&y(n,"style",r),1&o[0]&&w(n,"dw-bold",t[0].bold),1&o[0]&&w(n,"italic",t[0].italic),1&o[0]&&w(n,"underline",t[0].underline)},d:function(t){t&&l(n)}}}function ur(t){var n;function e(t,n){return t[12]?sr:lr}var r=e(t),i=r(t);return{c:function(){n=f("span"),i.c(),y(n,"class","export-text")},m:function(t,e){c(t,n,e),i.m(n,null)},p:function(t,o){r===(r=e(t))&&i?i.p(t,o):(i.d(1),(i=r(t))&&(i.c(),i.m(n,null)))},d:function(t){t&&l(n),i.d()}}}function cr(t){var n;function e(t,n){return t[12]?hr:fr}var r=e(t),i=r(t);return{c:function(){i.c(),n=g()},m:function(t,e){i.m(t,e),c(t,n,e)},p:function(t,o){r===(r=e(t))&&i?i.p(t,o):(i.d(1),(i=r(t))&&(i.c(),i.m(n.parentNode,n)))},d:function(t){i.d(t),t&&l(n)}}}function lr(t){var n,e,r=nr(t[0].text)+"";return{c:function(){e=g(),n=new x(e)},m:function(t,i){n.m(r,t,i),c(t,e,i)},p:function(t,e){1&e[0]&&r!==(r=nr(t[0].text)+"")&&n.p(r)},d:function(t){t&&l(e),t&&n.d()}}}function sr(t){var n,e=t[6].num+"";return{c:function(){n=p(e)},m:function(t,e){c(t,n,e)},p:function(t,r){64&r[0]&&e!==(e=t[6].num+"")&&b(n,e)},d:function(t){t&&l(n)}}}function fr(t){var n;function e(t,n){return t[1]&&t[13]?dr:pr}var r=e(t),i=r(t);return{c:function(){n=f("div"),i.c(),y(n,"class","text-background svelte-t7ef7g")},m:function(t,e){c(t,n,e),i.m(n,null)},p:function(t,o){r===(r=e(t))&&i?i.p(t,o):(i.d(1),(i=r(t))&&(i.c(),i.m(n,null)))},d:function(t){t&&l(n),i.d()}}}function hr(t){var n,e,r=t[6].num+"";return{c:function(){n=f("span"),e=p(r)},m:function(t,r){c(t,n,r),u(n,e)},p:function(t,n){64&n[0]&&r!==(r=t[6].num+"")&&b(e,r)},d:function(t){t&&l(n)}}}function pr(t){var n,e=nr(t[0].text)+"";return{c:function(){y(n=f("span"),"class","text-inner text-edit svelte-t7ef7g")},m:function(r,i){c(r,n,i),n.innerHTML=e,t[60](n)},p:function(t,r){1&r[0]&&e!==(e=nr(t[0].text)+"")&&(n.innerHTML=e)},d:function(e){e&&l(n),t[60](null)}}}function dr(t){var n,e,r,o=nr(t[17])+"";return{c:function(){y(n=f("span"),"contenteditable",""),y(n,"class","text-inner text-edit svelte-t7ef7g"),void 0===t[16]&&P((function(){return t[59].call(n)}))},m:function(i,a){c(i,n,a),n.innerHTML=o,t[58](n),void 0!==t[16]&&(n.innerHTML=t[16]),e||(r=[v(n,"input",t[59]),v(n,"input",t[33]),v(n,"blur",t[34])],e=!0)},p:function(t,e){131072&e[0]&&o!==(o=nr(t[17])+"")&&(n.innerHTML=o),65536&e[0]&&t[16]!==n.innerHTML&&(n.innerHTML=t[16])},d:function(o){o&&l(n),t[58](null),e=!1,i(r)}}}function gr(t){var n,e,r,i,o;function a(n){t[61].call(null,n)}function u(n){t[62].call(null,n)}function c(n){t[63].call(null,n)}var l={type:"text",annotation:t[0],index:t[7]};return void 0!==t[3]&&(l.noOffsetAtEventStart=t[3]),void 0!==t[4]&&(l.activeResizer=t[4]),void 0!==t[5]&&(l.resizing=t[5]),n=new gn({props:l}),O.push((function(){return V(n,"noOffsetAtEventStart",a)})),O.push((function(){return V(n,"activeResizer",u)})),O.push((function(){return V(n,"resizing",c)})),n.$on("selectAnnotation",t[64]),n.$on("setWidth",t[36]),{c:function(){Z(n.$$.fragment)},m:function(t,e){G(n,t,e),o=!0},p:function(t,o){var a={};1&o[0]&&(a.annotation=t[0]),128&o[0]&&(a.index=t[7]),!e&&8&o[0]&&(e=!0,a.noOffsetAtEventStart=t[3],D((function(){return e=!1}))),!r&&16&o[0]&&(r=!0,a.activeResizer=t[4],D((function(){return r=!1}))),!i&&32&o[0]&&(i=!0,a.resizing=t[5],D((function(){return i=!1}))),n.$set(a)},i:function(t){o||(I(n.$$.fragment,t),o=!0)},o:function(t){U(n.$$.fragment,t),o=!1},d:function(t){K(n,t)}}}function vr(t){var n,e,r,o,a,s,h,p,g,b,_,x,M=t[0].connectorLine&&t[0].connectorLine.enabled&&er(t),k=t[26]&&rr(t),S=t[21]&&ir(t),A=t[24]&&or(t),E=t[0].bg&&t[28]&&!t[12]&&ar(t);function $(t,n){return t[8]?cr:ur}var O=$(t),j=O(t),N=t[8]&&!t[12]&&gr(t);return{c:function(){n=f("div"),M&&M.c(),e=d(),k&&k.c(),r=d(),S&&S.c(),o=d(),A&&A.c(),a=d(),E&&E.c(),s=d(),h=f("div"),j.c(),p=d(),N&&N.c(),y(h,"class","text svelte-t7ef7g"),y(h,"style",g=t[19](t[0])),w(h,"dw-bold",t[0].bold||t[12]),w(h,"italic",t[0].italic&&!t[12]),w(h,"underline",t[0].underline&&!t[12]),w(h,"dw-circle",t[12]),w(h,"num",t[12]),y(n,"class","text-annotation svelte-t7ef7g"),y(n,"role","listitem"),w(n,"hide",t[18]),w(n,"edit-mode",t[8]),w(n,"selected",t[13]),w(n,"editable",t[1]&&t[13]),w(n,"not-editable",!t[1]||!t[13]),w(n,"key",t[12]),w(n,"dragging",t[2]),w(n,"resizing",t[5])},m:function(i,l){c(i,n,l),M&&M.m(n,null),u(n,e),k&&k.m(n,null),u(n,r),S&&S.m(n,null),u(n,o),A&&A.m(n,null),u(n,a),E&&E.m(n,null),u(n,s),u(n,h),j.m(h,null),u(h,p),N&&N.m(h,null),t[65](h),b=!0,_||(x=[v(window,"keydown",t[35]),v(h,"mousedown",m(t[29])),v(h,"click",t[30]),v(h,"contextmenu",t[31])],_=!0)},p:function(t,i){t[0].connectorLine&&t[0].connectorLine.enabled?M?M.p(t,i):((M=er(t)).c(),M.m(n,e)):M&&(M.d(1),M=null),t[26]?k?k.p(t,i):((k=rr(t)).c(),k.m(n,r)):k&&(k.d(1),k=null),t[21]?S?S.p(t,i):((S=ir(t)).c(),S.m(n,o)):S&&(S.d(1),S=null),t[24]?A?A.p(t,i):((A=or(t)).c(),A.m(n,a)):A&&(A.d(1),A=null),t[0].bg&&t[28]&&!t[12]?E?E.p(t,i):((E=ar(t)).c(),E.m(n,s)):E&&(E.d(1),E=null),O===(O=$(t))&&j?j.p(t,i):(j.d(1),(j=O(t))&&(j.c(),j.m(h,p))),t[8]&&!t[12]?N?(N.p(t,i),4352&i[0]&&I(N,1)):((N=gr(t)).c(),I(N,1),N.m(h,null)):N&&(H(),U(N,1,1,(function(){N=null})),Y()),(!b||524289&i[0]&&g!==(g=t[19](t[0])))&&y(h,"style",g),4097&i[0]&&w(h,"dw-bold",t[0].bold||t[12]),4097&i[0]&&w(h,"italic",t[0].italic&&!t[12]),4097&i[0]&&w(h,"underline",t[0].underline&&!t[12]),4096&i[0]&&w(h,"dw-circle",t[12]),4096&i[0]&&w(h,"num",t[12]),262144&i[0]&&w(n,"hide",t[18]),256&i[0]&&w(n,"edit-mode",t[8]),8192&i[0]&&w(n,"selected",t[13]),8194&i[0]&&w(n,"editable",t[1]&&t[13]),8194&i[0]&&w(n,"not-editable",!t[1]||!t[13]),4096&i[0]&&w(n,"key",t[12]),4&i[0]&&w(n,"dragging",t[2]),32&i[0]&&w(n,"resizing",t[5])},i:function(t){b||(I(N),b=!0)},o:function(t){U(N),b=!1},d:function(e){e&&l(n),M&&M.d(),k&&k.d(),S&&S.d(),A&&A.d(),E&&E.d(),j.d(),N&&N.d(),t[65](null),_=!1,i(x)}}}function mr(t,n,e){var r=n.annotation;void 0===r&&(r={});var i,o,a=n.dataToPx,u=n.pxToData,c=n.theme,l=Je(c,"colors.background",!1),s=Je(c,"style.chart.mobileAnnotations.icons.background",!1)||!!l&&function(t,n){void 0===n&&(n=1);var e=De(t);return e.opacity=n,e.formatRgb()}(l,.7)||"transparent",f=Je(c,"style.chart.textAnnotations.color",!1)||Je(c,"typography.chart.color",!1),h=n.cm,p=n.visWidth,d=n.isMobileWidth,g=n.key,v=0,m=0,y=0,b=0;function w(){var t=Ke(r.dy,r.dx)+90;return r.dx<0&&(t+=180),function(t){switch(!0){case t>337.5||t<=22.5:return"bc";case t>22.5&&t<=67.5:return"bl";case t>67.5&&t<=112.5:return"ml";case t>112.5&&t<=157.5:return"tl";case t>157.5&&t<=202.5:return"tc";case t>202.5&&t<=247.5:return"tr";case t>247.5&&t<=292.5:return"mr";case t>292.5&&t<=337.5:return"br";default:return"mc"}}(t)}function _(t){var n=N(r),e=n[0],i=n[1];return v>e-t&&v<e+y+t&&m>i-t&&m<i+b+t}S((function(){function t(){i&&(e(49,y=i.offsetWidth),e(50,b=i.offsetHeight),function(){if(r.connectorLine&&r.connectorLine.enabled){var t=ln(o);t.selectAll("*").remove();var n=N(r),e=n[0],i=n[1],a={x:e-v,y:i-m,width:y,height:b},u=r.connectorLine.arrowHead,c=function(){if(!j)return 4;var t=w();if(t.includes("c")||t.includes("m"))return 0;var n=(y*Math.sqrt(2)-y)/2;return-Math.sqrt(Math.pow(n,2)/2)}(),l=j?0:r.connectorLine.targetPadding,s=r.connectorLine.circle,h=r.connectorLine.circleStyle,p=r.connectorLine.circleRadius,d=r.connectorLine.type,g=j?1:r.connectorLine.stroke,x=f||"#222";r.connectorLine.inheritColor&&!j&&(x=k);var M=Tn({source:a,arrowHead:u,sourcePadding:c,targetPadding:l,circle:s,circleStyle:h,circleRadius:p,type:d,strokeWidth:g,color:x});t.call(M);var S=t.select(".callout-line").select("path").attr("d");(function(t,n){var e=t.replace("M","").replace("Q","").trim().replace(/ /g,",").split(","),r=Math.max(Math.abs(Number(e[0])),Math.abs(Number(e[1])))-n;return isNaN(r)&&(r=0),r})(S,l)<10||_(5)||function(t,n,e){if(t&&e){var r=n.indexOf("M ")+"M ".length,i=n.indexOf(" ",r),o=n.substring(r,i).split(",").map((function(t){return parseInt(t,10)}));return Math.pow(o[0]-0,2)+Math.pow(o[1]-0,2)<Math.pow(e,2)}}(s,S,p)?(t.selectAll("*").remove(),R&&V("updateEditorState",{hideConnectorLine:!0})):R&&V("updateEditorState",{hideConnectorLine:!1})}}())}G?t():(T(),z).then(t)}));var x,M,k,$,j,N,L,P,D,C,R,B,F,q,W,H,Y,I,U,X,V=A(),Z=n.index,G=n.editMode,K=n.isEditable,J=n.editorState,Q=n.moveX,tt=n.moveY,nt=n.dragging,et=n.noOffsetAtEventStart,rt=n.forceOffsetDrag,it=n.forceAnchorDrag,ot=n.forceAnchorDragTemp,at=n.activeResizer,ut=n.resizing,ct=r.text;return t.$$set=function(t){"annotation"in t&&e(0,r=t.annotation),"dataToPx"in t&&e(41,a=t.dataToPx),"pxToData"in t&&e(42,u=t.pxToData),"theme"in t&&e(43,c=t.theme),"cm"in t&&e(44,h=t.cm),"visWidth"in t&&e(45,p=t.visWidth),"isMobileWidth"in t&&e(46,d=t.isMobileWidth),"key"in t&&e(6,g=t.key),"index"in t&&e(7,Z=t.index),"editMode"in t&&e(8,G=t.editMode),"isEditable"in t&&e(1,K=t.isEditable),"editorState"in t&&e(47,J=t.editorState),"moveX"in t&&e(37,Q=t.moveX),"moveY"in t&&e(38,tt=t.moveY),"dragging"in t&&e(2,nt=t.dragging),"noOffsetAtEventStart"in t&&e(3,et=t.noOffsetAtEventStart),"forceOffsetDrag"in t&&e(39,rt=t.forceOffsetDrag),"forceAnchorDrag"in t&&e(40,it=t.forceAnchorDrag),"forceAnchorDragTemp"in t&&e(48,ot=t.forceAnchorDragTemp),"activeResizer"in t&&e(4,at=t.activeResizer),"resizing"in t&&e(5,ut=t.resizing)},t.$$.update=function(){var n,i;if(1&t.$$.dirty[0]&&e(0,r.dx=+r.dx||0,r),1&t.$$.dirty[0]&&e(0,r.dy=+r.dy||0,r),128&t.$$.dirty[0]|65536&t.$$.dirty[1]&&e(13,R=1===J.selectedTextAnnotations.length&&J.selectedTextAnnotations[0]===Z),8205&t.$$.dirty[0]|135104&t.$$.dirty[1]&&R&&nt&&(Q||tt)){if(et&&!rt||it||ot){var o=a(r.x,r.y),c=o[0],S=o[1],A=u(c+=Q,S+=tt),E=A[0],O=A[1];e(0,r.x=E,r),e(0,r.y=O,r)}else e(0,r.dx+=Q,r),e(0,r.dy+=tt,r);rt&&et&&!r.connectorLine.enabled&&!_(20)&&(e(0,r.connectorLine.enabled=!0,r),e(0,r.connectorLine.type="curveLeft",r)),e(37,Q=0),e(38,tt=0)}if(8249&t.$$.dirty[0]|19648&t.$$.dirty[1]&&R&&ut&&(Q||tt)){var z=Q/p*100,T=0;if(r.align.includes("c")?(T+=Q/2,"l"===at&&(z=-z)):r.align.includes("l")?"l"===at&&(T+=Q,z=-z):r.align.includes("r")&&("l"===at&&(z=-z),"r"===at&&(T+=Q)),et){var lt=a(r.x,r.y),st=lt[0],ft=lt[1],ht=u(st+=T,ft),pt=ht[0],dt=ht[1];e(0,r.x=pt,r),e(0,r.y=dt,r)}else e(0,r.dx+=T,r);e(0,r.width+=z,r),e(0,r.width=Math.max(5,r.width),r),e(37,Q=0)}1&t.$$.dirty[0]&&e(51,k=r.color||f||"#222"),1&t.$$.dirty[0]|32768&t.$$.dirty[1]&&e(18,$=Ve(r)||!(!Ue((i=r).showMobile)||!1!==i.showDesktop||d)||Xe(r)&&d),64&t.$$.dirty[0]&&e(12,j=g&&g.render),1&t.$$.dirty[0]|1024&t.$$.dirty[1]&&e(9,(n=a(r.x,r.y),v=n[0],m=n[1],n),v,(e(10,m),e(41,a),e(0,r),e(13,R),e(2,nt),e(37,Q),e(38,tt),e(3,et),e(39,rt),e(40,it),e(48,ot),e(42,u),e(5,ut),e(45,p),e(4,at),e(47,J),e(7,Z))),1&t.$$.dirty[0]&&e(53,B=0===r.dx&&0===r.dy),5632&t.$$.dirty[0]|4980736&t.$$.dirty[1]&&e(52,N=function(t){var n,e=[v,m],i=e[0],o=e[1],a=t.align;j||(i+=t.dx,o+=t.dy),j&&!B&&(i=(n=function(t,n){var e=r.connectorLine.circle?Math.max(0,r.connectorLine.circleRadius):0,i=20+e,o=25+e,a=w(),u={br:[-i,-i],bc:[-o,0],bl:[-i,i],mr:[0,-o],mc:[-o-.5*b,0],ml:[0,o],tr:[i,-i],tc:[o,0],tl:[i,i]}[a],c=u[0];return[t+=u[1],n+=c]}(i,o))[0],o=n[1],a="mc");var u=a.charAt(1),c=a.charAt(0);return[i-=y*{l:0,c:.5,r:1}[u],o-=b*{t:0,m:.5,b:1}[c]]}),2097152&t.$$.dirty[1]&&e(54,L=function(t){var n=N(t);return Ie(n[0],n[1])}),4096&t.$$.dirty[0]|26222592&t.$$.dirty[1]&&e(19,D=function(t){var n=[];if(j){var e=f||"#222";n.push("color: "+Ze(e,h)),n.push("border-color: "+Ze(e,h)),n.push("background-color: "+Ze(s,h))}else n.push.apply(n,P(t)),n.push("color: "+Ze(k,h));return n.push("transform: "+L(t)),n.join("; ")}),25165824&t.$$.dirty[1]&&e(20,C=function(t){var n=[];return n.push.apply(n,P(t)),n.push("text-shadow: "+function(t,n,e){var r=[],i=ge(-t,t+1);return i.forEach((function(t){i.forEach((function(i){(t||i)&&r.push(t+"px "+i+"px "+(t&&i?0:n)+"px "+e)}))})),r.join(", ")}(2,2,l)),n.push("transform: "+L(t)),n.join("; ")}),2050&t.$$.dirty[0]&&!K&&x&&x.blur(),13824&t.$$.dirty[0]|786432&t.$$.dirty[1]&&R&&V("updateEditorState",{selectedAnnotationProps:{x:v,y:m,width:y,height:b,mobileFallback:j}}),1&t.$$.dirty[0]&&e(56,F="mc"===r.align),12544&t.$$.dirty[0]|37748736&t.$$.dirty[1]&&e(21,q=G&&R&&!j&&!(B&&F)),12544&t.$$.dirty[0]|4194304&t.$$.dirty[1]&&e(22,W=G&&R&&!j&&!B),1536&t.$$.dirty[0]&&e(23,H=function(){var t=[v,m],n=t[0],e=t[1];return Ie(n-=2.5,e-=2.5)}),12544&t.$$.dirty[0]|37748736&t.$$.dirty[1]&&e(24,Y=G&&R&&!j&&!B&&!F),1537&t.$$.dirty[0]&&e(25,I=function(){var t=[v,m],n=t[0],e=t[1];return n-=2.5,e-=2.5,Ie(n+=r.dx,e+=r.dy)}),1&t.$$.dirty[0]&&(document.activeElement.classList.contains("text-edit")||(e(16,M=nr(r.text)),e(17,ct=r.text))),12545&t.$$.dirty[0]|4194304&t.$$.dirty[1]&&e(26,U=G&&R&&!r.connectorLine.enabled&&!B&&!j),1536&t.$$.dirty[0]&&e(27,X=function(t){var n=[v,m],e=n[0],r=n[1];return"M "+e+","+r+" L"+(e+t.dx)+","+(r+t.dy)})},e(55,P=function(t){var n=[];return t.width&&n.push("width: "+function(t){return p*(t.width/100)+"px"}(t)),n.push("font-size: "+(t.size||14)+"px"),n.push("min-height: "+(t.size||14)+"px"),n.push("text-align: "+function(t){return t.align?{l:"left",c:"center",r:"right"}[t.align.charAt(1)]:"center"}(t)),n}),[r,K,nt,et,at,ut,g,Z,G,v,m,x,j,R,i,o,M,ct,$,D,C,q,W,H,Y,I,U,X,l,function(t){if(G){sn(),V("selectAnnotation",{type:"text",index:Z});var n="true"===t.target.contentEditable||"true"===t.target.parentNode.contentEditable;j||n&&R||(e(37,Q=0),e(38,tt=0),e(2,nt=!0),e(39,rt=t.ctrlKey),rt&&V("updateEditorState",{forceOffsetDrag:!0}),e(3,et=0===r.dx&&0===r.dy))}},function(t){G&&t.preventDefault()},function(t){G&&t.preventDefault()},function(t){G&&(sn(),V("selectAnnotation",{type:"text",index:Z}),e(2,nt=!0),e(40,it=!0))},function(t){e(0,r.text=M.slice&&"&nbsp;"===M.slice(-6)&&"&nbsp;&nbsp;"!==M.slice(-12)?M.slice(0,-6)+" ":M,r),V("update")},function(){sn()},function(t){if(G&&!j){var n="ArrowUp"===t.key||"ArrowDown"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key;if("Escape"===t.key&&R&&K)x.blur(),e(1,K=!1);else if("Escape"===t.key&&R)V("selectAnnotation",null);else if(n&&R&&!K){t.preventDefault();var i="ArrowLeft"===t.key?-1:"ArrowRight"===t.key?1:0,o="ArrowUp"===t.key?-1:"ArrowDown"===t.key?1:0;if(t.ctrlKey)e(0,r.dx+=i,r),e(0,r.dy+=o,r);else{var c=a(r.x,r.y),l=c[0],s=c[1],f=u(l+=i,s+=o),h=f[0],p=f[1];e(0,r.x=h,r),e(0,r.y=p,r)}V("update")}}},function(){e(0,r.width=y/p*100,r)},Q,tt,rt,it,a,u,c,h,p,d,J,ot,y,b,k,N,B,L,P,F,function(t){O[t?"unshift":"push"]((function(){e(15,o=t)}))},function(t){O[t?"unshift":"push"]((function(){e(11,x=t)}))},function(){M=this.innerHTML,e(16,M),e(0,r),e(13,R),e(2,nt),e(37,Q),e(38,tt),e(3,et),e(39,rt),e(40,it),e(48,ot),e(41,a),e(42,u),e(5,ut),e(45,p),e(4,at),e(47,J),e(7,Z)},function(t){O[t?"unshift":"push"]((function(){e(11,x=t)}))},function(t){e(3,et=t)},function(t){e(4,at=t)},function(t){e(5,ut=t)},function(n){E(t,n)},function(t){O[t?"unshift":"push"]((function(){e(14,i=t)}))}]}var yr=function(t){function n(n){t.call(this),Q(this,n,mr,vr,a,{annotation:0,dataToPx:41,pxToData:42,theme:43,cm:44,visWidth:45,isMobileWidth:46,key:6,index:7,editMode:8,isEditable:1,editorState:47,moveX:37,moveY:38,dragging:2,noOffsetAtEventStart:3,forceOffsetDrag:39,forceAnchorDrag:40,forceAnchorDragTemp:48,activeResizer:4,resizing:5},[-1,-1,-1])}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(tt);function br(t){var n,e,r,i,o,a,u=t[3]&&_r(t);return{c:function(){n=f("div"),i=d(),u&&u.c(),o=g(),y(n,"class",e="range-annotation dw-rect range "+t[0].type+" svelte-11oj9tu"),y(n,"style",r=t[6](t[0]))},m:function(t,e){c(t,n,e),c(t,i,e),u&&u.m(t,e),c(t,o,e),a=!0},p:function(t,i){(!a||1&i&&e!==(e="range-annotation dw-rect range "+t[0].type+" svelte-11oj9tu"))&&y(n,"class",e),(!a||65&i&&r!==(r=t[6](t[0])))&&y(n,"style",r),t[3]?u?(u.p(t,i),8&i&&I(u,1)):((u=_r(t)).c(),I(u,1),u.m(o.parentNode,o)):u&&(H(),U(u,1,1,(function(){u=null})),Y())},i:function(t){a||(I(u),a=!0)},o:function(t){U(u),a=!1},d:function(t){t&&l(n),t&&l(i),u&&u.d(t),t&&l(o)}}}function wr(t){var n,e,r,i,o,a,u=t[3]&&xr(t);return{c:function(){n=f("div"),u&&u.c(),y(n,"class",e="range-annotation dw-line line "+t[0].type+" svelte-11oj9tu"),y(n,"style",r=t[7](t[0])),w(n,"edit-mode",t[3]),w(n,"no-edit-mode",!t[3]),w(n,"selected",t[5])},m:function(e,r){c(e,n,r),u&&u.m(n,null),i=!0,o||(a=v(n,"mousedown",m(t[21])),o=!0)},p:function(t,o){t[3]?u?(u.p(t,o),8&o&&I(u,1)):((u=xr(t)).c(),I(u,1),u.m(n,null)):u&&(H(),U(u,1,1,(function(){u=null})),Y()),(!i||1&o&&e!==(e="range-annotation dw-line line "+t[0].type+" svelte-11oj9tu"))&&y(n,"class",e),(!i||129&o&&r!==(r=t[7](t[0])))&&y(n,"style",r),9&o&&w(n,"edit-mode",t[3]),9&o&&w(n,"no-edit-mode",!t[3]),33&o&&w(n,"selected",t[5])},i:function(t){i||(I(u),i=!0)},o:function(t){U(u),i=!1},d:function(t){t&&l(n),u&&u.d(),o=!1,a()}}}function _r(t){var n,e,r,i,o,a,s,h,p,g,b;function _(n){t[25].call(null,n)}function x(n){t[26].call(null,n)}var M={type:"range",annotation:t[0],index:t[4],orientation:t[0].type};return void 0!==t[2]&&(M.activeResizer=t[2]),void 0!==t[1]&&(M.resizing=t[1]),i=new gn({props:M}),O.push((function(){return V(i,"activeResizer",_)})),O.push((function(){return V(i,"resizing",x)})),i.$on("selectAnnotation",t[27]),{c:function(){n=f("div"),(e=f("div")).innerHTML='<div class="dot svelte-11oj9tu"></div>',r=d(),Z(i.$$.fragment),y(e,"class","dot-drag svelte-11oj9tu"),y(n,"style",s=t[6](t[0])),y(n,"class",h="range-annotation edit-mode range "+t[0].type+" svelte-11oj9tu"),w(n,"edit-mode",t[3]),w(n,"no-edit-mode",!t[3]),w(n,"selected",t[5])},m:function(o,a){c(o,n,a),u(n,e),u(n,r),G(i,n,null),p=!0,g||(b=v(e,"mousedown",m(t[9])),g=!0)},p:function(t,e){var r={};1&e&&(r.annotation=t[0]),16&e&&(r.index=t[4]),1&e&&(r.orientation=t[0].type),!o&&4&e&&(o=!0,r.activeResizer=t[2],D((function(){return o=!1}))),!a&&2&e&&(a=!0,r.resizing=t[1],D((function(){return a=!1}))),i.$set(r),(!p||65&e&&s!==(s=t[6](t[0])))&&y(n,"style",s),(!p||1&e&&h!==(h="range-annotation edit-mode range "+t[0].type+" svelte-11oj9tu"))&&y(n,"class",h),9&e&&w(n,"edit-mode",t[3]),9&e&&w(n,"no-edit-mode",!t[3]),33&e&&w(n,"selected",t[5])},i:function(t){p||(I(i.$$.fragment,t),p=!0)},o:function(t){U(i.$$.fragment,t),p=!1},d:function(t){t&&l(n),K(i),g=!1,b()}}}function xr(t){var n,e,r,i;function o(n){t[22].call(null,n)}function a(n){t[23].call(null,n)}var u={annotation:t[0],index:t[4],orientation:t[0].type};return void 0!==t[2]&&(u.activeResizer=t[2]),void 0!==t[1]&&(u.resizing=t[1]),n=new gn({props:u}),O.push((function(){return V(n,"activeResizer",o)})),O.push((function(){return V(n,"resizing",a)})),n.$on("selectAnnotation",t[24]),{c:function(){Z(n.$$.fragment)},m:function(t,e){G(n,t,e),i=!0},p:function(t,i){var o={};1&i&&(o.annotation=t[0]),16&i&&(o.index=t[4]),1&i&&(o.orientation=t[0].type),!e&&4&i&&(e=!0,o.activeResizer=t[2],D((function(){return e=!1}))),!r&&2&i&&(r=!0,o.resizing=t[1],D((function(){return r=!1}))),n.$set(o)},i:function(t){i||(I(n.$$.fragment,t),i=!0)},o:function(t){U(n.$$.fragment,t),i=!1},d:function(t){K(n,t)}}}function Mr(t){var n,e,r,i,o,a,u=[wr,br],s=[];function f(t,n){return"line"===t[0].display?0:1}return n=f(t),e=s[n]=u[n](t),{c:function(){e.c(),r=g()},m:function(e,u){s[n].m(e,u),c(e,r,u),i=!0,o||(a=v(window,"keydown",t[8]),o=!0)},p:function(t,i){var o=i[0],a=n;(n=f(t))===a?s[n].p(t,o):(H(),U(s[a],1,1,(function(){s[a]=null})),Y(),(e=s[n])?e.p(t,o):(e=s[n]=u[n](t)).c(),I(e,1),e.m(r.parentNode,r))},i:function(t){i||(I(e),i=!0)},o:function(t){U(e),i=!1},d:function(t){s[n].d(t),t&&l(r),o=!1,a()}}}function kr(t,n,e){var r,i,o,a,u,c,l,s=n.annotation,f=n.dataToPx,h=n.pxToData,p=n.editorState,d=n.editMode,g=n.index,v=n.moveX,m=n.moveY,y=n.resizing,b=n.dragging,w=n.activeResizer,_=n.forceAnchorDragTemp,x=A();return t.$$set=function(t){"annotation"in t&&e(0,s=t.annotation),"dataToPx"in t&&e(13,f=t.dataToPx),"pxToData"in t&&e(14,h=t.pxToData),"editorState"in t&&e(15,p=t.editorState),"editMode"in t&&e(3,d=t.editMode),"index"in t&&e(4,g=t.index),"moveX"in t&&e(10,v=t.moveX),"moveY"in t&&e(11,m=t.moveY),"resizing"in t&&e(1,y=t.resizing),"dragging"in t&&e(12,b=t.dragging),"activeResizer"in t&&e(2,w=t.activeResizer),"forceAnchorDragTemp"in t&&e(16,_=t.forceAnchorDragTemp)},t.$$.update=function(){if(32784&t.$$.dirty&&e(5,r=1===p.selectedRangeAnnotations.length&&p.selectedRangeAnnotations[0]===g),93223&t.$$.dirty&&r&&y&&(v||m))if(["l","r"].includes(w)){var n,d=f(s.x0,0)[0],x=f(s.x1,0)[0];"l"===w&&"line"===s.display?n="x0":"l"===w?n=d>x?"x1":"x0":"r"===w&&(n=d>x?"x0":"x1");var M=f(s[n],0)[0],k=f(s["x1"===n?"x0":"x1"],0)[0];M-k>0!=M+v-k>0&&e(2,w="l"===w?"r":"l");var S=h(M+=v,0)[0];if(e(0,s[n]=S,s),_){var A=h(k-=v,0)[0];e(0,s["x1"===n?"x0":"x1"]=A,s)}e(10,v=0)}else{var E,$=f(0,s.y0)[1],O=f(0,s.y1)[1];"t"===w&&"line"===s.display?E="y0":"t"===w?E=$<O?"y0":"y1":"b"===w&&(E=$<O?"y1":"y0");var j=f(0,s[E]),N=j[0],z=j[1],L=f(0,s["y1"===E?"y0":"y1"])[1];z-L>0!=z+m-L>0&&e(2,w="t"===w?"b":"t");var T=h(N,z+=m),P=(T[0],T[1]);e(0,s[E]=P,s),e(11,m=0)}if(31777&t.$$.dirty&&r&&b&&(v||m))if("x"===s.type){var D=f(s.x0,0),C=D[0],R=(D[1],f(s.x1,0)),B=R[0];R[1],B+=v;var F=h(C+=v,0),q=F[0],W=(F[1],h(B,0)),H=W[0];W[1],e(0,s.x0=q,s),e(0,s.x1=H,s),e(10,v=0)}else{var Y=f(0,s.y0),I=(Y[0],Y[1]),U=f(0,s.y1),X=(U[0],U[1]);X+=m;var V=h(0,I+=m),Z=(V[0],V[1]),G=h(0,X),K=(G[0],G[1]);e(0,s.y0=Z,s),e(0,s.y1=K,s),e(11,m=0)}8193&t.$$.dirty&&e(17,i="x"===s.type?f(s.x0,0)[0]:f(0,s.y0)[1]),8193&t.$$.dirty&&e(18,o="x"===s.type?f(s.x1,0)[0]:f(0,s.y1)[1]),393216&t.$$.dirty&&e(19,a=Math.min(i,o)),393216&t.$$.dirty&&e(20,u=Math.max(i,o)),1572864&t.$$.dirty&&e(6,c=function(t){var n=[],e=ze(t.color),r=t.opacity/100;return n.push("background-color: rgba("+e.r+", "+e.g+", "+e.b+", "+r+")"),n.push(("x"===t.type?"left":"top")+": "+a+"px"),n.push(("x"===t.type?"width":"height")+": "+(u-a)+"px"),n.join("; ")}),131072&t.$$.dirty&&e(7,l=function(t){var n=[];n.push(("x"===t.type?"left":"top")+": "+i+"px");var e=ze(t.color),r=t.opacity/100;return n.push("border-color: rgba("+e.r+", "+e.g+", "+e.b+", "+r+")"),"x"===t.type?n.push("border-left-width: "+(t.strokeWidth||1)+"px"):n.push("border-top-width: "+(t.strokeWidth||1)+"px"),"dashed"===t.strokeType?n.push("border-style: dashed"):"dotted"===t.strokeType?n.push("border-style: dotted"):n.push("border-style: solid"),n.join("; ")})},[s,y,w,d,g,r,c,l,function(t){d&&"Escape"===t.key&&r&&x("selectAnnotation",null)},function(t){d&&(x("selectAnnotation",{type:"range",index:g}),e(12,b=!0))},v,m,b,f,h,p,_,i,o,a,u,function(n){E(t,n)},function(t){e(2,w=t),e(5,r),e(1,y),e(10,v),e(11,m),e(13,f),e(0,s),e(14,h),e(16,_),e(15,p),e(4,g),e(12,b)},function(t){e(1,y=t)},function(n){E(t,n)},function(t){e(2,w=t),e(5,r),e(1,y),e(10,v),e(11,m),e(13,f),e(0,s),e(14,h),e(16,_),e(15,p),e(4,g),e(12,b)},function(t){e(1,y=t)},function(n){E(t,n)}]}var Sr=function(t){function n(n){t.call(this),Q(this,n,kr,Mr,a,{annotation:0,dataToPx:13,pxToData:14,editorState:15,editMode:3,index:4,moveX:10,moveY:11,resizing:1,dragging:12,activeResizer:2,forceAnchorDragTemp:16})}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(tt);function Ar(t){if(!t||"object"!=It(t))return t;try{return JSON.parse(JSON.stringify(t))}catch(n){return t}}var Er=X.document;function $r(t,n,e){var r=t.slice();return r[67]=n[e],r[69]=e,r}function Or(t,n,e){var r=t.slice();return r[67]=n[e],r[69]=e,r}function jr(t){var n,e,r,i,o,a,u,c,l,s,f;function h(n){t[43].call(null,n)}function p(n){t[44].call(null,n)}function d(n){t[45].call(null,n)}function g(n){t[46].call(null,n)}function v(n){t[47].call(null,n)}function m(n){t[48].call(null,n)}function y(n){t[49].call(null,n)}function b(n){t[50].call(null,n)}function w(n){t[51].call(null,n)}var _={annotation:t[67],dataToPx:t[1],pxToData:t[2],theme:t[3],cm:t[4],visWidth:t[5],isMobileWidth:t[15],index:t[25].length-1-t[69],editMode:t[7],editorState:t[0],forceAnchorDragTemp:t[22],key:t[16][t[25].length-1-t[69]]};return void 0!==t[19]&&(_.noOffsetAtEventStart=t[19]),void 0!==t[24]&&(_.isEditable=t[24]),void 0!==t[11]&&(_.dragging=t[11]),void 0!==t[21]&&(_.forceAnchorDrag=t[21]),void 0!==t[20]&&(_.forceOffsetDrag=t[20]),void 0!==t[9]&&(_.moveX=t[9]),void 0!==t[10]&&(_.moveY=t[10]),void 0!==t[12]&&(_.resizing=t[12]),void 0!==t[23]&&(_.activeResizer=t[23]),n=new yr({props:_}),O.push((function(){return V(n,"noOffsetAtEventStart",h)})),O.push((function(){return V(n,"isEditable",p)})),O.push((function(){return V(n,"dragging",d)})),O.push((function(){return V(n,"forceAnchorDrag",g)})),O.push((function(){return V(n,"forceOffsetDrag",v)})),O.push((function(){return V(n,"moveX",m)})),O.push((function(){return V(n,"moveY",y)})),O.push((function(){return V(n,"resizing",b)})),O.push((function(){return V(n,"activeResizer",w)})),n.$on("selectAnnotation",t[28]),n.$on("updateEditorState",t[29]),n.$on("update",t[52]),{c:function(){Z(n.$$.fragment)},m:function(t,e){G(n,t,e),f=!0},p:function(t,f){var h={};33554432&f[0]&&(h.annotation=t[67]),2&f[0]&&(h.dataToPx=t[1]),4&f[0]&&(h.pxToData=t[2]),8&f[0]&&(h.theme=t[3]),16&f[0]&&(h.cm=t[4]),32&f[0]&&(h.visWidth=t[5]),32768&f[0]&&(h.isMobileWidth=t[15]),33554432&f[0]&&(h.index=t[25].length-1-t[69]),128&f[0]&&(h.editMode=t[7]),1&f[0]&&(h.editorState=t[0]),4194304&f[0]&&(h.forceAnchorDragTemp=t[22]),33619968&f[0]&&(h.key=t[16][t[25].length-1-t[69]]),!e&&524288&f[0]&&(e=!0,h.noOffsetAtEventStart=t[19],D((function(){return e=!1}))),!r&&16777216&f[0]&&(r=!0,h.isEditable=t[24],D((function(){return r=!1}))),!i&&2048&f[0]&&(i=!0,h.dragging=t[11],D((function(){return i=!1}))),!o&&2097152&f[0]&&(o=!0,h.forceAnchorDrag=t[21],D((function(){return o=!1}))),!a&&1048576&f[0]&&(a=!0,h.forceOffsetDrag=t[20],D((function(){return a=!1}))),!u&&512&f[0]&&(u=!0,h.moveX=t[9],D((function(){return u=!1}))),!c&&1024&f[0]&&(c=!0,h.moveY=t[10],D((function(){return c=!1}))),!l&&4096&f[0]&&(l=!0,h.resizing=t[12],D((function(){return l=!1}))),!s&&8388608&f[0]&&(s=!0,h.activeResizer=t[23],D((function(){return s=!1}))),n.$set(h)},i:function(t){f||(I(n.$$.fragment,t),f=!0)},o:function(t){U(n.$$.fragment,t),f=!1},d:function(t){K(n,t)}}}function Nr(t){var n,e,r,i,o,a,u;function c(n){t[54].call(null,n)}function l(n){t[55].call(null,n)}function s(n){t[56].call(null,n)}function f(n){t[57].call(null,n)}function h(n){t[58].call(null,n)}var p={annotation:t[67],dataToPx:t[1],pxToData:t[2],visWidth:t[5],editMode:t[7],editorState:t[0],forceAnchorDragTemp:t[22],index:t[26].length-1-t[69]};return void 0!==t[11]&&(p.dragging=t[11]),void 0!==t[9]&&(p.moveX=t[9]),void 0!==t[10]&&(p.moveY=t[10]),void 0!==t[12]&&(p.resizing=t[12]),void 0!==t[23]&&(p.activeResizer=t[23]),n=new Sr({props:p}),O.push((function(){return V(n,"dragging",c)})),O.push((function(){return V(n,"moveX",l)})),O.push((function(){return V(n,"moveY",s)})),O.push((function(){return V(n,"resizing",f)})),O.push((function(){return V(n,"activeResizer",h)})),n.$on("selectAnnotation",t[28]),{c:function(){Z(n.$$.fragment)},m:function(t,e){G(n,t,e),u=!0},p:function(t,u){var c={};67108864&u[0]&&(c.annotation=t[67]),2&u[0]&&(c.dataToPx=t[1]),4&u[0]&&(c.pxToData=t[2]),32&u[0]&&(c.visWidth=t[5]),128&u[0]&&(c.editMode=t[7]),1&u[0]&&(c.editorState=t[0]),4194304&u[0]&&(c.forceAnchorDragTemp=t[22]),67108864&u[0]&&(c.index=t[26].length-1-t[69]),!e&&2048&u[0]&&(e=!0,c.dragging=t[11],D((function(){return e=!1}))),!r&&512&u[0]&&(r=!0,c.moveX=t[9],D((function(){return r=!1}))),!i&&1024&u[0]&&(i=!0,c.moveY=t[10],D((function(){return i=!1}))),!o&&4096&u[0]&&(o=!0,c.resizing=t[12],D((function(){return o=!1}))),!a&&8388608&u[0]&&(a=!0,c.activeResizer=t[23],D((function(){return a=!1}))),n.$set(c)},i:function(t){u||(I(n.$$.fragment,t),u=!0)},o:function(t){U(n.$$.fragment,t),u=!1},d:function(t){K(n,t)}}}function zr(t){var n,e,r;return{c:function(){y(n=f("div"),"class",e="create-rect "+t[0].createMode+" svelte-1r6aetx"),y(n,"style",r=t[27]())},m:function(t,e){c(t,n,e)},p:function(t,i){1&i[0]&&e!==(e="create-rect "+t[0].createMode+" svelte-1r6aetx")&&y(n,"class",e),134217728&i[0]&&r!==(r=t[27]())&&y(n,"style",r)},d:function(t){t&&l(n)}}}function Lr(t){var n,e,r,o,a,h,p,g,m;P(t[42]);for(var b=t[25],_=[],x=0;x<b.length;x+=1)_[x]=jr(Or(t,b,x));for(var M=function(t){return U(_[t],1,1,(function(){_[t]=null}))},k=t[26],S=[],A=0;A<k.length;A+=1)S[A]=Nr($r(t,k,A));var E=function(t){return U(S[t],1,1,(function(){S[t]=null}))},$=t[7]&&t[13]&&zr(t);return{c:function(){n=d(),e=f("div"),r=f("div");for(var i=0;i<_.length;i+=1)_[i].c();o=d(),a=f("div");for(var u=0;u<S.length;u+=1)S[u].c();h=d(),$&&$.c(),y(r,"class","text-annotations"),y(r,"aria-label",t[6]),y(r,"role","list"),y(a,"class","range-annotations svelte-1r6aetx"),y(e,"class","annotations-inner svelte-1r6aetx"),w(e,"editing",t[14]),w(e,"create-mode",t[0].createMode),w(e,"creating",t[13])},m:function(i,l){c(i,n,l),c(i,e,l),u(e,r);for(var s=0;s<_.length;s+=1)_[s].m(r,null);t[53](r),u(e,o),u(e,a);for(var f=0;f<S.length;f+=1)S[f].m(a,null);var d;u(e,h),$&&$.m(e,null),t[59](e),p=!0,g||(m=[v(window,"keydown",t[30]),v(window,"mousedown",t[31]),v(window,"mousemove",t[32]),v(window,"mouseup",t[33]),v(window,"resize",t[42]),v(Er.body,"mouseleave",t[34]),v(e,"mousedown",(d=t[35],function(t){return t.preventDefault(),d.call(this,t)}))],g=!0)},p:function(t,n){if(871997119&n[0]){var i;for(b=t[25],i=0;i<b.length;i+=1){var o=Or(t,b,i);_[i]?(_[i].p(o,n),I(_[i],1)):(_[i]=jr(o),_[i].c(),I(_[i],1),_[i].m(r,null))}for(H(),i=b.length;i<_.length;i+=1)M(i);Y()}if((!p||64&n[0])&&y(r,"aria-label",t[6]),348135079&n[0]){var u;for(k=t[26],u=0;u<k.length;u+=1){var c=$r(t,k,u);S[u]?(S[u].p(c,n),I(S[u],1)):(S[u]=Nr(c),S[u].c(),I(S[u],1),S[u].m(a,null))}for(H(),u=k.length;u<S.length;u+=1)E(u);Y()}t[7]&&t[13]?$?$.p(t,n):(($=zr(t)).c(),$.m(e,null)):$&&($.d(1),$=null),16384&n[0]&&w(e,"editing",t[14]),1&n[0]&&w(e,"create-mode",t[0].createMode),8192&n[0]&&w(e,"creating",t[13])},i:function(t){if(!p){for(var n=0;n<b.length;n+=1)I(_[n]);for(var e=0;e<k.length;e+=1)I(S[e]);p=!0}},o:function(t){_=_.filter(Boolean);for(var n=0;n<_.length;n+=1)U(_[n]);S=S.filter(Boolean);for(var e=0;e<S.length;e+=1)U(S[e]);p=!1},d:function(r){r&&l(n),r&&l(e),s(_,r),t[53](null),s(S,r),$&&$.d(),t[59](null),g=!1,i(m)}}}function Tr(t,n,e){var r=n.textAnnotations;void 0===r&&(r=[]);var i=n.rangeAnnotations;void 0===i&&(i=[]);var o,a,u=n.dataToPx,c=n.pxToData,l=n.theme,s=n.cm,f=n.visWidth,h=n.annotationKeysSel,p=n.ariaLabel;void 0===p&&(p="");var d=n.editMode;void 0===d&&(d=!1);var g,v=n.editorState;void 0===v&&(v={defaults:{},selectedTextAnnotations:[],selectedRangeAnnotations:[],createMode:!1,hideConnectorLine:!1,forceOffsetDrag:!1,pxToData:null,selectedAnnotationProps:{x:null,y:null,width:null,height:null,mobileFallback:!1}}),S((function(){v&&(e(0,v.width=g.offsetWidth,v),e(0,v.height=g.offsetHeight,v))}));var m,y,b,w,_,x=0,M=0,$=!1,j=!1,N=!1,z=0,L=0,T=!1,P=!1;function D(){e(19,m=!1),e(20,y=!1),e(21,b=!1),e(22,w=!1),e(0,v.forceOffsetDrag=!1,v),e(11,$=!1),j=!1,e(12,N=!1)}function C(){e(9,x=0),e(10,M=0),e(39,z=0),e(40,L=0),e(13,T=!1),e(0,v.createMode=!1,v)}var R,B=A();R=function(){d&&B("update")},k().$$.before_update.push(R);var F,q,W,H,Y,I,U=!1,X=document.querySelector(".dw-chart-body");return t.$$set=function(t){"textAnnotations"in t&&e(36,r=t.textAnnotations),"rangeAnnotations"in t&&e(37,i=t.rangeAnnotations),"dataToPx"in t&&e(1,u=t.dataToPx),"pxToData"in t&&e(2,c=t.pxToData),"theme"in t&&e(3,l=t.theme),"cm"in t&&e(4,s=t.cm),"visWidth"in t&&e(5,f=t.visWidth),"annotationKeysSel"in t&&e(38,h=t.annotationKeysSel),"ariaLabel"in t&&e(6,p=t.ariaLabel),"editMode"in t&&e(7,d=t.editMode),"editorState"in t&&e(0,v=t.editorState)},t.$$.update=function(){if(32&t.$$.dirty[1]&&e(25,F=[].concat(r).reverse()),64&t.$$.dirty[1]&&e(26,q=[].concat(i).reverse()),256&t.$$.dirty[0]&&e(15,W=o<=450),32768&t.$$.dirty[0]|32&t.$$.dirty[1]&&e(41,H=function(){var t=0;return r.map((function(n){var e=W&&n.mobileFallback&&!Xe(n)&&!Ve(n);return e&&t++,{render:e,num:e?t:null}}))}),1024&t.$$.dirty[1]&&e(16,Y=H()),98304&t.$$.dirty[0]|160&t.$$.dirty[1]&&(h.classed("hide",!0).html(""),W)){var n=!1;r.forEach((function(t,e){var r=Y[e];r.render&&(n=!0,h.append("div.key").html('<div class="num dw-circle dw-bold"><span class="export-text">'+r.num+'</span></div><span class="text export-text">'+nr(t.text)+"</span>"))})),h.classed("hide",!n)}5&t.$$.dirty[0]&&v&&e(0,v.pxToData=c,v),3&t.$$.dirty[0]&&v&&e(0,v.dataToPx=u,v),1537&t.$$.dirty[0]|768&t.$$.dirty[1]&&e(27,I=function(){var t=[];if("text"===v.createMode){if(Math.abs(x)<1)return;return t.push("top: "+(M>0?L:L+M)+"px"),t.push("height: "+(M>0?M:-M)+"px"),t.push("left: "+(x>0?z:z+x)+"px"),t.push("width: "+(x>0?x:-x)+"px"),t.join("; ")}if("range"===v.createMode){if(Math.abs(x)<1&&Math.abs(M)<1)return;Math.abs(M)>Math.abs(x)?(t.push("top: "+(M<0?L+M:L)+"px"),t.push("left: 0px"),t.push("width: 100%"),t.push("height: "+Math.abs(M)+"px")):(t.push("top: 0px"),t.push("left: "+(x<0?z+x:z)+"px"),t.push("height: 100%"),t.push("width: "+Math.abs(x)+"px"))}return t.join("; ")}),30720&t.$$.dirty[0]&&(e(14,U=$||N||T),X&&(U?X.classList.add("editing-annotations"):X.classList.remove("editing-annotations")))},[v,u,c,l,s,f,p,d,o,x,M,$,N,T,U,W,Y,a,g,m,y,b,w,_,P,F,q,I,function(t){if(null===t.detail)return e(0,v.selectedTextAnnotations=[],v),e(0,v.selectedRangeAnnotations=[],v),void e(24,P=!1);if("text"===t.detail.type){var n=v.selectedTextAnnotations,r=n.length>1;(n[0]!==t.detail.index||r)&&(e(24,P=!1),e(0,v.selectedTextAnnotations=[t.detail.index],v),e(0,v.selectedRangeAnnotations=[],v))}else e(0,v.selectedRangeAnnotations=[t.detail.index],v),e(0,v.selectedTextAnnotations=[],v)},function(t){var n=Object.entries(t.detail)[0],r=n[0],i=n[1];e(0,v[r]=i,v)},function(t){d&&"Escape"===t.key&&T&&C()},function(t){d&&(e(0,v.selectedTextAnnotations=[],v),e(0,v.selectedRangeAnnotations=[],v))},function(t){d&&(($||T||N&&["l","r"].includes(_))&&(e(9,x+=t.movementX),t.movementX&&(e(24,P=!1),j=!0)),($||T||N&&["t","b"].includes(_))&&(e(10,M+=t.movementY),t.movementY&&(e(24,P=!1),j=!0)),e(22,w=!1),t.ctrlKey&&!m&&e(22,w=!0))},function(t){d&&(j||e(24,P=t.target.classList.contains("text-edit")||t.target.parentNode.classList&&t.target.parentNode.classList.contains("text-edit")),D(),T&&(function(){if("text"===v.createMode){var t=c(z,L),n=t[0],o=t[1],a=function(t,n){var e=t<0,r=n<0;return e&&r?"br":e&&!r?"tr":!e&&r?"bl":"tl"}(x,M),u=Math.abs(x/f*100),l=Object.assign({},Ar(v.defaults.text),{x:n,y:o,align:a,width:u});Math.abs(x)<10&&Math.abs(M)<10&&(l.width=25,l.align="mc",l.dy=L<100?50:-50,l.connectorLine.enabled=!0),W&&(l.mobileFallback=!1),r.unshift(l),e(36,r)}else if("range"===v.createMode){var s=c(z,L),h=s[0],p=s[1],d=c(z+x,L+M),g=d[0],m=d[1],y=Math.abs(x)>Math.abs(M)?"x":"y",b="range";("x"===y&&Math.abs(x)<10||"y"===y&&Math.abs(M)<10)&&(b="line");var w=Object.assign({},Ar(v.defaults[b]),{type:y,display:b,x0:h,x1:g,y0:p,y1:m});i.unshift(w),e(37,i)}}(),function(){if("text"===v.createMode){if(e(0,v.selectedTextAnnotations=[0],v),e(0,v.selectedRangeAnnotations=[],v),H()[0].render)return;e(24,P=!0),setTimeout((function(){var t=r.length-1,n=a.querySelectorAll(".text-annotation")[t].querySelector(".text-edit");n.focus(),function(t){var n=document.createRange();n.selectNodeContents(t);var e=window.getSelection();e.removeAllRanges(),e.addRange(n)}(n)}))}"range"===v.createMode&&(e(0,v.selectedTextAnnotations=[],v),e(0,v.selectedRangeAnnotations=[0],v))}(),C()))},function(){d&&($||N)&&D()},function(t){d&&v.createMode&&(e(13,T=!0),e(39,z=t.offsetX),e(40,L=t.offsetY))},r,i,h,z,L,H,function(){e(8,o=window.innerWidth)},function(t){e(19,m=t)},function(t){e(24,P=t)},function(t){e(11,$=t)},function(t){e(21,b=t)},function(t){e(20,y=t)},function(t){e(9,x=t)},function(t){e(10,M=t)},function(t){e(12,N=t)},function(t){e(23,_=t)},function(n){E(t,n)},function(t){O[t?"unshift":"push"]((function(){e(17,a=t)}))},function(t){e(11,$=t)},function(t){e(9,x=t)},function(t){e(10,M=t)},function(t){e(12,N=t)},function(t){e(23,_=t)},function(t){O[t?"unshift":"push"]((function(){e(18,g=t)}))}]}return function(t){function n(n){t.call(this),Q(this,n,Tr,Lr,a,{textAnnotations:36,rangeAnnotations:37,dataToPx:1,pxToData:2,theme:3,cm:4,visWidth:5,annotationKeysSel:38,ariaLabel:6,editMode:7,editorState:0},[-1,-1,-1])}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(tt)}()}));bt.prototype.translate=yi,bt.prototype.append=wi,bt.prototype.insert=xi,bt.prototype.parent=Mi,bt.prototype.selectAppend=ki,bt.prototype.tspans=Si,bt.prototype.appendMany=Ai,bt.prototype.at=$i,bt.prototype.st=ji,bt.prototype.prop=bt.prototype.property;var Tl="1.13.1",Pl="object"==("undefined"==typeof self?"undefined":It(self))&&self.self===self&&self||"object"==("undefined"==typeof global?"undefined":It(global))&&global.global===global&&global||Function("return this")()||{},Dl=Array.prototype,Cl=Object.prototype,Rl="undefined"!=typeof Symbol?Symbol.prototype:null,Bl=Dl.push,Fl=Dl.slice,ql=Cl.toString,Wl=Cl.hasOwnProperty,Hl="undefined"!=typeof ArrayBuffer,Yl="undefined"!=typeof DataView,Il=Array.isArray,Ul=Object.keys,Xl=Object.create,Vl=Hl&&ArrayBuffer.isView,Zl=isNaN,Gl=isFinite,Kl=!{toString:null}.propertyIsEnumerable("toString"),Jl=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Ql=Math.pow(2,53)-1;function ts(t,n){return n=null==n?t.length-1:+n,function(){for(var e=Math.max(arguments.length-n,0),r=Array(e),i=0;i<e;i++)r[i]=arguments[i+n];switch(n){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(n+1);for(i=0;i<n;i++)o[i]=arguments[i];return o[n]=r,t.apply(this,o)}}function ns(t){var n=It(t);return"function"===n||"object"===n&&!!t}function es(t){return void 0===t}function rs(t){return!0===t||!1===t||"[object Boolean]"===ql.call(t)}function is(t){var n="[object "+t+"]";return function(t){return ql.call(t)===n}}var os=is("String"),as=is("Number"),us=is("Date"),cs=is("RegExp"),ls=is("Error"),ss=is("Symbol"),fs=is("ArrayBuffer"),hs=is("Function"),ps=Pl.document&&Pl.document.childNodes;"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":It(Int8Array))&&"function"!=typeof ps&&(hs=function(t){return"function"==typeof t||!1});var ds=hs,gs=is("Object"),vs=Yl&&gs(new DataView(new ArrayBuffer(8))),ms="undefined"!=typeof Map&&gs(new Map),ys=is("DataView");var bs=vs?function(t){return null!=t&&ds(t.getInt8)&&fs(t.buffer)}:ys,ws=Il||is("Array");function _s(t,n){return null!=t&&Wl.call(t,n)}var xs=is("Arguments");!function(){xs(arguments)||(xs=function(t){return _s(t,"callee")})}();var Ms=xs;function ks(t){return as(t)&&Zl(t)}function Ss(t){return function(){return t}}function As(t){return function(n){var e=t(n);return"number"==typeof e&&e>=0&&e<=Ql}}function Es(t){return function(n){return null==n?void 0:n[t]}}var $s=Es("byteLength"),Os=As($s),js=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var Ns=Hl?function(t){return Vl?Vl(t)&&!bs(t):Os(t)&&js.test(ql.call(t))}:Ss(!1),zs=Es("length");function Ls(t,n){n=function(t){for(var n={},e=t.length,r=0;r<e;++r)n[t[r]]=!0;return{contains:function(t){return n[t]},push:function(e){return n[e]=!0,t.push(e)}}}(n);var e=Jl.length,r=t.constructor,i=ds(r)&&r.prototype||Cl,o="constructor";for(_s(t,o)&&!n.contains(o)&&n.push(o);e--;)(o=Jl[e])in t&&t[o]!==i[o]&&!n.contains(o)&&n.push(o)}function Ts(t){if(!ns(t))return[];if(Ul)return Ul(t);var n=[];for(var e in t)_s(t,e)&&n.push(e);return Kl&&Ls(t,n),n}function Ps(t){if(null==t)return!0;var n=zs(t);return"number"==typeof n&&(ws(t)||os(t)||Ms(t))?0===n:0===zs(Ts(t))}function Ds(t,n){var e=Ts(n),r=e.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=e[o];if(n[a]!==i[a]||!(a in i))return!1}return!0}function Cs(t){return t instanceof Cs?t:this instanceof Cs?void(this._wrapped=t):new Cs(t)}function Rs(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,$s(t))}Cs.VERSION=Tl,Cs.prototype.value=function(){return this._wrapped},Cs.prototype.valueOf=Cs.prototype.toJSON=Cs.prototype.value,Cs.prototype.toString=function(){return String(this._wrapped)};var Bs="[object DataView]";function Fs(t,n,e,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var i=It(t);return("function"===i||"object"===i||"object"==It(n))&&qs(t,n,e,r)}function qs(t,n,e,r){t instanceof Cs&&(t=t._wrapped),n instanceof Cs&&(n=n._wrapped);var i=ql.call(t);if(i!==ql.call(n))return!1;if(vs&&"[object Object]"==i&&bs(t)){if(!bs(n))return!1;i=Bs}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return Rl.valueOf.call(t)===Rl.valueOf.call(n);case"[object ArrayBuffer]":case Bs:return qs(Rs(t),Rs(n),e,r)}var o="[object Array]"===i;if(!o&&Ns(t)){if($s(t)!==$s(n))return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;o=!0}if(!o){if("object"!=It(t)||"object"!=It(n))return!1;var a=t.constructor,u=n.constructor;if(a!==u&&!(ds(a)&&a instanceof a&&ds(u)&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}r=r||[];for(var c=(e=e||[]).length;c--;)if(e[c]===t)return r[c]===n;if(e.push(t),r.push(n),o){if((c=t.length)!==n.length)return!1;for(;c--;)if(!Fs(t[c],n[c],e,r))return!1}else{var l,s=Ts(t);if(c=s.length,Ts(n).length!==c)return!1;for(;c--;)if(!_s(n,l=s[c])||!Fs(t[l],n[l],e,r))return!1}return e.pop(),r.pop(),!0}function Ws(t,n){return Fs(t,n)}function Hs(t){if(!ns(t))return[];var n=[];for(var e in t)n.push(e);return Kl&&Ls(t,n),n}function Ys(t){var n=zs(t);return function(e){if(null==e)return!1;var r=Hs(e);if(zs(r))return!1;for(var i=0;i<n;i++)if(!ds(e[t[i]]))return!1;return t!==Zs||!ds(e[Is])}}var Is="forEach",Us=["clear","delete"],Xs=["get","has","set"],Vs=Us.concat(Is,Xs),Zs=Us.concat(Xs),Gs=["add"].concat(Us,Is,"has"),Ks=ms?Ys(Vs):is("Map"),Js=ms?Ys(Zs):is("WeakMap"),Qs=ms?Ys(Gs):is("Set"),tf=is("WeakSet");function nf(t){for(var n=Ts(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=t[n[i]];return r}function ef(t){for(var n={},e=Ts(t),r=0,i=e.length;r<i;r++)n[t[e[r]]]=e[r];return n}function rf(t){var n=[];for(var e in t)ds(t[e])&&n.push(e);return n.sort()}function of(t,n){return function(e){var r=arguments.length;if(n&&(e=Object(e)),r<2||null==e)return e;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),u=a.length,c=0;c<u;c++){var l=a[c];n&&void 0!==e[l]||(e[l]=o[l])}return e}}var af=of(Hs),uf=of(Ts),cf=of(Hs,!0);function lf(t){if(!ns(t))return{};if(Xl)return Xl(t);var n=function(){};n.prototype=t;var e=new n;return n.prototype=null,e}function sf(t){return ns(t)?ws(t)?t.slice():af({},t):t}function ff(t){return ws(t)?t:[t]}function hf(t){return Cs.toPath(t)}function pf(t,n){for(var e=n.length,r=0;r<e;r++){if(null==t)return;t=t[n[r]]}return e?t:void 0}function df(t,n,e){var r=pf(t,hf(n));return es(r)?e:r}function gf(t){return t}function vf(t){return t=uf({},t),function(n){return Ds(n,t)}}function mf(t){return t=hf(t),function(n){return pf(n,t)}}function yf(t,n,e){if(void 0===n)return t;switch(null==e?3:e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,o){return t.call(n,e,r,i,o)}}return function(){return t.apply(n,arguments)}}function bf(t,n,e){return null==t?gf:ds(t)?yf(t,n,e):ns(t)&&!ws(t)?vf(t):mf(t)}function wf(t,n){return bf(t,n,1/0)}function _f(t,n,e){return Cs.iteratee!==wf?Cs.iteratee(t,n):bf(t,n,e)}function xf(){}function Mf(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))}Cs.toPath=ff,Cs.iteratee=wf;var kf=Date.now||function(){return(new Date).getTime()};function Sf(t){var n=function(n){return t[n]},e="(?:"+Ts(t).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,n):t}}var Af={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ef=Sf(Af),$f=Sf(ef(Af)),Of=Cs.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},jf=/(.)^/,Nf={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},zf=/\\|'|\r|\n|\u2028|\u2029/g;function Lf(t){return"\\"+Nf[t]}var Tf=/^\s*(\w|\$)+\s*$/;var Pf=0;function Df(t,n,e,r,i){if(!(r instanceof n))return t.apply(e,i);var o=lf(t.prototype),a=t.apply(o,i);return ns(a)?a:o}var Cf=ts((function(t,n){var e=Cf.placeholder;return function r(){for(var i=0,o=n.length,a=Array(o),u=0;u<o;u++)a[u]=n[u]===e?arguments[i++]:n[u];for(;i<arguments.length;)a.push(arguments[i++]);return Df(t,r,this,this,a)}}));Cf.placeholder=Cs;var Rf=ts((function(t,n,e){if(!ds(t))throw new TypeError("Bind must be called on a function");var r=ts((function(i){return Df(t,r,n,this,e.concat(i))}));return r})),Bf=As(zs);function Ff(t,n,e,r){if(r=r||[],n||0===n){if(n<=0)return r.concat(t)}else n=1/0;for(var i=r.length,o=0,a=zs(t);o<a;o++){var u=t[o];if(Bf(u)&&(ws(u)||Ms(u)))if(n>1)Ff(u,n-1,e,r),i=r.length;else for(var c=0,l=u.length;c<l;)r[i++]=u[c++];else e||(r[i++]=u)}return r}var qf=ts((function(t,n){var e=(n=Ff(n,!1,!1)).length;if(e<1)throw new Error("bindAll must be passed function names");for(;e--;){var r=n[e];t[r]=Rf(t[r],t)}return t}));var Wf=ts((function(t,n,e){return setTimeout((function(){return t.apply(null,e)}),n)})),Hf=Cf(Wf,Cs,1);function Yf(t,n,e){var r,i,o,a,u,c=function c(){var l=kf()-i;n>l?r=setTimeout(c,n-l):(r=null,e||(a=t.apply(u,o)),r||(o=u=null))},l=ts((function(l){return u=this,o=l,i=kf(),r||(r=setTimeout(c,n),e&&(a=t.apply(u,o))),a}));return l.cancel=function(){clearTimeout(r),r=o=u=null},l}function If(t){return function(){return!t.apply(this,arguments)}}function Uf(t,n){var e;return function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=null),e}}var Xf=Cf(Uf,2);function Vf(t,n,e){n=_f(n,e);for(var r,i=Ts(t),o=0,a=i.length;o<a;o++)if(n(t[r=i[o]],r,t))return r}function Zf(t){return function(n,e,r){e=_f(e,r);for(var i=zs(n),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(e(n[o],o,n))return o;return-1}}var Gf=Zf(1),Kf=Zf(-1);function Jf(t,n,e,r){for(var i=(e=_f(e,r,1))(n),o=0,a=zs(t);o<a;){var u=Math.floor((o+a)/2);e(t[u])<i?o=u+1:a=u}return o}function Qf(t,n,e){return function(r,i,o){var a=0,u=zs(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+u,a):u=o>=0?Math.min(o+1,u):o+u+1;else if(e&&o&&u)return r[o=e(r,i)]===i?o:-1;if(i!=i)return(o=n(Fl.call(r,a,u),ks))>=0?o+a:-1;for(o=t>0?a:u-1;o>=0&&o<u;o+=t)if(r[o]===i)return o;return-1}}var th=Qf(1,Gf,Jf),nh=Qf(-1,Kf);function eh(t,n,e){var r=(Bf(t)?Gf:Vf)(t,n,e);if(void 0!==r&&-1!==r)return t[r]}function rh(t,n,e){var r,i;if(n=yf(n,e),Bf(t))for(r=0,i=t.length;r<i;r++)n(t[r],r,t);else{var o=Ts(t);for(r=0,i=o.length;r<i;r++)n(t[o[r]],o[r],t)}return t}function ih(t,n,e){n=_f(n,e);for(var r=!Bf(t)&&Ts(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var u=r?r[a]:a;o[a]=n(t[u],u,t)}return o}function oh(t){var n=function(n,e,r,i){var o=!Bf(n)&&Ts(n),a=(o||n).length,u=t>0?0:a-1;for(i||(r=n[o?o[u]:u],u+=t);u>=0&&u<a;u+=t){var c=o?o[u]:u;r=e(r,n[c],c,n)}return r};return function(t,e,r,i){var o=arguments.length>=3;return n(t,yf(e,i,4),r,o)}}var ah=oh(1),uh=oh(-1);function ch(t,n,e){var r=[];return n=_f(n,e),rh(t,(function(t,e,i){n(t,e,i)&&r.push(t)})),r}function lh(t,n,e){n=_f(n,e);for(var r=!Bf(t)&&Ts(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!n(t[a],a,t))return!1}return!0}function sh(t,n,e){n=_f(n,e);for(var r=!Bf(t)&&Ts(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(n(t[a],a,t))return!0}return!1}function fh(t,n,e,r){return Bf(t)||(t=nf(t)),("number"!=typeof e||r)&&(e=0),th(t,n,e)>=0}var hh=ts((function(t,n,e){var r,i;return ds(n)?i=n:(n=hf(n),r=n.slice(0,-1),n=n[n.length-1]),ih(t,(function(t){var o=i;if(!o){if(r&&r.length&&(t=pf(t,r)),null==t)return;o=t[n]}return null==o?o:o.apply(t,e)}))}));function ph(t,n){return ih(t,mf(n))}function dh(t,n,e){var r,i,o=-1/0,a=-1/0;if(null==n||"number"==typeof n&&"object"!=It(t[0])&&null!=t)for(var u=0,c=(t=Bf(t)?t:nf(t)).length;u<c;u++)null!=(r=t[u])&&r>o&&(o=r);else n=_f(n,e),rh(t,(function(t,e,r){((i=n(t,e,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)}));return o}function gh(t,n,e){if(null==n||e)return Bf(t)||(t=nf(t)),t[Mf(t.length-1)];var r=Bf(t)?sf(t):nf(t),i=zs(r);n=Math.max(Math.min(n,i),0);for(var o=i-1,a=0;a<n;a++){var u=Mf(a,o),c=r[a];r[a]=r[u],r[u]=c}return r.slice(0,n)}function vh(t,n){return function(e,r,i){var o=n?[[],[]]:{};return r=_f(r,i),rh(e,(function(n,i){var a=r(n,i,e);t(o,n,a)})),o}}var mh=vh((function(t,n,e){_s(t,e)?t[e].push(n):t[e]=[n]})),yh=vh((function(t,n,e){t[e]=n})),bh=vh((function(t,n,e){_s(t,e)?t[e]++:t[e]=1})),wh=vh((function(t,n,e){t[e?0:1].push(n)}),!0),_h=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function xh(t,n,e){return n in e}var Mh=ts((function(t,n){var e={},r=n[0];if(null==t)return e;ds(r)?(n.length>1&&(r=yf(r,n[1])),n=Hs(t)):(r=xh,n=Ff(n,!1,!1),t=Object(t));for(var i=0,o=n.length;i<o;i++){var a=n[i],u=t[a];r(u,a,t)&&(e[a]=u)}return e})),kh=ts((function(t,n){var e,r=n[0];return ds(r)?(r=If(r),n.length>1&&(e=n[1])):(n=ih(Ff(n,!1,!1),String),r=function(t,e){return!fh(n,e)}),Mh(t,r,e)}));function Sh(t,n,e){return Fl.call(t,0,Math.max(0,t.length-(null==n||e?1:n)))}function Ah(t,n,e){return null==t||t.length<1?null==n||e?void 0:[]:null==n||e?t[0]:Sh(t,t.length-n)}function Eh(t,n,e){return Fl.call(t,null==n||e?1:n)}var $h=ts((function(t,n){return n=Ff(n,!0,!0),ch(t,(function(t){return!fh(n,t)}))})),Oh=ts((function(t,n){return $h(t,n)}));function jh(t,n,e,r){rs(n)||(r=e,e=n,n=!1),null!=e&&(e=_f(e,r));for(var i=[],o=[],a=0,u=zs(t);a<u;a++){var c=t[a],l=e?e(c,a,t):c;n&&!e?(a&&o===l||i.push(c),o=l):e?fh(o,l)||(o.push(l),i.push(c)):fh(i,c)||i.push(c)}return i}var Nh=ts((function(t){return jh(Ff(t,!0,!0))}));function zh(t){for(var n=t&&dh(t,zs).length||0,e=Array(n),r=0;r<n;r++)e[r]=ph(t,r);return e}var Lh=ts(zh);function Th(t,n){return t._chain?Cs(n).chain():n}function Ph(t){return rh(rf(t),(function(n){var e=Cs[n]=t[n];Cs.prototype[n]=function(){var t=[this._wrapped];return Bl.apply(t,arguments),Th(this,e.apply(Cs,t))}})),Cs}rh(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var n=Dl[t];Cs.prototype[t]=function(){var e=this._wrapped;return null!=e&&(n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0]),Th(this,e)}})),rh(["concat","join","slice"],(function(t){var n=Dl[t];Cs.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=n.apply(t,arguments)),Th(this,t)}}));var Dh=Ph(Object.freeze({__proto__:null,VERSION:Tl,restArguments:ts,isObject:ns,isNull:function(t){return null===t},isUndefined:es,isBoolean:rs,isElement:function(t){return!(!t||1!==t.nodeType)},isString:os,isNumber:as,isDate:us,isRegExp:cs,isError:ls,isSymbol:ss,isArrayBuffer:fs,isDataView:bs,isArray:ws,isFunction:ds,isArguments:Ms,isFinite:function(t){return!ss(t)&&Gl(t)&&!isNaN(parseFloat(t))},isNaN:ks,isTypedArray:Ns,isEmpty:Ps,isMatch:Ds,isEqual:Ws,isMap:Ks,isWeakMap:Js,isSet:Qs,isWeakSet:tf,keys:Ts,allKeys:Hs,values:nf,pairs:function(t){for(var n=Ts(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=[n[i],t[n[i]]];return r},invert:ef,functions:rf,methods:rf,extend:af,extendOwn:uf,assign:uf,defaults:cf,create:function(t,n){var e=lf(t);return n&&uf(e,n),e},clone:sf,tap:function(t,n){return n(t),t},get:df,has:function(t,n){for(var e=(n=hf(n)).length,r=0;r<e;r++){var i=n[r];if(!_s(t,i))return!1;t=t[i]}return!!e},mapObject:function(t,n,e){n=_f(n,e);for(var r=Ts(t),i=r.length,o={},a=0;a<i;a++){var u=r[a];o[u]=n(t[u],u,t)}return o},identity:gf,constant:Ss,noop:xf,toPath:ff,property:mf,propertyOf:function(t){return null==t?xf:function(n){return df(t,n)}},matcher:vf,matches:vf,times:function(t,n,e){var r=Array(Math.max(0,t));n=yf(n,e,1);for(var i=0;i<t;i++)r[i]=n(i);return r},random:Mf,now:kf,escape:Ef,unescape:$f,templateSettings:Of,template:function(t,n,e){!n&&e&&(n=e),n=cf({},n,Cs.templateSettings);var r=RegExp([(n.escape||jf).source,(n.interpolate||jf).source,(n.evaluate||jf).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,(function(n,e,r,a,u){return o+=t.slice(i,u).replace(zf,Lf),i=u+n.length,e?o+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),n})),o+="';\n";var a,u=n.variable;if(u){if(!Tf.test(u))throw new Error("variable is not a bare identifier: "+u)}else o="with(obj||{}){\n"+o+"}\n",u="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(u,"_",o)}catch(t){throw t.source=o,t}var c=function(t){return a.call(this,t,Cs)};return c.source="function("+u+"){\n"+o+"}",c},result:function(t,n,e){var r=(n=hf(n)).length;if(!r)return ds(e)?e.call(t):e;for(var i=0;i<r;i++){var o=null==t?void 0:t[n[i]];void 0===o&&(o=e,i=r),t=ds(o)?o.call(t):o}return t},uniqueId:function(t){var n=++Pf+"";return t?t+n:n},chain:function(t){var n=Cs(t);return n._chain=!0,n},iteratee:wf,partial:Cf,bind:Rf,bindAll:qf,memoize:function(t,n){var e=function e(r){var i=e.cache,o=""+(n?n.apply(this,arguments):r);return _s(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return e.cache={},e},delay:Wf,defer:Hf,throttle:function(t,n,e){var r,i,o,a,u=0;e||(e={});var c=function(){u=!1===e.leading?0:kf(),r=null,a=t.apply(i,o),r||(i=o=null)},l=function(){var l=kf();u||!1!==e.leading||(u=l);var s=n-(l-u);return i=this,o=arguments,s<=0||s>n?(r&&(clearTimeout(r),r=null),u=l,a=t.apply(i,o),r||(i=o=null)):r||!1===e.trailing||(r=setTimeout(c,s)),a};return l.cancel=function(){clearTimeout(r),u=0,r=i=o=null},l},debounce:Yf,wrap:function(t,n){return Cf(n,t)},negate:If,compose:function(){var t=arguments,n=t.length-1;return function(){for(var e=n,r=t[n].apply(this,arguments);e--;)r=t[e].call(this,r);return r}},after:function(t,n){return function(){if(--t<1)return n.apply(this,arguments)}},before:Uf,once:Xf,findKey:Vf,findIndex:Gf,findLastIndex:Kf,sortedIndex:Jf,indexOf:th,lastIndexOf:nh,find:eh,detect:eh,findWhere:function(t,n){return eh(t,vf(n))},each:rh,forEach:rh,map:ih,collect:ih,reduce:ah,foldl:ah,inject:ah,reduceRight:uh,foldr:uh,filter:ch,select:ch,reject:function(t,n,e){return ch(t,If(_f(n)),e)},every:lh,all:lh,some:sh,any:sh,contains:fh,includes:fh,include:fh,invoke:hh,pluck:ph,where:function(t,n){return ch(t,vf(n))},max:dh,min:function(t,n,e){var r,i,o=1/0,a=1/0;if(null==n||"number"==typeof n&&"object"!=It(t[0])&&null!=t)for(var u=0,c=(t=Bf(t)?t:nf(t)).length;u<c;u++)null!=(r=t[u])&&r<o&&(o=r);else n=_f(n,e),rh(t,(function(t,e,r){((i=n(t,e,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)}));return o},shuffle:function(t){return gh(t,1/0)},sample:gh,sortBy:function(t,n,e){var r=0;return n=_f(n,e),ph(ih(t,(function(t,e,i){return{value:t,index:r++,criteria:n(t,e,i)}})).sort((function(t,n){var e=t.criteria,r=n.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(e<r||void 0===r)return-1}return t.index-n.index})),"value")},groupBy:mh,indexBy:yh,countBy:bh,partition:wh,toArray:function(t){return t?ws(t)?Fl.call(t):os(t)?t.match(_h):Bf(t)?ih(t,gf):nf(t):[]},size:function(t){return null==t?0:Bf(t)?t.length:Ts(t).length},pick:Mh,omit:kh,first:Ah,head:Ah,take:Ah,initial:Sh,last:function(t,n,e){return null==t||t.length<1?null==n||e?void 0:[]:null==n||e?t[t.length-1]:Eh(t,Math.max(0,t.length-n))},rest:Eh,tail:Eh,drop:Eh,compact:function(t){return ch(t,Boolean)},flatten:function(t,n){return Ff(t,n,!1)},without:Oh,uniq:jh,unique:jh,union:Nh,intersection:function(t){for(var n=[],e=arguments.length,r=0,i=zs(t);r<i;r++){var o=t[r];if(!fh(n,o)){var a;for(a=1;a<e&&fh(arguments[a],o);a++);a===e&&n.push(o)}}return n},difference:$h,unzip:zh,transpose:zh,zip:Lh,object:function(t,n){for(var e={},r=0,i=zs(t);r<i;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e},range:function(t,n,e){null==n&&(n=t||0,t=0),e||(e=n<t?-1:1);for(var r=Math.max(Math.ceil((n-t)/e),0),i=Array(r),o=0;o<r;o++,t+=e)i[o]=t;return i},chunk:function(t,n){if(null==n||n<1)return[];for(var e=[],r=0,i=t.length;r<i;)e.push(Fl.call(t,r,r+=n));return e},mixin:Ph,default:Cs}));function Ch(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!n)return t;for(var r=Array.isArray(n)?n:n.split("."),i=t,o=0;o<r.length&&null!=i;o++)i=i[r[o]];return null==i?e:i}Dh._=Dh;var Rh=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,Bh=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,Fh="<a><span><b><br><br/><i><strong><sup><sub><strike><u><em><tt>";function qh(t,n){if(null===t)return null;if(void 0!==t){if((t=String(t)).indexOf("<")<0&&t.indexOf(">")<0)return t;if(t=function(t,n){n=(((void 0!==n?n||"":Fh)+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var e=t,r=t;for(;;)if(r=(e=r).replace(Bh,"").replace(Rh,(function(t,e){return n.indexOf("<"+e.toLowerCase()+">")>-1?t:""})),e===r)return r}(t,n),"undefined"==typeof document)return t;var e=document.createElement("div");e.innerHTML="<span>".concat(t,"</span>");for(var r=e.childNodes[0].querySelectorAll("*"),i=0;i<r.length;i++){"a"===r[i].nodeName.toLowerCase()&&("_self"!==r[i].getAttribute("target")&&r[i].setAttribute("target","_blank"),r[i].setAttribute("rel","nofollow noopener noreferrer"),r[i].getAttribute("href")&&r[i].getAttribute("href").trim().replace(/[^a-zA-Z0-9 -:]/g,"").startsWith("javascript:")&&r[i].setAttribute("href",""));for(var o=[],a=0;a<r[i].attributes.length;a++){var u=r[i].attributes[a];u.specified&&"on"===u.name.substr(0,2)&&o.push(u.name)}o.forEach((function(t){return r[i].removeAttribute(t)}))}return e.childNodes[0].innerHTML}}function Wh(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700,e=!1,r=!0;return{set:function(i){e!==i&&setTimeout((function(){r=!1,t(e)}),r?n:0),e=i},clear:function(){e=null,r=!0,t(null)},get:function(){return e}}}var Hh={horizontal:90,vertical:0,"diagonal-up":135,"diagonal-down":45};function Yh(t,n,e){var r=n.swatches,i=n.swatchWidth,o=n.swatchHeight,a=n.itemMarginBottom,u=n.itemMarginRight,c=n.swatchBorderRadius,l=n.swatchLabelDistance,s=n.fontWeight,f=n.highlight,h=n.reverse,p=t.append("div.legend-categories").st({fontWeight:s}),d=Wh((function(t){null!==t?(f&&(p.classed("highlighted",!0),v.classed("highlight",(function(n){return n.key===t.key}))),e("mouseenter",t)):(f&&(p.classed("highlighted",!1),v.classed("highlight",!1)),e("mouseleave"))})),g=h?r.slice(0).reverse():r,v=p.appendMany("div.legend-swatch",g).attr("aria-hidden",!0).st({marginBottom:a,marginRight:u}).on("mouseenter",(function(t){return d.set(t)}));p.on("mouseleave",d.clear);var m=v.append("div.legend-no-break"),y="50%"===c?"dw-circle":"export-rect";m.filter((function(t){return!t.pattern})).append("div.legend-color.".concat(y)).st({width:function(t){return t.width||i},height:o,marginRight:l,borderRadius:c,background:function(t){return t.color}});var b=m.filter((function(t){return!!t.pattern})).append("svg").attr("width",i).attr("height",o).style("vertical-align","middle").style("margin-right",l+"px").style("border-radius",c);function w(t){return t.pattern.lineGap+t.pattern.strokeWidth}function _(t){var n=t.trim().indexOf(" "),e=t.trim().indexOf("-");return n<0&&e<0?t:e<0||n<e?t.substr(0,n):t.substr(0,e+1)}return b.append("defs").append("pattern").attr("id",(function(t,n){return"color-legend-fill-pattern-".concat(n)})).attr("patternTransform",(function(t){return"rotate(".concat(180-Hh[t.pattern.type]," 0 0)")})).attr("patternUnits","userSpaceOnUse").attr("height",(function(t){return w(t)})).attr("width",(function(t){return w(t)})).append("line").attr("x1",(function(t){return w(t)/2})).attr("y1",0).attr("x2",(function(t){return w(t)/2})).attr("y2",(function(t){return w(t)})).attr("stroke",(function(t){return t.color})).attr("stroke-width",(function(t){return t.pattern.strokeWidth})),b.append("rect").attr("width",i).attr("height",o).attr("fill",(function(t,n){return"url(#color-legend-fill-pattern-".concat(n,")")})),m.append("div.legend-label").html((function(t){return qh(_(t.label))})),v.append("div.legend-label").html((function(t){return qh((n=t.label,e=_(n),n.substr(e.length)));var n,e})),{highlight:function(t){p.classed("highlighted",!!t),t?v.classed("highlight",(function(n){return n.key===t})):v.classed("highlight",!1)}}}function Ih(t){if("function"==typeof t.colors){var n=[t.limits[0],t.limits[t.limits.length-1]].map(t.format),e=s(n,2),r=e[0],i=e[1];return"Continuous color legend".concat(t.title?', titled "'.concat(t.title,'"'):"",", ranging from ").concat(r," to ").concat(i,".")}var o=[t.swatches[0].label,t.swatches[t.swatches.length-1].label].map((function(t){return t.replace("<","less than").replace("≥","greater or equal than")})),a=s(o,2),u=a[0],c=a[1];return"Color legend with ".concat(t.swatches.length," steps ").concat(t.title?', titled "'.concat(t.title,'"'):"",", ranging from ").concat(u," to ").concat(c,".")}function Uh(t){var n=t.swatches.map((function(t){return t.label})),e=n.length<=5?"".concat(n.slice(0,-1).join(", "),", and ").concat(n[n.length-1]):"".concat(n.slice(0,3).join(", "),", ending with ").concat(n[n.length-1],".");return"Category legend with ".concat(t.swatches.length," items").concat(t.title?', titled "'.concat(t.title,'"'):"",". The items are ").concat(e)}function Xh(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Vh(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Xh(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Xh(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function Zh(t,n){if("svg"===t.nodeName.toLowerCase()||t.ownerSVGElement)throw new Error("can only render in HTML elements");var e,r=Vh(Vh({title:"",horizontal:!0,swatches:[{color:"#dd0000",label:"A red swatch",key:"red"},{color:"#0033dd",label:"A blue swatch",key:"blue"}],reverse:!1,width:"100%",height:"auto",swatchWidth:20,swatchHeight:20,itemMarginBottom:3,itemMarginRight:10,swatchBorderRadius:0,swatchLabelDistance:3,paddingTop:0,paddingBottom:10,color:"inherit",fontSize:"inherit",fontWeight:"inherit",fontFamily:"inherit",textAlign:"left",highlight:!1},n.theme?kh({swatchWidth:Ch(n.theme,"style.chart.legend.swatch.width",14),swatchHeight:Ch(n.theme,"style.chart.legend.swatch.height",14),swatchBorderRadius:Ch(n.theme,"style.chart.legend.swatch.borderRadius"),swatchLabelDistance:Ch(n.theme,"style.chart.legend.swatch.marginRight"),paddingBottom:Ch(n.theme,"style.chart.legend.padding.bottom"),itemMarginRight:Ch(n.theme,"style.chart.legend.text.marginRight"),itemMarginBottom:Ch(n.theme,"style.chart.legend.rowSpacing"),paddingTop:Ch(n.theme,"style.chart.legend.padding.top"),textAlign:Ch(n.theme,"style.chart.legend.alignment"),color:Ch(n.theme,"style.chart.labels.legend.color")},(function(t){return null==t})):{}),n),i={},o=wt(t).append("div.category-legend").classed("horizontal",r.horizontal).classed("vertical",!r.horizontal).st({paddingTop:r.paddingTop,paddingBottom:r.paddingBottom,textAlign:r.textAlign,color:r.color,fontSize:r.fontSize,fontFamily:r.fontFamily,width:r.width,height:r.height});return r.title&&o.append("div.legend-title.label").attr("aria-hidden",!0).append("span").html(qh(r.title)),e=Yh(o,r,(function(t,n){i[t]&&i[t].length&&i[t].forEach((function(t){"function"==typeof t&&t(n)}))})),o.at({role:"graphics-legend","aria-label":Uh(r)}),e=Vh({container:o,on:function(t,n){return"function"!=typeof n||"string"!=typeof t||(i[t]||(i[t]=[]),i[t].push(n)),e}},e)}function Gh(){var t=window.navigator.userAgent;return/MSIE|Trident/.test(t)}var Kh=function(t){var n=It(t);return null!=t&&("object"==n||"function"==n)},Jh="object"==It(t)&&t&&t.Object===Object&&t,Qh="object"==("undefined"==typeof self?"undefined":It(self))&&self&&self.Object===Object&&self,tp=Jh||Qh||Function("return this")(),np=function(){return tp.Date.now()},ep=/\s/;var rp=function(t){for(var n=t.length;n--&&ep.test(t.charAt(n)););return n},ip=/^\s+/;var op=function(t){return t?t.slice(0,rp(t)+1).replace(ip,""):t},ap=tp.Symbol,up=Object.prototype,cp=up.hasOwnProperty,lp=up.toString,sp=ap?ap.toStringTag:void 0;var fp=function(t){var n=cp.call(t,sp),e=t[sp];try{t[sp]=void 0;var r=!0}catch(t){}var i=lp.call(t);return r&&(n?t[sp]=e:delete t[sp]),i},hp=Object.prototype.toString;var pp=function(t){return hp.call(t)},dp=ap?ap.toStringTag:void 0;var gp=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":dp&&dp in Object(t)?fp(t):pp(t)};var vp=function(t){return null!=t&&"object"==It(t)};var mp=function(t){return"symbol"==It(t)||vp(t)&&"[object Symbol]"==gp(t)},yp=/^[-+]0x[0-9a-f]+$/i,bp=/^0b[01]+$/i,wp=/^0o[0-7]+$/i,_p=parseInt;var xp=function(t){if("number"==typeof t)return t;if(mp(t))return NaN;if(Kh(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Kh(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=op(t);var e=bp.test(t);return e||wp.test(t)?_p(t.slice(2),e?2:8):yp.test(t)?NaN:+t},Mp=Math.max,kp=Math.min;var Sp=function(t,n,e){var r,i,o,a,u,c,l=0,s=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(n){var e=r,o=i;return r=i=void 0,l=n,a=t.apply(o,e)}function d(t){return l=t,u=setTimeout(v,n),s?p(t):a}function g(t){var e=t-c;return void 0===c||e>=n||e<0||f&&t-l>=o}function v(){var t=np();if(g(t))return m(t);u=setTimeout(v,function(t){var e=n-(t-c);return f?kp(e,o-(t-l)):e}(t))}function m(t){return u=void 0,h&&r?p(t):(r=i=void 0,a)}function y(){var t=np(),e=g(t);if(r=arguments,i=this,c=t,e){if(void 0===u)return d(c);if(f)return clearTimeout(u),u=setTimeout(v,n),p(c)}return void 0===u&&(u=setTimeout(v,n)),a}return n=xp(n)||0,Kh(e)&&(s=!!e.leading,o=(f="maxWait"in e)?Mp(xp(e.maxWait)||0,n):o,h="trailing"in e?!!e.trailing:h),y.cancel=function(){void 0!==u&&clearTimeout(u),l=0,r=c=i=u=void 0},y.flush=function(){return void 0===u?a:m(np())},y},Ap=[],Ep=!1;function $p(){if(Ap.length){var t=Ap.map((function(t){try{return t.measure&&t.measure()}catch(t){return t}}));Ap.forEach((function(n,e){try{n.update&&n.update(t[e])}catch(n){}})),Ap=[],Ep=!1}}function Op(t){Ap.push(t),Ep||(Ep=!0,requestAnimationFrame($p))}function jp(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Np(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?jp(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):jp(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var zp={categories:Yh,continuous:function(t,n,e){for(var r=n.colors,i=n.limits,o=n.format,a=n.labels,u=n.horizontal,c=n.width,l=n.height,s=n.rulerSize,f=n.swatchLabelDistance,h=n.highlight,p=n.reverse,d=3===i.length,g=t.parent().append("defs"),v=[],m=0;m<17;m++)v.push(m/16);var y="g-".concat(Math.floor(1e6*Math.random()).toString(32));g.append("linearGradient").attr("id",y).attr(u?"y2":"x2",0).attr(u?"x2":"y2",1).appendMany("stop",v).attr("offset",(function(t){return"".concat(100*t,"%")})).attr("stop-color",p?function(t){return E(1-t)}:E),t.append("rect").at({width:u?c:s,height:u?s:l}).style("fill","url(#".concat(y,")"));var b=(a||i.map(o)).slice(0),w=i.slice(0);p&&(b.reverse(),w.reverse());var _=Gh();t.append("g.labels").attr("aria-hidden",!0).translate(u?[0,s+f+(_?8:0)]:[s+f,0]).appendMany("text",b).attr("class",(function(t,n){return 0===n?"min":1===n&&d?"center":"max"})).translate(u?function(t,n){return[c*n/(d?2:1),0]}:function(t,n){return[0,l*n/(d?2:1)]}).tspans((function(t){return t.split("<br>")}));var x=t.append("g.highlight").attr("aria-hidden","true");x.append("path.triangle").translate(u?[0,s+7]:[s+7,0]).attr("d",u?"M-5,0 L 5,0 L 0,-7 Z":"M0,-5 L-7,0 L 0,5 Z"),x.append("g.text").translate(u?[0,s+12+(_?8:0)]:[s+12,0]).append("text.buffer").parent().append("text");var M=x.selectAll("text"),k=Wh((function(n){if(null!==n){if(h){t.classed("highlighted",!0),x.style("transform","translate(".concat((u?[n*c,0]:[0,n*l]).map((function(t){return t+"px"})),")")),x.translate(u?[n*c,0]:[0,n*l]);var r=S(n);M.text(o(r))}e("mouseenter",{min:S(n*(p?1.1:.9)),max:S(n*(p?.9:1.1))})}else h&&t.classed("highlighted",!1),e("mouseleave")}));return t.parent().on("mouseenter",(function(){t.parent().classed("no-transition",!0)})),t.parent().on("mousemove",(function(){var n=Mt(t.node())[u?0:1]/(u?c:l);k.set(Math.min(1,Math.max(0,n)))})),t.parent().on("mouseleave",(function(){k.clear(),t.parent().classed("no-transition",!1)})),{highlight:function(n){null!=n?(t.parent().classed("no-transition",!t.classed("highlighted")),t.classed("highlighted",!0),x.style("transform","translate(".concat((u?[A(n)*c,0]:[0,A(n)*l]).map((function(t){return t+"px"})),")")),x.translate(u?[A(n)*c,0]:[0,A(n)*l]),M.text(o(n))):t.classed("highlighted",!1)}};function S(t){return d?t<.5?w[0]+2*t*(w[1]-w[0]):w[1]+2*(t-.5)*(w[2]-w[1]):w[0]+t*(w[1]-w[0])}function A(t){return d?t<w[1]?.5*(t-w[0])/(w[1]-w[0]):.5+.5*(t-w[1])/(w[2]-w[1]):(t-w[0])/(w[1]-w[0])}function E(t){var n=d?t<=.5?2*t*(i[1]-i[0])+i[0]:2*(t-.5)*(i[2]-i[1])+i[1]:t*(i[1]-i[0])+i[0];return r(n)}},ruler:function(t,n,e){var r=n.colors,i=n.format,o=n.breaks,a=n.width,u=n.height,c=n.rulerSize,l=n.tickLength,s=n.tickWidth,f=n.horizontal,h=n.reverse,p=n.rulerLabelDistance,d=n.highlight,g=[],v=r.map((function(t,n){return{color:t,min:0===n?-1/0:+o[n],max:n===r.length-1?1/0:+o[n+1],label:n===(h?r.length-1:0)?"":"".concat(i(o[h?n+1:n]))}}));h&&v.reverse();var m=f?Math.floor(a/r.length)-1:c,y=f?c:Math.floor(u/r.length)-1,b=t.appendMany("g.swatch",v).attr("aria-hidden",!0).translate(f?function(t,n){return[n*(m+s),0]}:function(t,n){return[0,n*(y+s)]}),w=Wh((function(n){null!==n?(d&&(t.classed("highlighted",!0),b.classed("highlight",(function(t){return n===t}))),e("mouseenter",n)):(d&&(t.classed("highlighted",!1),b.classed("highlight",!1)),e("mouseleave"))}));if(b.on("mouseenter",(function(t){return w.set(t)})),t.parent().on("mouseleave",w.clear),b.append("rect").at({width:m,height:y}).style("fill",(function(t){return t.color})),b.append("text").translate(f?[0,y+p+l+(Gh()?8:0)]:[m+p+l,0]).text((function(t){return t.label})),l>0&&b.filter((function(t,n){return n>0})).append("path.tick").style("stroke-width",s).attr("d","M".concat(f?"-".concat(.5*s,",0"):"0,-".concat(.5*s)).concat(f?"v":"h").concat((f?y:m)+l)),f){var _=Sp((function(){x&&(b.selectAll("text").st({textAnchor:"end"}).at({transform:"translate(".concat(.5*-m,",").concat(y+p+l,") rotate(-90)")}),g.forEach((function(t){return t()})))}),20),x=!1;b.selectAll("text").each((function(){var t=this;Op({measure:function(){return t.getBoundingClientRect()},update:function(t){t.width>m+2&&(x=!0,_())}})}))}return{highlight:function(n){null!=n?(t.classed("highlighted",!0),b.classed("highlight",(function(t){return n>=t.min&&n<t.max}))):(t.classed("highlighted",!1),b.classed("highlight",!1))},onupdate:function(t){g.push(t)}}},ranges:function(t,n,e){var r=n.colors,i=n.format,o=n.labels,a=n.breaks,u=n.width,c=n.swatchWidth,l=n.swatchHeight,s=n.itemMarginBottom,f=n.swatchBorderRadius,h=n.swatchLabelDistance,p=n.rulerSize,d=n.horizontal,g=n.highlight,v=n.reverse,m=[],y=r.map((function(t,n){return{color:t,min:0===n?-1/0:+a[n],max:n===r.length-1?1/0:+a[n+1],label:o?o[n]:0===n?"< ".concat(i(a[1])):n===r.length-1?"≥ ".concat(i(a[n])):"".concat(i(a[n]),"–").concat(i(a[n+1]))}})),b=d?Math.floor(u/r.length)-1:c,w=d?p:l;v&&y.reverse();var _=t.appendMany("g.swatch",y).attr("aria-hidden",!0).translate(d?function(t,n){return[n*(b+1),0]}:function(t,n){return[0,n*(w+s)]}).on("mouseenter",(function(t){return x.set(t)})),x=Wh((function(n){null!==n?(g&&(t.classed("highlighted",!0),_.classed("highlight",(function(t){return n===t}))),e("mouseenter",n)):(g&&(t.classed("highlighted",!1),_.classed("highlight",!1)),e("mouseleave"))}));if(t.parent().on("mouseleave",x.clear),_.append("rect").at({width:b,height:w,rx:Math.min(f,.5*w),ry:Math.min(f,.5*b)}).style("fill",(function(t){return t.color})).parent().append("text").translate(d?[.5*b,w+h]:[b+h,.5*w]).text((function(t){return t.label})),d){var M=Sp((function(){if(k){var e=t.parent(),r=e.parent();e.remove(),r.classed("ranges",!1).classed("color-legend",!1).classed("category-legend",!0).classed("categories",!0),Yh(r,Np(Np({},n),{},{swatches:y,reverse:!1})),m.forEach((function(t){return t()}))}}),20),k=!1;_.selectAll("text").each((function(){var t=this;Op({measure:function(){return t.getBoundingClientRect()},update:function(t){t.width>b+2&&(k=!0,M())}})}))}return{highlight:function(n){null!=n?(t.classed("highlighted",!0),_.classed("highlight",(function(t){return n>=t.min&&n<t.max}))):(t.classed("highlighted",!1),_.classed("highlight",!1))},onupdate:function(t){m.push(t)}}},winner:function(t,n){var e=n.colors,r=n.format,i=n.breaks,o=n.labels,a=n.width,u=n.height,c=n.rulerSize,l=n.tickLength,s=n.tickWidth,f=n.horizontal,h=n.reverse,p=n.itemMarginBottom,d=n.swatchLabelDistance,g=o.map((function(t){return{label:t,swatches:e[t].map((function(n,o){return{color:n,label:(h?o===e[t].length-1:0===o)?"":"".concat(r(i[h?o+1:o]))}}))}}));g[g.length-1].isLast=!0;var v=i.length-1,m=f?Math.floor(a/(v+3))-1:c,y=f?c:Math.floor(u/(v+3))-1,b=t.appendMany("g.group",g).attr("aria-hidden",!0).translate((function(t,n){return f?[0,(y+p)*n]:[(m+p)*n,0]}));b.append("text.label").attr("transform",f?"translate(".concat([(m+s)*v+d,.5*y+1],")"):"translate(".concat([.5*m,(y+s)*v+d],") rotate(-90)")).text((function(t){return t.label}));var w=b.appendMany("g.swatch",(function(t){return h?t.swatches.slice(0).reverse():t.swatches})).translate(f?function(t,n){return[n*(m+s),0]}:function(t,n){return[0,n*(y+s)]});return w.append("rect").at({width:m,height:y}).style("fill",(function(t){return t.color})),b.filter((function(t){return t.isLast})).selectAll("g.swatch").append("text").translate(f?[0,y+d+l]:[m+d+l,0]).text((function(t){return t.label})),l>0&&w.append("path.tick").style("stroke-width",s).attr("d","M".concat(f?"-".concat(Math.ceil(.5*s),",0"):"0,-".concat(Math.ceil(.5*s))).concat(f?"v":"h").concat((f?y:m)+l)),{highlight:function(){}}}};function Lp(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Tp(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Lp(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Lp(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function Pp(t,n){if("svg"===t.nodeName.toLowerCase()||t.ownerSVGElement)throw new Error("can only render in HTML elements");var e,r=Tp(Tp({title:"",width:100,height:200,horizontal:!0,colors:["white","yellow","red"],breaks:!1,limits:!1,ruler:!1,labels:!1,format:function(t){return String(+t.toFixed(2))},swatchWidth:20,swatchHeight:20,itemMarginBottom:3,itemMarginRight:10,swatchBorderRadius:0,swatchLabelDistance:3,rulerLabelDistance:3,rulerSize:13,tickLength:0,tickWidth:1,highlight:!1,reverse:!1},n.theme?kh({rulerSize:Ch(n.theme,"style.chart.legend.ruler.thickness",13),tickWidth:Ch(n.theme,"style.chart.legend.ruler.tickWidth",1),tickLength:Ch(n.theme,"style.chart.legend.ruler.tickLength",0),rulerLabelDistance:Ch(n.theme,"style.chart.legend.ruler.labelDistance.".concat(n.horizontal?"horizontal":"vertical"),3),swatchWidth:Ch(n.theme,"style.chart.legend.swatch.width",14),swatchHeight:Ch(n.theme,"style.chart.legend.swatch.height",14),swatchBorderRadius:Ch(n.theme,"style.chart.legend.swatch.borderRadius"),swatchLabelDistance:Ch(n.theme,"style.chart.legend.swatch.marginRight"),paddingBottom:Ch(n.theme,"style.chart.legend.padding.bottom"),itemMarginRight:Ch(n.theme,"style.chart.legend.text.marginRight"),itemMarginBottom:Ch(n.theme,"style.chart.legend.rowSpacing"),paddingTop:Ch(n.theme,"style.chart.legend.padding.top"),textAlign:Ch(n.theme,"style.chart.legend.alignment"),color:Ch(n.theme,"style.chart.labels.legend.color")},(function(t){return null==t})):{}),n),i={},o=Array.isArray(r.colors)&&!r.ruler&&!r.horizontal,a=wt(t).append("div.".concat(o?"category":"color","-legend")).classed("horizontal",r.horizontal).classed("vertical",!r.horizontal);r.title&&a.append("div.title.legend-title.label").attr("aria-hidden",!0).style("max-width",r.width+"px").append("span").html(qh(r.title));var u=o?null:a.append("svg").at({width:r.width,height:r.height}),c=o?null:u.append("g");if("function"==typeof r.colors)a.classed("continuous",!0),e=zp.continuous(c,r,f);else if(Array.isArray(r.colors)){var l=r.ruler?"ruler":o?"categories":"ranges";a.classed(l,!0),r.swatches=function(t){var n=t.colors,e=t.labels,r=t.breaks,i=t.format;return n.map((function(t,o){return{color:t,min:0===o?-1/0:+r[o],max:o===n.length-1?1/0:+r[o+1],label:e?e[o]:0===o?"< ".concat(i(r[1])):o===n.length-1?"≥ ".concat(i(r[o])):"".concat(i(r[o]),"–").concat(i(r[o+1]))}}))}(r),e=zp[l](o?a:c,r,f)}else a.classed("winner",!0),e=zp.winner(c,r,f);function s(){var t=c.node().getBoundingClientRect();u.attr("height",t.height).attr("width",t.width)}function f(t,n){i[t]&&i[t].length&&i[t].forEach((function(t){"function"==typeof t&&t(n)}))}return a.at({role:"graphics-legend","aria-label":Ih(r)}),s(),e.onupdate&&e.onupdate(s),e=Tp({container:a,on:function(t,n){return"function"!=typeof n||"string"!=typeof t||(i[t]||(i[t]=[]),i[t].push(n)),e}},e)}function Dp(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Cp(t,n){if(n=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Dp(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Dp(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({format:"0.[00]",prepend:"",append:"",minusChar:"−",plusMinusChar:"±",multiply:1},n),void 0===t||isNaN(t)||""===t||null===t)return"";var e=n,r=e.append,o=e.prepend,a=e.minusChar,u=e.plusMinusChar,c=e.multiply,l=n.format;l.includes("%")&&Number.isFinite(t)&&(t*=.01),t*=c;var s=l.indexOf("(")>-1,f=l.indexOf(";")>-1;l=l.replace(/;/g,",");var h=Al(s?t:Math.abs(t)).format(l);if(f){var p=Al.options.currentLocale,d=Al.locales[p].delimiters.thousands,g=l.includes("%")?t/.01:t;h=Math.abs(g)<1e4?h.replace(d,""):h}return o&&!s&&t<0&&Rp.has(o.trim().toLowerCase())?"".concat(a).concat(o).concat(h.replace("+","")).concat(r):o&&t>=0&&Rp.has(o.trim().toLowerCase())&&l.includes("+")?"".concat(0===t?u:"+").concat(o).concat(h.replace("+","")).concat(r):0===t&&l.includes("+")?"".concat(o).concat(h.replace("+",u)).concat(r):t<0&&!s?"".concat(o).concat(a).concat(h.replace("+","")).concat(r):"".concat(o).concat(h).concat(r)}var Rp=new Set(["฿","₿","¢","$","€","eur","£","gbp","¥","yen","usd","cad","us$","ca$","can$"]);function Bp(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Fp(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Bp(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Bp(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function qp(t){var n,e=t.vis;this.update=function(t){var r=t.container,i=t.colorScale,o=t.map,a=e.colorMap(),u=e.theme(),c=e.size(),l=e.chart().getMetadata("data.column-format",{}),s=zl({width:c[0],settings:e.get("legend"),column:{type:e.axes(!0).values.type(),name:e.axes(!0).values.name()},cs:{limits:i._limits,colors:i._colors,labels:i._labels,stops:i._stops},zoomable:e.get("zoomable"),zoomBtnPos:e.get("zoom-button-pos"),hideRegions:e.get("hide-empty-regions"),colorscale:e.get("colorscale",{}),colorSim:e.colorMode()||"normal"});if(!Ws(s,n)&&(n=s,wt(r).select(".map-key").remove(),e.get("legend.enabled",!0)&&(!i._limits||void 0!==i._limits[0]))){var f="text"===e.axes(!0).values.type(),h=c[0]<450,p=e.get("legend.interactive"),d=e.get("legend.position","mt"),g="div.map-key.export-rect.map-key-"+d+(["mt","mb"].includes(d)?"":".map-key-inside"),v="mt"===d?wt(r).insert(g,".map-outer"):wt(r).append(g),m="m"===d.charAt(0);v.classed("mobile",h),p&&v.style("pointer-events","all"),m||v.style("b"===d.charAt(0)?"bottom":"top",e.get("legend.offsetTop",0)+"%").style("r"===d.charAt(1)?"right":"left",e.get("legend.offsetLeft",0)+"%");var y,b,w={title:e.get("legend.title"),highlight:p,width:h?c[0]-10:220,horizontal:h||m||"horizontal"===e.get("legend.orientation","horizontal"),reverse:!f&&e.get("legend.reverse",!1),theme:u},_="discrete"===e.get("colorscale.mode")&&"ruler"!==e.get("legend.labels")&&!w.horizontal,x=e.get("legend.hideItems",[]),M=!f&&i._colors&&"ruler"!==e.get("legend.labels")&&("m"===e.get("legend.position","br").charAt(0)||_);if(h||m?!m||h||"number"!==e.axes(!0).values.type()||"continuous"!==e.get("colorscale.mode")&&"ruler"!==e.get("legend.labels")||(w.width=e.get("legend.size",200)):w[w.horizontal||f||_?"width":"height"]=e.get("legend.size",170),"number"===e.axes(!0).values.type()){var k=Nl(u,"typography.chart.minusCharacter","−"),S=Nl(u,"typography.chart.plusMinusCharacter","±"),A=e.get("legend.labelFormat","0.[00]"),E=l[e.axes().values]||{},$=E["number-prepend"]||"",O=E["number-append"]||"",j=Math.pow(10,-E["number-divisor"]||0);b=function(t){return Cp(t,{format:A,multiply:j,prepend:$,append:O,minusChar:k,plusMinusChar:S})}}if(f){var N=Nl(u,"colors.categories",[[]])[e.get("colorscale.palette",0)],z=e.get("colorscale.map",{}),L=e.get("colorscale.categoryOrder",[]),T=e.get("colorscale.categoryLabels",{}),P=0;(w=Fp(Fp({},w),{},{swatches:jh(i._labels.sort((function(t,n){return L.indexOf(t)-L.indexOf(n)})).map((function(t,n){var e=null!=T[t]?T[t]:t,r=z[t]?z[t]:N[P++];return{key:"".concat(r,"///").concat(e),label:e,value:t,index:n,color:a(r)}})),(function(t){return t.key})).sort((function(t,n){return t.index-n.index})).filter((function(t){return t.label}))})).horizontal||(w.height="auto",w.paddingBottom=0),y=Zh(v.node(),w)}else if(M){var D="discrete"===e.get("colorscale.mode")&&"custom"===e.get("legend.labels")&&e.get("legend.customLabels",[]);w=Fp(Fp({},w),{},{swatches:i._stops.slice(1).map((function(t,n){return{key:"class-".concat(n),color:a(i._colors[n]),index:n,min:0===n?-1/0:+i._stops[n],max:n===i._stops.length-2?1/0:+i._stops[n+1],label:D?D[n]:0===n?"<&nbsp;".concat(b(t)):n<i._colors.length-1?"".concat(b(i._stops[n]),"–").concat(b(t)):"≥&nbsp;".concat(b(i._stops[n]))}}))}),"custom"===e.get("legend.labels")&&(w.swatches=w.swatches.filter((function(t,n){return!x.includes(n)}))),w.horizontal||(w.height="auto",w.paddingBottom=0),y=Zh(v.node(),w)}else w=Fp(Fp({},w),{},{limits:i._limits,breaks:i._stops,ruler:"ruler"===e.get("legend.labels"),colors:i._colors?i._colors.map((function(t){return a(t)})):function(t){return a(i(t))},format:b}),"categories"===e.get("colorscale.mode")?w.labels=i._labels:"continuous"===e.get("colorscale.mode")&&"custom"===e.get("legend.labels")?(w.labels=[e.get("legend.labelMin",""),e.get("legend.labelMax","")],""!==e.get("colorscale.rangeCenter")&&void 0!==e.get("colorscale.rangeCenter")&&w.labels.splice(1,0,e.get("legend.labelCenter",""))):"discrete"===e.get("colorscale.mode")&&"custom"===e.get("legend.labels")&&(w.labels=e.get("legend.customLabels",[]).filter((function(t,n){return!x.includes(n)})),w.colors=w.colors.filter((function(t,n){return!x.includes(n)})),w.breaks=w.breaks.filter((function(t,n){return 0===n||n===w.breaks.length-1||!x.includes(n-1)}))),y=Pp(v.node(),w),setTimeout((function(){Op({measure:function(){return v.select(".color-legend").node().clientHeight},update:function(t){o.setBottomMargin(h?t:0)}})}));if(p){y.on("mouseenter",(function(t){o.highlight(t)})),y.on("mouseleave",(function(){o.highlight(null)}));var C=e.axes(!0).values,R=e.get("colorscale.categoryLabels",{});o.onHighlight=function(t){if(!t)return y.highlight();var n=t.data?t.data[C.name()]:t.properties._cluster?t.properties._val2:t.properties[C.name()];if(M){var e=i._stops.filter((function(t,e){return e===i._stops.length-2||0===e?t<=n:t<n})).length-1;n="class-".concat(e)}y.highlight("text"===C.type()?"".concat(t.fill||t.properties._color,"///").concat(R[n]||n):n)}}}}}var Wp="M -1,0 a 1,1 0 1,0 2,0 a 1,1 0 1,0 -2,0 Z",Hp="M-0.88622,-0.88622L0.88622,-0.88622L0.88622,0.88622L-0.88622,0.88622Z";function Yp(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Ip(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Yp(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Yp(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}bt.prototype.at=$i,bt.prototype.append=wi,bt.prototype.translate=yi,bt.prototype.tspans=Si,El.extend($l),El.extend(Ol),El.extend((function(t,n){var e=n.prototype,r=e.format;e.format=function(t){var n=this,e=t||"YYYY-MM-DDTHH:mm:ssZ",i=this.$locale().seasonSeparator||"-",o=e.replace(/(\[[^\]]+])|BB|B/g,(function(t,e){var r,o,a=n.$y,u=a+1,c="B"===t,l=c?[String(a).slice(-2),2]:[a,4],s=[String(u).slice(-2),2];return e||"".concat(c?"'":"").concat((r=n.$utils()).s.apply(r,l.concat(["0"]))).concat(i).concat(c?"'":"").concat((o=n.$utils()).s.apply(o,s.concat(["0"])))}));return r.bind(this)(o)}}));var Up=.45;function Xp(t){return String(t||"").toLowerCase().replace(/\u00AD/g,"").replace(/[-\u2015\u2014\u2013\u2012\u23BC\u2212]+/g,"-").replace(/[ \u00A0\u1680\u2002-\u200B\u202F\u205F\u3000]+/g," ").trim()}function Vp(t){return Number(t)}function Zp(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,c,l,s,f,h,p=t._root,d={data:r},g=t._x0,v=t._y0,m=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((l=n>=(o=(g+m)/2))?g=o:m=o,(s=e>=(a=(v+y)/2))?v=a:y=a,i=p,!(p=p[f=s<<1|l]))return i[f]=d,t;if(u=+t._x.call(null,p.data),c=+t._y.call(null,p.data),n===u&&e===c)return d.next=p,i?i[f]=d:t._root=d,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(l=n>=(o=(g+m)/2))?g=o:m=o,(s=e>=(a=(v+y)/2))?v=a:y=a}while((f=s<<1|l)==(h=(c>=a)<<1|u>=o));return i[h]=p,i[f]=d,t}function Gp(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function Kp(t){return t[0]}function Jp(t){return t[1]}function Qp(t,n,e){var r=new td(null==n?Kp:n,null==e?Jp:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function td(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function nd(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}dw.visualization.register("d3-maps-core",(function(){var t;return{init:function(t){this.svg=t.node(),this.mapKey=new qp({vis:this});try{var n=this.chart().locales.numeral;n&&function(t){jl||(Al.register("locale","dw",t),Al.locale("dw"),jl=!0)}(n);var e=this.chart().locales.dayjs;e&&El.locale(e)}catch(t){console.warn("Couldnt register locale",t)}},initBaseMap:function(n,e,r){var i=this,o=i.size(),a=i.axes(),u=i.theme(),c=JSON.parse(i.chart().asset("".concat(e,".json"))),l=0,f=0,h=o[0],p=o[1],d=i.get("max-map-height",650),g=new URLSearchParams(window.location.search),v="1"===g.get("fitchart")||"1"===g.get("fitheight"),m="1"===g.get("svgonly"),y="custom_upload"===e?i.get("layers",{}):{};if(c){var b=wt(n);zn(A()).l<50&&b.classed("color-invert",!0);var w=b.append("div.map-outer"),_=!1,x=window.devicePixelRatio||1;m||(_=w.append("canvas").at({width:h*x,height:p*x}).st({width:h,height:p}));var M=w.append("svg.svg-main").classed(e,!0).st({overflow:"hidden",position:"relative"}).at({width:h,height:p});i.init(M),["borders","exteriorBorders","innerborders"].forEach((function(t){y[t]&&(c.meta[t]=y[t])})),function(e,g,m,b,w,_){var x=i.get("basemap");g.maxZoom=g.maxZoom||("custom_upload"===x?20:8);var M=function(t,n,e){return{getBorder:function(n,r){return Nl(e,"vis.".concat(t.meta.id,".borders.").concat(n),Nl(e,"vis.d3-maps-core.borders.".concat(n),r))},getThemeProp:function(n,r){return Nl(e,"vis.".concat(t.meta.id,".").concat(n),Nl(e,"vis.d3-maps-core.".concat(n),r))}}}(i,0,u),E=M.getBorder,$=M.getThemeProp,O="d3-maps-choropleth"===i.meta.id?Nl(u,"colors.background","#ffffff"):"#888",j="d3-maps-choropleth"===i.meta.id?"#eeeeed":"#f8f8f8",N="d3-maps-choropleth"===i.meta.id?.5:1,z=w?w.node().getContext("2d"):null,L=[],T=[],P=g.projection,D=g.extent;"custom_upload"===x&&"string"==typeof y.extent&&(D.layer=y.extent);var C=!Ps(D.exclude);w&&Sl(e);var R=vl(e,e.objects[g.regions]),B="geoNaturalEarth"===P.type?"geoNaturalEarth1":P.type,F=P.rotate,q=P.center,W=!1===D.padding||void 0===D.padding?0:D.padding,H=Ip(Ip({},ll),{},{geoAlbersUsaTerritories:pl.geoAlbersUsaTerritories})[B]();F&&H.rotate&&H.rotate(F);var Y=JSON.stringify(c.content).length,I=w?function(){var t,n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,r=e,i=xc({point:function(t,n,e){if(!e||e>=r){var i=a([t,n]);this.stream.point(i[0],i[1])}}}),o=il().stream,a=il();return a.stream=function(e){var r=a.postclip()||o;return t&&n===e?t:t=i.stream(r(n=e))},a.areaThreshold=function(t){r=t*e},a.log=function(){},a}(Y>5e5?g.weight||.01:-99):il(),U=function(){var t=R.features;return Object.keys(D.exclude).forEach((function(n){D.exclude[n].forEach((function(e){t=t.filter((function(t){return t.properties[n]!==e}))}))})),{type:"FeatureCollection",features:t}},X=C?U():R;D.layer&&!i.get("hide-empty-regions")&&(X=vl(e,e.objects[D.layer]));p=k(I,W,X),q&&I.center&&console.warn("todo: what to do with projection center?");var V=_c().projection(I),Z=b.append("g.map"),G=Z.append("rect.background").attr("width",h).attr("height",p);if(D.layer&&!i.get("hide-empty-regions")){var K=$("backgroundLayer.color",j),J=$("backgroundLayer.opacity",N);if(w){var Q=gn(K),tt=Q.r,nt=Q.g,et=Q.b;L.push({id:"bg",style:{fill:"rgba(".concat(tt,",").concat(nt,",").concat(et,",").concat(J,")")},features:[vl(e,e.objects[D.layer])]})}else T.push({id:"bg",selection:Z.append("path.bg.geo").datum(vl(e,e.objects[D.layer])).attr("d",V).st({fill:K,opacity:J})})}var rt=function(t,n){var e,r,i,o=t.features;if(o.forEach((function(t){t.anchor=Et(t)})),w&&!n)L.push({id:"region",features:o,style:{fill:"#999999"}});else{var a=(r=(e=Z.append("g.regions")).selectAll(".region").data(o).enter().append("g.region")).append("path.geo.region").attr("d",(function(t){return V(t)})).classed("highlight",(function(t){return"#id="===location.hash.substr(0,4)&&location.hash.substr(4).split(",").indexOf(t.properties.RS)>-1}));n||(T.push({id:"gregion",selection:r}),T.push({id:"region",selection:a}))}return{regionShapes:o,regions:e,gregion:r,region:i}}(R),it=rt.regionShapes,ot=rt.regions,at=[{id:"regions",defaultStyle:{lineWidth:1,stroke:O},meshFunc:function(t,n){return t!==n}},{id:"borders",defaultStyle:{lineWidth:3.33,stroke:O},meshFunc:function(t,n){return t!==n}},{id:"innerborders",defaultStyle:{lineWidth:.3,stroke:O,opacity:.9},meshFunc:function(){return!0}},{id:"exteriorBorders",defaultStyle:{lineWidth:2,stroke:O,strokeDasharray:"2,8"},meshFunc:function(){return!0}}];E("outerBorder")&&(g.outerBorder=g.regions,at.push({id:"outerBorder",defaultStyle:{lineWidth:1,stroke:O},meshFunc:function(t,n){return t===n}}));if(at.forEach((function(t){var n=t.id,r=t.defaultStyle,i=t.meshFunc;if(g[n]){var o={stroke:$("borders.".concat(n,".stroke"),r.stroke),lineWidth:$("borders.".concat(n,".scale"),r.lineWidth),strokeDasharray:$("borders.".concat(n,".strokeDasharray"),r.strokeDasharray),opacity:r.opacity},a=function(t){return yl(t,wl.apply(this,arguments))}(e,e.objects[g[n]],i);if(w){var u=gn(o.stroke),c=u.r,l=u.g,s=u.b;L.push({id:n,style:{stroke:"rgba(".concat(c,",").concat(l,",").concat(s,",").concat(o.opacity||1,")"),lineWidth:o.lineWidth*Up,dash:o.strokeDasharray?o.strokeDasharray.split(",").map((function(t){return Number(t)*Up})):null},features:[a]})}else{var f=Z.append("path.geo.borders.".concat(n)).datum(a).st(o).attr("d",V);T.push({id:n,type:"border",selection:f,style:o})}}})),!w&&"d3-maps-choropleth"===i.meta.id){var ut=Z.append("g.outlines").selectAll(".region-outline").data(it).enter().append("path.geo.region-outline").attr("d",V);T.push({id:"outlines",type:"border",selection:ut,style:{lineWidth:Nl(u,"vis.d3-maps-choropleth.borders.hoverOutline.scale",3)}})}var lt,st=[],ft={};v||(b.at({height:p}),w&&w.at({height:p*_}).st({height:p}));var ht={svg:b,canvas:w,scale:1,meta:g,getZoom:yt,g:Z,data:it,proj:I,mapProj:H,path:V,feat:R,svgBorderList:T.filter((function(t){return"border"===t.type})),svgLayers:T,canvasLayers:L,isDatawrapperEditor:i.chart().inEditor(),draw:mt,getThemeBgColor:A,SVG_TO_CANVAS_SCALE:Up,renderPlaces:function(){!function(t){var n=t.map,e=t.vis,r=t.theme,i=(0,t.getZoom)(),o=/<br *\/?>|\n/g,a=zl(e.get("labels.places")).filter((function(t){return t.origAlign=t.align,t.visible}));if(n.g.selectAll("g.places").remove(),a.length&&e.get("labels.enabled")&&"places"===e.get("labels.type")){var u=n.g.append("g.places"),c=u.appendMany("g.place",a).attr("class",(function(t){return["place",t.inverted?"inverted":"",t.type,t._visible?"":"place-hidden"].join(" ")})),l={country:13},f={capital:Hp,point:Wp};c.each((function(t){t.fontSize=Nl(r,"vis.d3-maps-core.places.".concat(t.type,".label.fontSize"),Nl(r,"vis.d3-maps-core.places.general.label.fontSize",l[t.type]||10)),t.symbolSize=Nl(r,"vis.d3-maps-core.places.".concat(t.type,".symbol.size"),Nl(r,"vis.d3-maps-core.places.general.symbol.size",3)),t.symbolPath=Nl(r,"vis.d3-maps-core.places.".concat(t.type,".symbol.path"),f[t.type]||!1)})),c.attr("transform",(function(t){var e=n.proj(n.mapProj([t.x,t.y]));return t.anchor=e,"translate(".concat(t.anchor,") scale(").concat(1/i.k,")")}));var h=c.append("g.text-wrapper");h.append("text.buffer"),h.append("text.place-label"),c.append("path.place-symbol").attr("d",(function(t){return t.symbolPath||""})).attr("transform",(function(t){return"scale(".concat(t.symbolSize,")")})),p(),n.updateLabelOverlaps(u,"g.place"),p(),c.classed("place-hidden",(function(t){return!t._visible})),n.addZoomLayer("place-labels-layer",u,c),n.updatePlacesAfterZoom=Yf((function(){n.updateLabelOverlaps(u,"g.place"),p(),c.classed("place-hidden",(function(t){return!t._visible}));var t=!1;a.forEach((function(n){n.align!==n.origAlign&&(n.align=n.origAlign,t=!0)})),t&&p(),n.updateLabelOverlaps(u,"g.place"),p(),c.classed("place-hidden",(function(t){return!t._visible}))}),200),n.onZoom(n.updatePlacesAfterZoom)}function p(){c.each((function(t){var n=t.text.replace(/-/g,"- ");t.__lines=(n?n.match(o)?n.trim().split(o):zi(n,10):[]).map((function(t){return t.replace(/- /g,"-")})),"t"===t.align.split("")[0]&&t.__lines.reverse()})),h.attr("transform",(function(t){var n=t.align.split(""),e=s(n,2),i=e[0],o=e[1],a=Nl(r,"vis.d3-maps-core.places.".concat(t.type,".label.translateX"),0),u=Nl(r,"vis.d3-maps-core.places.".concat(t.type,".label.translateY"),0),c=(t.symbolSize+a)*{l:1,c:0,r:-1}[o],l=(t.fontSize+t.symbolSize+u)*{t:-1,m:0,b:1}[i];return"translate(".concat(c,",").concat(l,")")})),c.selectAll("text").style("text-anchor",(function(t){return{l:"end",c:"middle",r:"start"}[t.align.split("")[1]]})),n.g.selectAll("tspan").remove(),c.selectAll("text").tspans((function(t){return t.__lines}),(function(t){var n=t.align;return((t.fontSize||10)+4)*{t:-1,m:1,b:1}[n.split("")[0]]}))}}({map:ht,vis:i,theme:u,getZoom:yt})},updateLabelOverlaps:Lt,clearZoomLayer:function(){st.forEach((function(t){return t.g.remove()})),st.length=0},addZoomLayer:function(t,n,e){ft[t]={g:n,feat:e},st.push(ft[t])},updateZoomLayerSelection:function(t,n){ft[t].feat=n},onZoom:function(t){lt=t},setBottomMargin:function(t){return f=t,xt(i.size()),ht},setUserPadding:function(t){return l=t,xt(i.size()),ht},zoomVisRegions:function(){X=ht.getVisRegions(),k(I,W,X),xt(i.size())},getVisRegions:function(){return{type:"FeatureCollection",features:X.features.filter((function(t){return!ht.hasNoData(t)}))}},hasNoData:function(t){return!t.data||void 0===t.data[a.values]||null===t.data[a.values]||"null"===t.data[a.values]||"-"===t.data[a.values]},sizeTooltip:$t(o),resizeMap:xt,fixZoom:At,zoomBehavior:!1};w&&mt();var pt=m.select(".map-outer").append("div.annotations"),dt=Ot(),gt="";zt(pt);var vt=Yf(ht.renderPlaces,100);t&&dt&&t.$on("update",(function(){var t=dt.get().editorState,n=JSON.stringify(Nl(t,"selectedAnnotationProps",""));Nl(t,"selectedTextAnnotations",[]).length&&n!==gt&&vt(),gt=n}));function mt(){!function(t){var n=t.context,e=t.getZoom,r=t.proj,i=t.mapProj,o=t.width,a=t.height,u=t.canvasScale,c=t.canvasLayers,l=t.theme,s=e(),f=["vis.d3-maps-symbols.labels.clusters","typography.chart"],h=[Nl(l,"".concat(f[0],".fontWeight"),Nl(l,"".concat(f[1],".fontWeight"),400)),Nl(l,"".concat(f[0],".fontSize"),Nl(l,"".concat(f[1],".fontSize"),14))/s.k+"px",Nl(l,"".concat(f[0],".typeface"),Nl(l,"".concat(f[1],".typeface"),"sans-serif"))].filter((function(t){return t})).join(" "),p=_c(r,n);n.clearRect(0,0,o*u,a*u),n.lineJoin="round",n.lineCap="round",n.save(),n.scale(u,u),n.translate(s.x,s.y),n.scale(s.k,s.k),c.forEach((function(t){var e=t.features.filter((function(t){return!t.__hidden}));n.globalCompositeOperation=t.blendMode||"source-over",e.forEach((function(e){n.beginPath();var o="function"==typeof t.style?t.style(e):t.style,a="Feature"===e.type?e.geometry:e;if(a){if("Point"===a.type){var u;if(e.properties.__projCache?u=e.properties.__projCache:e.properties.__projCache=u=i(e.geometry.coordinates),!u)return;var c=r(u);n.save(),n.translate(c[0],c[1]);var l=void 0!==e.properties.__r?e.properties.__r:1;if(e.properties.__symbol){switch(e.properties.__symbolProps.scale){case"y":n.scale(2.5/s.k,l/s.k);break;case"area":default:n.scale(l/s.k,l/s.k)}e.properties.__symbol(n),e.properties.__symbolProps.fill&&n.closePath()}n.restore()}else p(e);n.strokeStyle=o.stroke?o.stroke:null,o.fill&&(n.fillStyle=o.fill,n.fill()),o.stroke&&(n.lineWidth=(o.lineWidth||1)/s.k,n.strokeStyle=o.stroke,n.setLineDash(o.dash?o.dash.map((function(t){return t/s.k})):[]),n.stroke())}})),n.globalCompositeOperation="source-over",n.font=h,n.textAlign="center",n.textBaseline="middle",e.forEach((function(e){var i="Feature"===e.type?e.geometry:e;if(i&&"Point"===i.type&&e.properties.__label){var o="function"==typeof t.style?t.style(e):t.style;n.fillStyle=o.labelFill||"#000000";var a=e.properties.__projCache;if(!a)return;var u=r(a);if(n.save(),"marker"===e.properties.__symbolProps.id){var c=.85*(void 0!==e.properties.__r?e.properties.__r:1)/s.k;n.translate(u[0],u[1]-c)}else n.translate(u[0],u[1]);n.fillText(e.properties.__label,0,0),n.restore()}}))})),n.restore(),r.log()}({context:z,getZoom:yt,proj:I,mapProj:H,width:h,height:p,canvasScale:_,canvasLayers:L,theme:u})}function yt(){return ht&&void 0!==ht.zoomBehavior&&!1!==ht.zoomBehavior?ci(b.node()):ui}if(i.get("zoomable",!1)){ht.zoomBehavior=mi().scaleExtent([1,g.maxZoom]).extent(S(I,W,R).extent).translateExtent(S(I,W,R).extent).filter((function(){var t="wheel"===ct.type&&!ct.ctrlKey,n=ct.touches&&1===ct.touches.length;return!ct.button&&!t&&!n})).on("zoom",kt),b.call(ht.zoomBehavior).style("touch-action","auto");var bt={in:"M1,5 h4 v-4 h2 v4 h4 v2 h-4 v4 h-2 v-4 h-4 v-2 Z",out:"M1,5 h10 v2 h-10 v-2 Z",home:"M0,2h2v-2h2v4h-4v-2Z M0,8h4v4h-2v-2h-2v-2z M8,0h2v2h2v2h-4v-4z M8,8h4v2h-2v2h-2v-4z"},wt=i.get("zoom-button-pos","br");m.select(".map-outer").append("div.zoom-buttons.zoom-buttons-".concat(wt)).selectAll(".zoom-btn").data("b"===wt.charAt(0)?["home","in","out"]:["in","out","home"]).enter().append("button").attr("class",(function(t){return"zoom-btn zoom-btn-".concat(t)})).on("click",St).append("svg").at({width:12,height:12}).append("path").attr("d",(function(t){return bt[t]}));var _t=!1;m.on("keypress",(function(){if(!_t&&ct.target.classList.contains("zoom-btn")&&(" "===ct.key||"Enter"===ct.key)){var t=m.append("div").st({position:"absolute",left:0,right:0,top:0,fontSize:15,textAlign:"center",padding:"10px 40px",zIndex:9,background:"rgba(255,255,255,0.8)",color:"black"}).html("Hint: you can use the <tt>w</tt>,<tt>a</tt>,<tt>s</tt>,<tt>d</tt> keys to pan around the map");setTimeout((function(){t.remove()}),1e4),_t=!0}if("wasd".includes(ct.key)){var n=yt();if(n.k>1){var e="a"===ct.key?100:"d"===ct.key?-100:0,r="w"===ct.key?100:"s"===ct.key?-100:0;ht.zoomBehavior.translateBy(b,e/n.k,r/n.k)}}}))}function xt(e){if(d=i.get("max-map-height",650),i.size(e[0],e[1]),h=e[0],p=e[1]-f,v){var r=n.querySelector(".annotation-keys:not(.hide)"),o=r&&r.clientHeight>0?r.clientHeight+0:0,a=n.querySelector(".map-key-mt,.map-key-mb"),u=a&&a.clientHeight>0?a.clientHeight+5:0;p-=u+o}if(p=k(I,W,X),ht.zoomBehavior&&ht.zoomBehavior.extent(S(I,W,R).extent).translateExtent(S(I,W,R).extent),w?mt():b.selectAll("path.geo").attr("d",(function(t){return V(t)})),b.at({width:h,height:p}),w&&w.at({width:h*_,height:p*_}).st({width:h,height:p}),G.attr("width",h).attr("height",p),ht.sizeTooltip=$t(e),w?ht.data.forEach((function(t){t.anchor=Et(t)})):ot.selectAll("g.region").each((function(t){return t.anchor=Et(t)})),t){var c=jt(),l=Nt();t.$set({dataToPx:c,pxToData:l,visWidth:h})}At()}return r(ht);function Mt(t,n,e){return Math.max(n,Math.min(e,t))}function kt(){var n=ct.transform;if(m.classed("d3-maps-zoomed-in",n.k>1),At(),t){var e=jt(),r=Nt();t.$set({dataToPx:e,pxToData:r})}lt&&lt(n.k,[n.x,n.y])}function St(t){if("home"===t)ht.zoomBehavior.transform(b.transition().duration(750),ui);else{var n=Mt(yt().k*Math.pow(2,+("in"===t?1:-1)),1,g.maxZoom);Math.abs(n-1)<1e-4?ht.zoomBehavior.transform(b.transition().duration(750),ui):ht.zoomBehavior.scaleTo(b.transition().duration(750),n)}}function At(){var t=yt(),n=ht.scale=t.k;w&&I.areaThreshold(n===g.maxZoom?0:1/Math.pow(n,1.5)/Math.pow(Math.min(600,h)/600,2));var e=(.45+.25*Math.pow(Math.min(1,n-1),.5))/n,r=T.filter((function(t){return"border"===t.type}));w&&mt(),Z.attr("transform",t),r.forEach((function(t){var n=t.id,r=t.selection,i=t.style;if((g[n]||"outlines"===n)&&r.style("stroke-width",e*i.lineWidth+"px"),i.strokeDasharray){var o=i.strokeDasharray.split(",").map((function(t){return Number(t)*e}));r.style("stroke-dasharray",o.join(","))}}));for(var i=st.length,o=0;o<i;o++)st[o].feat.attr("transform",a);function a(t){return"translate("+t.anchor+") scale("+1/n+")"}}function Et(t){if(void 0===t.properties.cx||void 0===t.properties.cy)return V.centroid(t);var n=H([t.properties.cx,t.properties.cy]);return n?I(n):V.centroid(t)}function $t(t){return function(n,e,r){if(t[0]<400){var o=n[1]/t[1],a=!0===i.__chart.get("metadata.describe.hide-title")||""===i.__chart.get("metadata.describe.intro")&&""===i.__chart.get("title");r.st({top:o<.5?"auto":a?"0px":"-20px",bottom:o<.5?"20px":"auto",left:0,right:0,"max-width":"100%","max-height":.45*t[1]+"px"})}else{var u=r.property("offsetWidth"),c=r.property("offsetHeight"),l=e.offsetWidth,s=e.offsetHeight,f=n[0]+10+u<l,h=n[1]+10+c<s;r.st({top:h?n[1]-10+"px":"auto",bottom:h?"auto":Math.min(s-c,s-n[1]+10)+"px",left:f?n[0]+10+"px":"auto",right:f?"auto":l-n[0]+10+"px","max-height":.55*t[1]+"px"}),r.style("max-width",null)}}}function Ot(){if(i.chart().inEditor()){var t=window.parent.dw.backend.hooks.call("get-annotation-controls").results;if(t&&t.length)return window.__registerAnnotationControls=void 0,t[t.length-1];window.__registerAnnotationControls=function(t){window.__annotationLayer.$set({editMode:!0}),t.syncAnnotationLayer(window.__annotationLayer)}}return null}function jt(){var t;return function(n,e){var r=t||[20,20];if(Math.abs(n)>180||Math.abs(e)>90)return r;var i=H([n,e]);if(!i)return r;var o=s(i,2),a=o[0],u=o[1],c=I([a,u]),l=s(c,2),f=l[0],h=l[1],p=yt().apply([f,h]),d=s(p,2),g=d[0],v=d[1];return t=[g,v].map((function(t){return+t.toFixed(1)}))}}function Nt(){return function(t,n){var e=yt().invert([t,n]),r=s(e,2),i=r[0],o=r[1],a=I.invert([i,o]),u=s(a,2),c=u[0],l=u[1];return H.invert([c,l])}}function zt(n){var e=i.chart().inEditor(),r=e&&Ot(),o=zl(i.get("text-annotations",[]));if(!o.length&&!e)return!1;var a=jt(),u=Nt(),c=m.append("div.annotation-keys");if(t)try{t.$destroy()}catch(t){console.warn("Annotation layer not destroyed, error caught to prevent issue in IE")}return t=new Ll({target:n.node(),props:{textAnnotations:o,dataToPx:a,pxToData:u,theme:i.theme(),cm:i.colorMap(),visWidth:h,annotationKeysSel:c}}),r&&(t.$set({editMode:!0}),r.syncAnnotationLayer(t),Z.on("mousedown",(function(){var t=r.get().editorState;t.selectedTextAnnotations=[],r.set({editorState:t})}))),t}function Lt(t,n){var e=yt(),r=!1;if(i.get("avoid-label-overlap",!0)||"column"!==i.get("labels.type","places")){var o=[],a=i.__chart.getElementBounds(ht.svg.node()),u=m.selectAll(".text-annotation .text"),c=2;return u.each((function(){var t=i.__chart.getElementBounds(this),n=t.top-a.top-c,e=t.bottom-a.top+c,r=t.left-a.left-c,u=t.right-a.left+c;o.push({t:n,l:r,b:e,r:u})})),t.selectAll(n).each((function(t){var n=i.__chart.getElementBounds(this),o=l(n,t);if(o&&("point"===t.type||"capital"===t.type)&&"places"===i.get("labels.type","places")&&1===e.k){var u=zl(n),c=t.anchor,s=t.symbolSize;jh(["tr","br","bl","tl"]).forEach((function(n){if(o){switch(n){case"tr":u.left=c[0]-s,u.right=c[0]+u.width-s,u.top=c[1]-u.height+a.top+2*s,u.bottom=c[1]+a.top;break;case"tl":u.left=c[0]-u.width+s,u.right=c[0]+s,u.top=c[1]-u.height+a.top+2*s,u.bottom=c[1]+a.top;break;case"bl":u.left=c[0]-u.width+s,u.right=c[0]+s,u.top=c[1]+a.top,u.bottom=c[1]+u.height+a.top-2*s;break;case"br":u.left=c[0]-s,u.right=c[0]+u.width-s,u.top=c[1]+a.top,u.bottom=c[1]+u.height+a.top-2*s}l(u,t)||(t.align=n,r=!0,o=!1)}}))}t._visible=!o})),{alignmentChanged:r}}function l(t,n){var r=t.top-a.top-c,i=t.bottom-a.top+c,u=t.left-a.left-c,l=t.right-a.left+c,s=!1;return(u<0||r<0||i>a.height||l>a.width)&&1===e.k&&(s=!0),s||o.forEach((function(t){r>t.b||l<t.l||i<t.t||u>t.r||n!==t.data&&(s=!0)})),s||o.push({t:r,l:u,b:i,r:l,data:n}),s}}}(c.content,c.meta,b,M,_,x)}else setTimeout((function(){return location.reload()}),2e3);function k(t,n,e){var r=S(t,n,e),i=r.extent,o=r.h;return t.fitExtent(i,e),o||p}function S(t,n,e){var r=function(t){var n=(p-p*(1-l))/2;return[parseInt((h-h*(1-l))/2,10)+t,parseInt(n,10)+t]}(n),o=s(r,2),a=o[0],u=o[1],c=i.get("map-align","center");return v?function(t,n,e,r,i,o,a){var u=_c().projection(t).bounds(a),c=u[1][1]-u[0][1],l=u[1][0]-u[0][0],s=c/l,f=n/e;return{extent:[[i+(f>s&&"right"===r?(e-2*o)*s:0),o],[n-i-(f>s&&"left"===r?(e-2*o)*s:0),e-o]],h:e}}(t,h||50,p||50,c,a||0,u||0,e):function(t,n,e,r,i,o,a){var u=_c().projection(t).bounds(a),c=u[1][1]-u[0][1],l=u[1][0]-u[0][0],s=c/l,f=Math.min(e,n*s),h=n-2*i-f/s;h<0&&(r="left"===r?"right":"right"===r?"left":r);return{extent:[[i+("right"===r?h:0),o],[n-i-("left"===r?h:0),f-o]],h:f}}(t,h||50,+d,c,a||0,u||0,e)}function A(){return i.theme().colors.background}},_svgCanvas:function(){return this.svg},getFormat:function(t,n,e){if(!n)return gf;var r=this,i=r.get(t,e),o=i.indexOf("%")>-1,a="number"===n.type()?function(t){return Al(o?.01*t:t).format((n=i,e={f:"0",".1f":"0.0",".2f":"0.00",".3f":"0.000",".0%":"0%",".1%":"0.0%",".1s":"0a",".2s":"0.0a",".3s":"0.00a"},Object.prototype.hasOwnProperty.call(e,n)?e[n]:n));var n,e}:"date"===n.type()?function(n){return moment(n).format(r.get(t)||"YYYY")}:gf;return function(t){return"date"===n.type()?us(t)?a(t):t:a(t)}},getColorScale:function(t){var n=this,e=n.dataset,r=n.axes(!0).values,i=r.type(),o=n.get(t+".colors",function(t){var n=[{c:"#fff",p:0},{c:"#000",p:1}],e=t.theme(),r=e.colors?e.colors.gradients:null;if(!r)return n;var i=r[0];return!i||!os(i[0])||i.length<2?n:i.map((function(t,n){return{c:t,p:n/(i.length-1)}}))}(n)),a=n.get(t+".stops",function(t,n){var e=[{p:0,v:0},{p:1,v:1}],r=n.name();if(!r)return e;var i=t.column(r).range();return i?[{p:0,v:i[0]},{p:1,v:i[1]}]:e}(e,r));if(window.ds=e,"number"===i){var u=Ye().range(a.map(Oi("p"))).domain(a.map(Oi("v"))),c=Ye().clamp(!0).domain(o.map(Oi("p"))).range(o.map(Oi("c")));return Oi(u,c)}var l=jh(r.values()).filter(gf);return o=n.__categoryColors=function(t,n,e){var r=Bt(t),i=[].concat(e.colors.palette).concat(e.colors.secondary).filter((function(t){return r.indexOf(t)<0})),o=Object.assign({},t);return n.forEach((function(t){if(!o[t]){var n=i.shift();o[t]=n}})),o}(n.get("categories",{}),l,n.theme()),Yt().domain(function(t){var n=[];for(var e in t)n.push(e);return n}(o)).range(Bt(o))}}}));var ed=Qp.prototype=td.prototype;function rd(t,n){for(var e,r,i=t.length,o=t[i-1],a=n[0],u=n[1],c=o[0],l=o[1],s=!1,f=0;f<i;++f)e=(o=t[f])[0],(r=o[1])>u!=l>u&&a<(c-e)*(u-r)/(l-r)+e&&(s=!s),c=e,l=r;return s}function id(t){return t.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w-]+/g,"").replace(/-/g,"_").replace(/__+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(and|or|in|true|false)$/,"$1_")}function od(t,n){var e=_c();t.forEach((function(t){void 0!==t.properties.cx&&void 0!==t.properties.cy&&(t.properties.__centroid=n([t.properties.cx,t.properties.cy])),t.properties.__centroid&&void 0!==t.properties.__centroid[0]||(t.properties.__centroid=e.centroid(t)),t.properties.__bbox=e.bounds(t)}));var r=Qp(t,(function(t){return t.properties.__centroid[0]}),(function(t){return t.properties.__centroid[1]}));return function(t){var n=r.copy(),e=n.find(t[0],t[1]);if(e){for(var i=300;n.size()&&!o(e)&&--i>0;)n.remove(e),e=n.find(t[0],t[1]);if(i&&n.size())return e}function o(n){if(!n)return!1;var e=n.properties.__bbox;return t[0]>=e[0][0]&&t[0]<=e[1][0]&&t[1]>=e[0][1]&&t[1]<=e[1][1]&&function(t,n){if("MultiPolygon"===t.geometry.type||"Polygon"===t.geometry.type){for(var e="MultiPolygon"===t.geometry.type?t.geometry.coordinates:[t.geometry.coordinates],r=0;r<e.length;r++)for(var i=e[r],o=0;o<i.length;o++){if(rd(i[o],n))return!0}return!1}console.warn(t.geometry.type,"is not supported")}(n,t)}}}function ad(t){return"<div class=\"tooltip-warning\"'>Woops! There's an error in your tooltip formula: ".concat(t.message,"</div>")}function ud(t,n){return us(t)?El(t).format(n):Cp(+t,{format:n})}ed.copy=function(){var t,n,e=new td(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=nd(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=nd(n));return e},ed.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return Zp(this.cover(n,e),n,e,t)},ed.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),c=1/0,l=1/0,s=-1/0,f=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,u[e]=i,r<c&&(c=r),r>s&&(s=r),i<l&&(l=i),i>f&&(f=i));if(c>s||l>f)return this;for(this.cover(c,l).cover(s,f),e=0;e<o;++e)Zp(this,a[e],u[e],t[e]);return this},ed.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a,u,c=i-e,l=this._root;e>t||t>=i||r>n||n>=o;)switch(u=(n<r)<<1|t<e,(a=new Array(4))[u]=l,l=a,c*=2,u){case 0:i=e+c,o=r+c;break;case 1:e=i-c,o=r+c;break;case 2:i=e+c,r=o-c;break;case 3:e=i-c,r=o-c}this._root&&this._root.length&&(this._root=l)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},ed.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},ed.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ed.find=function(t,n,e){var r,i,o,a,u,c,l,s=this._x0,f=this._y0,h=this._x1,p=this._y1,d=[],g=this._root;for(g&&d.push(new Gp(g,s,f,h,p)),null==e?e=1/0:(s=t-e,f=n-e,h=t+e,p=n+e,e*=e);c=d.pop();)if(!(!(g=c.node)||(i=c.x0)>h||(o=c.y0)>p||(a=c.x1)<s||(u=c.y1)<f))if(g.length){var v=(i+a)/2,m=(o+u)/2;d.push(new Gp(g[3],v,m,a,u),new Gp(g[2],i,m,v,u),new Gp(g[1],v,o,a,m),new Gp(g[0],i,o,v,m)),(l=(n>=m)<<1|t>=v)&&(c=d[d.length-1],d[d.length-1]=d[d.length-1-l],d[d.length-1-l]=c)}else{var y=t-+this._x.call(null,g.data),b=n-+this._y.call(null,g.data),w=y*y+b*b;if(w<e){var _=Math.sqrt(e=w);s=t-_,f=n-_,h=t+_,p=n+_,r=g.data}}return r},ed.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,c,l,s,f,h,p=this._root,d=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!p)return this;if(p.length)for(;;){if((l=o>=(u=(d+v)/2))?d=u:v=u,(s=a>=(c=(g+m)/2))?g=c:m=c,n=p,!(p=p[f=s<<1|l]))return this;if(!p.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):n?(i?n[f]=i:delete n[f],(p=n[0]||n[1]||n[2]||n[3])&&p===(n[3]||n[2]||n[1]||n[0])&&!p.length&&(e?e[h]=p:this._root=p),this):(this._root=i,this)},ed.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},ed.root=function(){return this._root},ed.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},ed.visit=function(t){var n,e,r,i,o,a,u=[],c=this._root;for(c&&u.push(new Gp(c,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&c.length){var l=(r+o)/2,s=(i+a)/2;(e=c[3])&&u.push(new Gp(e,l,s,o,a)),(e=c[2])&&u.push(new Gp(e,r,s,l,a)),(e=c[1])&&u.push(new Gp(e,l,i,o,s)),(e=c[0])&&u.push(new Gp(e,r,i,l,s))}return this},ed.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new Gp(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,c=n.x1,l=n.y1,s=(a+c)/2,f=(u+l)/2;(o=i[0])&&e.push(new Gp(o,a,u,s,f)),(o=i[1])&&e.push(new Gp(o,s,u,c,f)),(o=i[2])&&e.push(new Gp(o,a,f,s,l)),(o=i[3])&&e.push(new Gp(o,s,f,c,l))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},ed.x=function(t){return arguments.length?(this._x=t,this):this._x},ed.y=function(t){return arguments.length?(this._y=t,this):this._y};var cd=e((function(t){t.exports=function(t){if(Array.isArray(t))return u(t)},t.exports.default=t.exports,t.exports.__esModule=!0})),ld=e((function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0})),sd=e((function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0})),fd=n(e((function(t){t.exports=function(t){return cd(t)||ld(t)||c(t)||sd()},t.exports.default=t.exports,t.exports.__esModule=!0})));function hd(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function pd(t){var n=t,e=t;function r(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r}return 1===t.length&&(n=function(n,e){return t(n)-e},e=function(t){return function(n,e){return hd(t(n),e)}}(t)),{left:r,center:function(t,e,i,o){null==i&&(i=0),null==o&&(o=t.length);var a=r(t,e,i,o-1);return a>i&&n(t[a-1],e)>-n(t[a],e)?a-1:a},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}e((function(t){var n=function(t){var n,e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{c({},"")}catch(t){c=function(t,n,e){return t[n]=e}}function l(t,n,e,r){var i=n&&n.prototype instanceof v?n:v,o=Object.create(i.prototype),a=new $(r||[]);return o._invoke=function(t,n,e){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return j()}for(e.method=i,e.arg=o;;){var a=e.delegate;if(a){var u=S(a,e);if(u){if(u===g)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(r===f)throw r=d,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r=p;var c=s(t,n,e);if("normal"===c.type){if(r=e.done?d:h,c.arg===g)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r=d,e.method="throw",e.arg=c.arg)}}}(t,e,a),o}function s(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",g={};function v(){}function m(){}function y(){}var b={};b[o]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(O([])));_&&_!==e&&r.call(_,o)&&(b=_);var x=y.prototype=v.prototype=Object.create(b);function M(t){["next","throw","return"].forEach((function(n){c(t,n,(function(t){return this._invoke(n,t)}))}))}function k(t,n){function e(i,o,a,u){var c=s(t[i],t,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"===It(f)&&r.call(f,"__await")?n.resolve(f.__await).then((function(t){e("next",t,a,u)}),(function(t){e("throw",t,a,u)})):n.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return e("throw",t,a,u)}))}u(c.arg)}var i;this._invoke=function(t,r){function o(){return new n((function(n,i){e(t,r,n,i)}))}return i=i?i.then(o,o):o()}}function S(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,S(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=s(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function A(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function E(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function $(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}return{next:j}}function j(){return{value:n,done:!0}}return m.prototype=x.constructor=y,y.constructor=m,m.displayName=c(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},M(k.prototype),k.prototype[a]=function(){return this},t.AsyncIterator=k,t.async=function(n,e,r,i,o){void 0===o&&(o=Promise);var a=new k(l(n,e,r,i),o);return t.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},M(x),c(x,u,"Generator"),x[o]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,$.prototype={constructor:$,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(r,i){return u.type="throw",u.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),E(e),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var i=r.arg;E(e)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),g}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}}));function dd(t){return null===t?NaN:+t}var gd=pd(hd).right,vd=(pd(dd).center,Math.sqrt(50)),md=Math.sqrt(10),yd=Math.sqrt(2);function bd(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=wd(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(a=-a,t=Math.ceil(t*a),n=Math.floor(n*a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)/a;return r&&o.reverse(),o}function wd(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=vd?10:o>=md?5:o>=yd?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=vd?10:o>=md?5:o>=yd?2:1)}function _d(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dd;if(r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t),u=+e(t[o+1],o+1,t);return a+(u-a)*(i-o)}}function xd(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function Md(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function kd(t){return+t}var Sd=[0,1];function Ad(t){return t}function Ed(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function $d(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=Ed(i,r),o=e(a,o)):(r=Ed(r,i),o=e(o,a)),function(t){return o(r(t))}}function Od(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=Ed(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=gd(t,n,1,r)-1;return o[e](i[e](n))}}function jd(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Nd(){var t,n,e,r,i,o,a=Sd,u=Sd,c=Qn,l=Ad;function s(){var t=Math.min(a.length,u.length);return l!==Ad&&(l=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}(a[0],a[t-1])),r=t>2?Od:$d,i=o=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(a.map(t),u,c)))(t(l(n)))}return f.invert=function(e){return l(n((o||(o=r(u,a.map(t),Vn)))(e)))},f.domain=function(t){return arguments.length?(a=Array.from(t,kd),s()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),s()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),c=te,s()},f.clamp=function(t){return arguments.length?(l=!!t||Ad,s()):l!==Ad},f.interpolate=function(t){return arguments.length?(c=t,s()):c},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,s()}}function zd(){return Nd()(Ad,Ad)}function Ld(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=vd?i*=10:o>=md?i*=5:o>=yd&&(i*=2),n<t?-i:i}(t,n,e);switch((r=$e(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=Fe(o,a))||(r.precision=i),Pe(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=qe(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Be(o))||(r.precision=i-2*("%"===r.type))}return Te(r)}function Td(t){var n=t.domain;return t.ticks=function(t){var e=n();return bd(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Ld(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,u=o.length-1,c=o[a],l=o[u],s=10;for(l<c&&(i=c,c=l,l=i,i=a,a=u,u=i);s-- >0;){if((i=wd(c,l,e))===r)return o[a]=c,o[u]=l,n(o);if(i>0)c=Math.floor(c/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function Pd(){var t=zd();return t.copy=function(){return jd(t,Pd())},Md.apply(t,arguments),Td(t)}function Dd(){var t,n=[.5],e=[0,1],r=1;function i(i){return i<=i?e[gd(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=Array.from(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return Dd().domain(n).range(e).unknown(t)},Md.apply(i,arguments)}var Cd,Rd=function(t){if(!Kh(t))return!1;var n=gp(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n},Bd=tp["__core-js_shared__"],Fd=(Cd=/[^.]+$/.exec(Bd&&Bd.keys&&Bd.keys.IE_PROTO||""))?"Symbol(src)_1."+Cd:"";var qd=function(t){return!!Fd&&Fd in t},Wd=Function.prototype.toString;var Hd=function(t){if(null!=t){try{return Wd.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Yd=/^\[object .+?Constructor\]$/,Id=Function.prototype,Ud=Object.prototype,Xd=Id.toString,Vd=Ud.hasOwnProperty,Zd=RegExp("^"+Xd.call(Vd).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Gd=function(t){return!(!Kh(t)||qd(t))&&(Rd(t)?Zd:Yd).test(Hd(t))};var Kd=function(t,n){return null==t?void 0:t[n]};var Jd=function(t,n){var e=Kd(t,n);return Gd(e)?e:void 0},Qd=function(){try{var t=Jd(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var tg=function(t,n,e){"__proto__"==n&&Qd?Qd(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e};var ng=function(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];n(r,a,e(a),t)}return r};var eg=function(t){return function(n,e,r){for(var i=-1,o=Object(n),a=r(n),u=a.length;u--;){var c=a[t?u:++i];if(!1===e(o[c],c,o))break}return n}}();var rg=function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r};var ig=function(t){return vp(t)&&"[object Arguments]"==gp(t)},og=Object.prototype,ag=og.hasOwnProperty,ug=og.propertyIsEnumerable,cg=ig(function(){return arguments}())?ig:function(t){return vp(t)&&ag.call(t,"callee")&&!ug.call(t,"callee")},lg=Array.isArray;var sg=function(){return!1},fg=e((function(t,n){var e=n&&!n.nodeType&&n,r=e&&t&&!t.nodeType&&t,i=r&&r.exports===e?tp.Buffer:void 0,o=(i?i.isBuffer:void 0)||sg;t.exports=o})),hg=/^(?:0|[1-9]\d*)$/;var pg=function(t,n){var e=It(t);return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&hg.test(t))&&t>-1&&t%1==0&&t<n};var dg=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},gg={};gg["[object Float32Array]"]=gg["[object Float64Array]"]=gg["[object Int8Array]"]=gg["[object Int16Array]"]=gg["[object Int32Array]"]=gg["[object Uint8Array]"]=gg["[object Uint8ClampedArray]"]=gg["[object Uint16Array]"]=gg["[object Uint32Array]"]=!0,gg["[object Arguments]"]=gg["[object Array]"]=gg["[object ArrayBuffer]"]=gg["[object Boolean]"]=gg["[object DataView]"]=gg["[object Date]"]=gg["[object Error]"]=gg["[object Function]"]=gg["[object Map]"]=gg["[object Number]"]=gg["[object Object]"]=gg["[object RegExp]"]=gg["[object Set]"]=gg["[object String]"]=gg["[object WeakMap]"]=!1;var vg=function(t){return vp(t)&&dg(t.length)&&!!gg[gp(t)]};var mg=function(t){return function(n){return t(n)}},yg=e((function(t,n){var e=n&&!n.nodeType&&n,r=e&&t&&!t.nodeType&&t,i=r&&r.exports===e&&Jh.process,o=function(){try{var t=r&&r.require&&r.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=o})),bg=yg&&yg.isTypedArray,wg=bg?mg(bg):vg,_g=Object.prototype.hasOwnProperty;var xg=function(t,n){var e=lg(t),r=!e&&cg(t),i=!e&&!r&&fg(t),o=!e&&!r&&!i&&wg(t),a=e||r||i||o,u=a?rg(t.length,String):[],c=u.length;for(var l in t)!n&&!_g.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||pg(l,c))||u.push(l);return u},Mg=Object.prototype;var kg=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||Mg)};var Sg=function(t,n){return function(e){return t(n(e))}}(Object.keys,Object),Ag=Object.prototype.hasOwnProperty;var Eg=function(t){if(!kg(t))return Sg(t);var n=[];for(var e in Object(t))Ag.call(t,e)&&"constructor"!=e&&n.push(e);return n};var $g=function(t){return null!=t&&dg(t.length)&&!Rd(t)};var Og=function(t){return $g(t)?xg(t):Eg(t)};var jg=function(t,n){return function(e,r){if(null==e)return e;if(!$g(e))return t(e,r);for(var i=e.length,o=n?i:-1,a=Object(e);(n?o--:++o<i)&&!1!==r(a[o],o,a););return e}}((function(t,n){return t&&eg(t,n,Og)}));var Ng=function(t,n,e,r){return jg(t,(function(t,i,o){n(r,t,e(t),o)})),r};var zg=function(){this.__data__=[],this.size=0};var Lg=function(t,n){return t===n||t!=t&&n!=n};var Tg=function(t,n){for(var e=t.length;e--;)if(Lg(t[e][0],n))return e;return-1},Pg=Array.prototype.splice;var Dg=function(t){var n=this.__data__,e=Tg(n,t);return!(e<0)&&(e==n.length-1?n.pop():Pg.call(n,e,1),--this.size,!0)};var Cg=function(t){var n=this.__data__,e=Tg(n,t);return e<0?void 0:n[e][1]};var Rg=function(t){return Tg(this.__data__,t)>-1};var Bg=function(t,n){var e=this.__data__,r=Tg(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this};function Fg(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}Fg.prototype.clear=zg,Fg.prototype.delete=Dg,Fg.prototype.get=Cg,Fg.prototype.has=Rg,Fg.prototype.set=Bg;var qg=Fg;var Wg=function(){this.__data__=new qg,this.size=0};var Hg=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e};var Yg=function(t){return this.__data__.get(t)};var Ig=function(t){return this.__data__.has(t)},Ug=Jd(tp,"Map"),Xg=Jd(Object,"create");var Vg=function(){this.__data__=Xg?Xg(null):{},this.size=0};var Zg=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Gg=Object.prototype.hasOwnProperty;var Kg=function(t){var n=this.__data__;if(Xg){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return Gg.call(n,t)?n[t]:void 0},Jg=Object.prototype.hasOwnProperty;var Qg=function(t){var n=this.__data__;return Xg?void 0!==n[t]:Jg.call(n,t)};var tv=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=Xg&&void 0===n?"__lodash_hash_undefined__":n,this};function nv(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}nv.prototype.clear=Vg,nv.prototype.delete=Zg,nv.prototype.get=Kg,nv.prototype.has=Qg,nv.prototype.set=tv;var ev=nv;var rv=function(){this.size=0,this.__data__={hash:new ev,map:new(Ug||qg),string:new ev}};var iv=function(t){var n=It(t);return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t};var ov=function(t,n){var e=t.__data__;return iv(n)?e["string"==typeof n?"string":"hash"]:e.map};var av=function(t){var n=ov(this,t).delete(t);return this.size-=n?1:0,n};var uv=function(t){return ov(this,t).get(t)};var cv=function(t){return ov(this,t).has(t)};var lv=function(t,n){var e=ov(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this};function sv(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}sv.prototype.clear=rv,sv.prototype.delete=av,sv.prototype.get=uv,sv.prototype.has=cv,sv.prototype.set=lv;var fv=sv;var hv=function(t,n){var e=this.__data__;if(e instanceof qg){var r=e.__data__;if(!Ug||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new fv(r)}return e.set(t,n),this.size=e.size,this};function pv(t){var n=this.__data__=new qg(t);this.size=n.size}pv.prototype.clear=Wg,pv.prototype.delete=Hg,pv.prototype.get=Yg,pv.prototype.has=Ig,pv.prototype.set=hv;var dv=pv;var gv=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var vv=function(t){return this.__data__.has(t)};function mv(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new fv;++n<e;)this.add(t[n])}mv.prototype.add=mv.prototype.push=gv,mv.prototype.has=vv;var yv=mv;var bv=function(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1};var wv=function(t,n){return t.has(n)};var _v=function(t,n,e,r,i,o){var a=1&e,u=t.length,c=n.length;if(u!=c&&!(a&&c>u))return!1;var l=o.get(t),s=o.get(n);if(l&&s)return l==n&&s==t;var f=-1,h=!0,p=2&e?new yv:void 0;for(o.set(t,n),o.set(n,t);++f<u;){var d=t[f],g=n[f];if(r)var v=a?r(g,d,f,n,t,o):r(d,g,f,t,n,o);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!bv(n,(function(t,n){if(!wv(p,n)&&(d===t||i(d,t,e,r,o)))return p.push(n)}))){h=!1;break}}else if(d!==g&&!i(d,g,e,r,o)){h=!1;break}}return o.delete(t),o.delete(n),h},xv=tp.Uint8Array;var Mv=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e};var kv=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e},Sv=ap?ap.prototype:void 0,Av=Sv?Sv.valueOf:void 0;var Ev=function(t,n,e,r,i,o,a){switch(e){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=n.byteLength||!o(new xv(t),new xv(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Lg(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var u=Mv;case"[object Set]":var c=1&r;if(u||(u=kv),t.size!=n.size&&!c)return!1;var l=a.get(t);if(l)return l==n;r|=2,a.set(t,n);var s=_v(u(t),u(n),r,i,o,a);return a.delete(t),s;case"[object Symbol]":if(Av)return Av.call(t)==Av.call(n)}return!1};var $v=function(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t};var Ov=function(t,n,e){var r=n(t);return lg(t)?r:$v(r,e(t))};var jv=function(t,n){for(var e=-1,r=null==t?0:t.length,i=0,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[i++]=a)}return o};var Nv=function(){return[]},zv=Object.prototype.propertyIsEnumerable,Lv=Object.getOwnPropertySymbols,Tv=Lv?function(t){return null==t?[]:(t=Object(t),jv(Lv(t),(function(n){return zv.call(t,n)})))}:Nv;var Pv=function(t){return Ov(t,Og,Tv)},Dv=Object.prototype.hasOwnProperty;var Cv=function(t,n,e,r,i,o){var a=1&e,u=Pv(t),c=u.length;if(c!=Pv(n).length&&!a)return!1;for(var l=c;l--;){var s=u[l];if(!(a?s in n:Dv.call(n,s)))return!1}var f=o.get(t),h=o.get(n);if(f&&h)return f==n&&h==t;var p=!0;o.set(t,n),o.set(n,t);for(var d=a;++l<c;){var g=t[s=u[l]],v=n[s];if(r)var m=a?r(v,g,s,n,t,o):r(g,v,s,t,n,o);if(!(void 0===m?g===v||i(g,v,e,r,o):m)){p=!1;break}d||(d="constructor"==s)}if(p&&!d){var y=t.constructor,b=n.constructor;y==b||!("constructor"in t)||!("constructor"in n)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(n),p},Rv=Jd(tp,"DataView"),Bv=Jd(tp,"Promise"),Fv=Jd(tp,"Set"),qv=Jd(tp,"WeakMap"),Wv="[object Map]",Hv="[object Promise]",Yv="[object Set]",Iv="[object WeakMap]",Uv="[object DataView]",Xv=Hd(Rv),Vv=Hd(Ug),Zv=Hd(Bv),Gv=Hd(Fv),Kv=Hd(qv),Jv=gp;(Rv&&Jv(new Rv(new ArrayBuffer(1)))!=Uv||Ug&&Jv(new Ug)!=Wv||Bv&&Jv(Bv.resolve())!=Hv||Fv&&Jv(new Fv)!=Yv||qv&&Jv(new qv)!=Iv)&&(Jv=function(t){var n=gp(t),e="[object Object]"==n?t.constructor:void 0,r=e?Hd(e):"";if(r)switch(r){case Xv:return Uv;case Vv:return Wv;case Zv:return Hv;case Gv:return Yv;case Kv:return Iv}return n});var Qv=Jv,tm="[object Arguments]",nm="[object Array]",em="[object Object]",rm=Object.prototype.hasOwnProperty;var im=function(t,n,e,r,i,o){var a=lg(t),u=lg(n),c=a?nm:Qv(t),l=u?nm:Qv(n),s=(c=c==tm?em:c)==em,f=(l=l==tm?em:l)==em,h=c==l;if(h&&fg(t)){if(!fg(n))return!1;a=!0,s=!1}if(h&&!s)return o||(o=new dv),a||wg(t)?_v(t,n,e,r,i,o):Ev(t,n,c,e,r,i,o);if(!(1&e)){var p=s&&rm.call(t,"__wrapped__"),d=f&&rm.call(n,"__wrapped__");if(p||d){var g=p?t.value():t,v=d?n.value():n;return o||(o=new dv),i(g,v,e,r,o)}}return!!h&&(o||(o=new dv),Cv(t,n,e,r,i,o))};var om=function t(n,e,r,i,o){return n===e||(null==n||null==e||!vp(n)&&!vp(e)?n!=n&&e!=e:im(n,e,r,i,t,o))};var am=function(t,n,e,r){var i=e.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var u=e[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var c=(u=e[i])[0],l=t[c],s=u[1];if(a&&u[2]){if(void 0===l&&!(c in t))return!1}else{var f=new dv;if(r)var h=r(l,s,c,t,n,f);if(!(void 0===h?om(s,l,3,r,f):h))return!1}}return!0};var um=function(t){return t==t&&!Kh(t)};var cm=function(t){for(var n=Og(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,um(i)]}return n};var lm=function(t,n){return function(e){return null!=e&&(e[t]===n&&(void 0!==n||t in Object(e)))}};var sm=function(t){var n=cm(t);return 1==n.length&&n[0][2]?lm(n[0][0],n[0][1]):function(e){return e===t||am(e,t,n)}},fm=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hm=/^\w*$/;var pm=function(t,n){if(lg(t))return!1;var e=It(t);return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!mp(t))||(hm.test(t)||!fm.test(t)||null!=n&&t in Object(n))};function dm(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var e=function e(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return e.cache=o.set(i,a)||o,a};return e.cache=new(dm.Cache||fv),e}dm.Cache=fv;var gm=dm;var vm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mm=/\\(\\)?/g,ym=function(t){var n=gm(t,(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(vm,(function(t,e,r,i){n.push(r?i.replace(mm,"$1"):e||t)})),n}));var bm=function(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i},wm=ap?ap.prototype:void 0,_m=wm?wm.toString:void 0;var xm=function t(n){if("string"==typeof n)return n;if(lg(n))return bm(n,t)+"";if(mp(n))return _m?_m.call(n):"";var e=n+"";return"0"==e&&1/n==-Infinity?"-0":e};var Mm=function(t){return null==t?"":xm(t)};var km=function(t,n){return lg(t)?t:pm(t,n)?[t]:ym(Mm(t))};var Sm=function(t){if("string"==typeof t||mp(t))return t;var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Am=function(t,n){for(var e=0,r=(n=km(n,t)).length;null!=t&&e<r;)t=t[Sm(n[e++])];return e&&e==r?t:void 0};var Em=function(t,n,e){var r=null==t?void 0:Am(t,n);return void 0===r?e:r};var $m=function(t,n){return null!=t&&n in Object(t)};var Om=function(t,n,e){for(var r=-1,i=(n=km(n,t)).length,o=!1;++r<i;){var a=Sm(n[r]);if(!(o=null!=t&&e(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&dg(i)&&pg(a,i)&&(lg(t)||cg(t))};var jm=function(t,n){return null!=t&&Om(t,n,$m)};var Nm=function(t,n){return pm(t)&&um(n)?lm(Sm(t),n):function(e){var r=Em(e,t);return void 0===r&&r===n?jm(e,t):om(n,r,3)}};var zm=function(t){return t};var Lm=function(t){return function(n){return null==n?void 0:n[t]}};var Tm=function(t){return function(n){return Am(n,t)}};var Pm=function(t){return pm(t)?Lm(Sm(t)):Tm(t)};var Dm=function(t){return"function"==typeof t?t:null==t?zm:"object"==It(t)?lg(t)?Nm(t[0],t[1]):sm(t):Pm(t)};var Cm=function(t,n){return function(e,r){var i=lg(e)?ng:Ng,o=n?n():{};return i(e,t,Dm(r),o)}},Rm=Object.prototype.hasOwnProperty,Bm=Cm((function(t,n,e){Rm.call(t,e)?++t[e]:tg(t,e,1)}));function Fm(t){if(!t||"object"!==It(t))return t;try{return JSON.parse(JSON.stringify(t))}catch(n){return t}}var qm={values:[],margins:null,mode:"continuous",rangeMin:null,rangeCenter:null,rangeMax:null,colors:[{color:"#ffffff",position:0},{color:"#000000",position:1}],stops:"equidistant",customStops:[],stopCount:5,palette:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],fallback:"#eeeeee",map:{}};var Wm=function(t,n,e,r){for(var i=t.length,o=e+(r?1:-1);r?o--:++o<i;)if(n(t[o],o,t))return o;return-1};var Hm=function(t){return t!=t};var Ym=function(t,n,e){for(var r=e-1,i=t.length;++r<i;)if(t[r]===n)return r;return-1};var Im=function(t,n,e){return n==n?Ym(t,n,e):Wm(t,Hm,e)};var Um=function(t,n){return!!(null==t?0:t.length)&&Im(t,n,0)>-1};var Xm=function(t,n,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(n,t[r]))return!0;return!1};var Vm=function(){},Zm=Fv&&1/kv(new Fv([,-0]))[1]==1/0?function(t){return new Fv(t)}:Vm;var Gm=function(t,n,e){var r=-1,i=Um,o=t.length,a=!0,u=[],c=u;if(e)a=!1,i=Xm;else if(o>=200){var l=n?null:Zm(t);if(l)return kv(l);a=!1,i=wv,c=new yv}else c=n?[]:u;t:for(;++r<o;){var s=t[r],f=n?n(s):s;if(s=e||0!==s?s:0,a&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue t;n&&c.push(f),u.push(s)}else i(c,f,e)||(c!==u&&c.push(f),u.push(s))}return u};var Km=function(t){return t&&t.length?Gm(t):[]};function Jm(t){var n={},e=t.palette,r=t.categoryOrder||[],i=r.length?r:Km(t.values).sort(),o=0;i.forEach((function(r){r&&(n[r]=t.map[r]||(o>=e.length?t.fallback:e[o++]))}));var a=function(e){return n[e]||t.fallback};return a._labels=Object.keys(n),a._colors=a._labels.map((function(t){return n[t]})),a}function Qm(t){return(+t).toFixed(function(t){return Math.max(0,String(t-Math.floor(t)).replace(/00000*[0-9]+$/,"").replace(/33333*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2)}(t))}function ty(t){var n,e=t.stops,r=t.mode,i=t.stopCount,o=t.customStops,a=t.values,u=t.rangeMin,c=t.rangeCenter,l=t.rangeMax;if(""!==(n=c)&&null!=n&&"continuous"===r){if("equidistant"===e)return[u,c,l];i++;var s=[],f=[];a.filter((function(t){return t>=u&&t<=l})).forEach((function(t){return(t<c?s:f).push(t)})),s.push(c),Qm(f[0])>c&&f.unshift(c);var h=Math.floor((i-1)/2)+1,p=xd(h).map((function(t,n){return n/(h-1)})).map((function(t){return _d(s,t)})),d=xd(h).map((function(t,n){return n/(h-1)})).map((function(t){return _d(f,t)}));return p.length+d.length>i?d.shift():d[0]+=1e-7,[].concat(fd(p),fd(d))}if("continuous"===r&&"equidistant"===e)return[u,l];var g=Math.LOG10E*Math.log(u),v=Math.LOG10E*Math.log(l),m=a.filter((function(t){return t>=u&&t<=l})),y="custom"===e?o.map((function(t){return+t})):"pretty"===e?bd(u,l,i):"natural"===e?[].concat(fd(function(t,n){for(var e=[],r=[],i=[],o=!1,a=0;a<n;a++)e[a]=[];for(var u=Math.round(t.length/(n+1)),c=0;c<n;c++)r[c]=t[u*(c+1)];var l,s,f=20;do{for(var h=0;h<n;h++)e[h].length=0;o=!1;for(var p=-1,d=0;d<t.length;d++){for(var g=-1,v=0;v<n;v++){var m=Math.abs(r[v]-t[d]);(-1===g||m<=g)&&(g=m,p=v)}e[p].push(t[d])}i=r.slice(0);for(var y=0;y<n;y++){for(var b=0,w=0;w<e[y].length;w++)b+=e[y][w];r[y]=b/e[y].length}for(var _=0;_<n;_++)l=r[_],s=i[_],Math.abs(l-s)<1e-6||(o=!0)}while(o&&f-- >0);return e.filter((function(t){return t.length}))}(m,i).map((function(t){return t[0]}))),[l]):"logarithmic"===e?xd(1,i).map((function(t){return Math.pow(10,g+t/i*(v-g))})):"quantiles"===e?xd(0,1.001,1/i).map((function(t){return _d(m,t)})):xd(u,l+1e-5,(l-u)/i);return["natural","custom"].includes(e)||(Qm(y[0])>u&&y.unshift(u),Qm(y[y.length-1])<l&&y.push(l)),y}function ny(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function ey(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?ny(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ny(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function ry(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("categories"===(t=ey(ey({},Fm(qm)),Fm(t))).mode)return t.margins?iy(t):Jm(t);var n=Bm(t.values);t.values.forEach((function(e,r){n[e]>1&&n[e]>.1*n.length&&(t.values[r]+=1e-6*(Math.random()-.5))})),t.values=t.values.filter(Number.isFinite).sort((function(t,n){return t-n}));var e=t.values[0],r=t.values[t.values.length-1];oy(t.rangeMin)&&(t.rangeMin=e),oy(t.rangeMax)&&(t.rangeMax=r),["rangeMin","rangeMax","rangeCenter","stopCount"].forEach((function(n){oy(t[n])||(t[n]=+t[n])})),(t.ranceCenter<=t.rangeMin||t.ranceCenter>=t.rangeMax)&&(t.rangeCenter=""),t.colors&&t.colors.length||(t.colors=[{color:"#ffffff",position:0},{color:"#000000",position:1}]);var i=Pd().domain(t.colors.map((function(t){return t.position}))).range(t.colors.map((function(t){return t.color}))).interpolate(de),o=ty(ey(ey({},t),{},{rangeCenter:"discrete"===t.mode?void 0:t.rangeCenter,stopCount:t.stopCount-("continuous"===t.mode?1:0)}));if("continuous"===t.mode){var a=o.map((function(t,n){return n/(o.length-1)})),u=Pd(o,a).clamp(!0),c=function(t){return i(u(t))+""};return c._limits=oy(t.rangeCenter)?[t.rangeMin,t.rangeMax]:[t.rangeMin,+t.rangeCenter,t.rangeMax],c._stops=o,c}if("discrete"===t.mode){var l=xd(0,1.0001,1/(o.length-2)).map(i);l.unshift(l[0]),l.push(l[l.length-1]);var s=Dd(o,l);return s._stops=o,s._colors=l.slice(1,-1),s}}function iy(t){var n=t.margins.sort((function(t,n){return t-n})),e=[n[0],n[n.length-1]],r=Jm(t),i={},o=ty(ey(ey({},t),{},{values:n,rangeMin:e[0],rangeMax:e[1]})),a=xd(o.length-1).map((function(t){return.5*(o[t]+o[t+1])})),u=Pd().domain([a[0],a[a.length-1]]).range([90,20]);function c(t,n){return i[t](n)}return c._stops=o,c._colors={},c._labels=r._labels,c._labels.forEach((function(t){var n=zn(r(t)),e=a.map((function(t){return zn(u(t),n.a,n.b)+""}));i[t]=Dd(o.slice(1,-1),e),c._colors[t]=o.slice(0,-1).map((function(n,e){return i[t](.5*(n+o[e+1]))}))})),c}function oy(t){return""===t||null==t}var ay="ontouchstart"in window||navigator.msMaxTouchPoints;-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Internet Explorer/")>-1||window.navigator.appVersion.indexOf("Trident/7.0");function uy(t,n){return t.replace(/{{ *([a-zA-Z0-9_]+) *}}/g,(function(t,e){return n[e]?"{{ ".concat(id(n[e])," }}"):t}))}function cy(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}bt.prototype.append=wi,bt.prototype.st=ji,dw.visualization.register("d3-maps-choropleth","d3-maps-core",(function(){var t,n,e,r,o,a,u,c,l={},f=!1,h={},p=["zoomable","zoom-button-pos","hide-empty-regions"],d=new Map,g=new Map;return{render:function(v){if(n)return!1;n=!0;var m=this,y=v,b=m.chart(),w=m.theme(),_=m.size(),x=m.dataset.list(),M=b.getMetadata("data.column-format",{});!function(t,n,e){var r,i=n.visualize,o=void 0===i?{}:i,a=n.data,u=void 0===a?{}:a,c=n.axes,l=void 0===c?{}:c;if(o.gradient||o.categories){var s={mode:"continuous",stops:"quantiles",interpolation:"equidistant",colors:[],rangeMin:"",rangeMax:"",rangeCenter:"",stopCount:5,palette:0,categoryOrder:[],categoryLabels:{},map:{}};if(o.categories&&(s.map=o.categories,delete o.categories),o.gradient){var f=o.gradient;if(f.colors&&(s.colors=f.colors.map((function(t){return{color:t.c,position:t.p}}))),f.stops){var h=f.stops.filter((function(t){return 0===t.p}))[0];h&&(s.rangeMin=h.v);var p=f.stops.filter((function(t){return 1===t.p}))[0];if(p&&(s.rangeMax=p.v),3===f.stops.length){var d=f.stops.filter((function(t){return Math.abs(t.p-.5)<.03}))[0];d&&(s.rangeCenter=d.v),s.interpolation="quantiles-3"}else f.stops.length>3&&(s.interpolation=f.stops.length<6?"quantiles-5":"quantiles-6")}}o.colorscale=s,delete o.gradient}if(o.colorscale&&!o.colorscale.customStops&&(o.colorscale.customStops=["","","","","","","",""]),o.legend&&!o.legend.hideItems&&(o.legend.hideItems=[]),o.tooltip&&void 0===o.tooltip.enabled){var g={enabled:!1,sticky:!0,body:"",title:""};if(o.tooltip){var v=o.tooltip,m=v.title,y=v.body,b=v.fields;(m||y)&&(g.body=b?uy(y||"",b):y||"",g.title=b?uy(m||"",b):m||"",g.migrated=!0,g.enabled=!0)}o.tooltip=g}if(void 0===o["min-label-zoom"]&&o["map-key-position"]&&(o["min-label-zoom"]=1.5),"d3-maps-choropleth"===t&&o.tooltip&&(l.keys&&(o.tooltip.title=String(o.tooltip.title).replace("%REGION_NAME%","{{ ".concat(id(l.keys)," }}"))),l.values&&(o.tooltip.body=String(o.tooltip.body).replace("%REGION_VALUE%","{{ ".concat(id(l.values)," }}")))),o["map-key-position"]){var w="d3-maps-choropleth"===t?"hidden"!==o["map-key-position"]||!1===o["map-key-auto"]&&""===o["map-key-stops"]:!1!==o["show-map-key"];o.legend={enabled:w,orientation:"vertical",position:w?o["map-key-position"]:"mt",title:o["map-key-title"]||"",labelFormat:(r=o["map-key-format"],{"0,0.[00]":"0,0.[00]",f:"0",".1f":"0.0",".2f":"0.00",".3f":"0.000",".0%":"0%",".1%":"0.0%",".2%":"0.00%",".0s":"0a",".1s":"0.0a",".2s":"0.00a",".3s":"0.000a"}[r]||r),size:100,offsetTop:0,offsetLeft:0,labels:"ranges",reverse:!1,interactive:!1},delete o["map-key-position"],delete o["map-key-title"],delete o["map-key-format"],delete o["map-key-position"]}if(void 0===o["zoom-button-pos"]&&(o["zoom-button-pos"]="br"===Nl(o,"legend.position")?"tr":"br"),o["cluster-symbols"]){var _=["noverlap","hexbin"].includes(o["cluster-symbols"]);o.clustering={enabled:_,type:_?o["cluster-symbols"]:"noverlap",showCount:Nl(o,"cluster-count",!0),gridSize:Nl(o,"hexbin-gridsize",15),aggregation:Nl(o,"cluster-aggregation","none"),radius:Nl(o,"cluster-radius",9),iterations:Nl(o,"iterations",1),tolerance:Nl(o,"tolerance",0),color:Nl(o,"cluster-color",0)},delete o["cluster-color"],delete o["cluster-symbols"],delete o["cluster-count"],delete o["hexbin-gridsize"],delete o["cluster-aggregation"],delete o["cluster-radius"],delete o.iterations,delete o.tolerance}if(null===Nl(o,"clustering.aggregationColor")&&Nl(o,"clustering.aggregationColor",Nl(o,"cluster-aggregation","none")),o["cluster-tooltip"]){var x=Nl(o,"cluster-tooltip",{}),M=x.title,k=x.body,S=x.fields;o.clusterTooltip=(M||k)&&S?{enabled:!0,sticky:!0,title:uy(M||"",S),body:uy(k||"",S),migrated:!0}:{enabled:M||k,sticky:!0,title:M||"",body:k||""},delete o["cluster-tooltip"]}if(o["map-align"]||(o["map-align"]="center"),"d3-maps-symbols"===t&&void 0===o["blend-multiply"]&&(o["blend-multiply"]=!0),e&&l&&!e.hasColumn(l.values)&&delete l.values,l.values&&o["map-key-stops"]&&"number"===e.column(l.values).type()){var A={},E=e.column(l.values).values(),$=!0;o["map-key-stops"].split("\n").forEach((function(t){var n=t.split(",");A[n[0]]=n[1]}));for(var O=0;O<E.length;O++)if("number"==typeof E[O]&&isFinite(E[O])&&void 0===A[E[O]]){$=!1;break}if($){u["column-format"][l.values]||(u["column-format"][l.values]={}),u["column-format"][l.values].type="text";var j=ry({values:E,mode:"continuous",colors:o.colorscale.colors,stops:o.colorscale.interpolation.split("-")[0],stopCount:+(o.colorscale.interpolation.split("-")[1]||5),rangeMin:o.colorscale.rangeMin,rangeCenter:o.colorscale.rangeCenter,rangeMax:o.colorscale.rangeMax});for(var N in o.colorscale.map={},A)void 0!==N&&""!==N&&(o.colorscale.map[N]=j(Number(N)),o.colorscale.categoryLabels[N]=A[N],o.colorscale.categoryOrder.push(N))}delete o["map-key-stops"]}if(void 0===o["text-annotations"]&&(o["text-annotations"]=[]),void 0===o.labels){var z=Boolean(l.labels);o.labels={},o.labels.enabled=z,o.labels.type=z?"column":"places",o.labels.places=[],o.labels.max=1}}(b.get("type"),b.get("metadata"),m.dataset),this.chart().dataset(!0);var k,S=Nl(w,"vis.d3-maps-choropleth.noDataFill","#dddddd"),A=m.get("zoomable",!0)||m.get("highlighted-series",[]).length>0?m.get("min-label-zoom",1):1,E=m.get("avoid-label-overlap",!0),$=m.axes(),O=(k=b.get("id"),function(t,n){if(window.parent&&window.parent.postMessage){var e={source:"datawrapper",chartId:k,type:t,data:n};window.parent.postMessage(e,"*")}}),j=!e||e!==m.get("basemap","bl");if(j||p.forEach((function(t){void 0!==h[t]&&h[t]!==m.get(t)&&(j=!0)})),j)p.forEach((function(t){h[t]=m.get(t)})),r=m.size(),o=m.get("max-map-height"),a=m.get("map-align","center"),v.innerHTML="",e=m.get("basemap","bl"),m.initBaseMap(y,e,(function(e){(t=e).svgLayers.forEach((function(t){var n=t.id,e=t.selection;g.set(n,e)})),t.canvasLayers.forEach((function(t){var n=t.id,e=t.style,r=t.features;d.set(n,{style:e,features:r})})),t.highlight=function(n){m.get("legend.interactive")&&(c=n,t.canvas?t.draw():g.get("region").style("opacity",(function(t){return!c||P(t)?1:.1})))},T(),n=!1,m.renderingComplete()}));else{if(t.svg){var N=m.size(),z=m.get("max-map-height"),L=m.get("map-align","center");r[0]!==N[0]||r[1]!==N[1]||z!==o||L!==a?(r=N,o=z,a=L,t.resizeMap(N),T()):T()}n=!1,m.renderingComplete()}function T(){var n=[],e=m.colorMap(),r=m.get("highlighted-series");if(t.setUserPadding(m.get("map-padding",0)/100),t.data){t.clearZoomLayer();var o=m.get("map-key-attr",function(){var t="id",n=JSON.parse(m.chart().asset("".concat(m.get("basemap"),".json"))),e=n.meta.keys?n.meta.keys:null;if(!e)return t;var r=e[0]?e[0].value:null;return r||t}()),a=t.meta.keys.find((function(t){return t.value===o})),h=void 0===a.alphanum||a.alphanum?Xp:Vp,p=new Map(x.map((function(t){return[h(t[$.keys]),t]})));t.data.forEach((function(t){t.data=p.get(h(t.properties[a.value])),t.data&&n.push(t.data)}));var b=n.map(Oi($.values)),k=function(t){var n=t.column,e=t.vis,r=t.values,i=t.theme,o=Nl(i,"colors.gradients.0",["#f0f9e8","#b6e3bb","#75c8c5","#4ba8c9","#2989bd","#0a6aad","#254b8c"]),a=Nl(i,"colors.categories.0",["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]),u=o.map((function(t,n){return{color:t,position:n/(o.length-1)}})),c=e.get("colorscale.palette",0),l=e.get("colorscale.stopCount",14),s=zl("custom"===e.get("colorscale.stops")?e.get("colorscale.customStops",[]):null);if(Array.isArray(s)){for(var f=1/0,h=-1/0,p=r.length-1;p>=0;p--)r[p]<f&&(f=r[p]),r[p]>h&&(h=r[p]);var d=(s=s.slice(1,l).map((function(t){return+t})))[s.length-1];s=[Math.min(f,s[0])].concat(fd(s),[Math.max(h,d)])}return ry("text"===n.type()?{mode:"categories",palette:Nl(i,"colors.categories",[a])[Number.isFinite(c)?c:0],values:r,map:e.get("colorscale.map",{}),categoryOrder:e.get("colorscale.categoryOrder",[])}:"discrete"===e.get("colorscale.mode","continuous")?{values:r,mode:"discrete",colors:e.get("colorscale.colors",u),stops:e.get("colorscale.stops","equidistant"),customStops:s,stopCount:l,rangeMin:e.get("colorscale.rangeMin"),rangeCenter:e.get("colorscale.rangeCenter"),rangeMax:e.get("colorscale.rangeMax")}:{values:r,mode:"continuous",colors:e.get("colorscale.colors",u),stops:e.get("colorscale.interpolation","equidistant").split("-")[0],stopCount:+(e.get("colorscale.interpolation","equidistant").split("-")[1]||5),rangeMin:e.get("colorscale.rangeMin"),rangeCenter:e.get("colorscale.rangeCenter"),rangeMax:e.get("colorscale.rangeMax")})}({vis:m,theme:w,column:m.axes(!0).values,values:b});if(m.get("hide-empty-regions")&&(t.canvas?(d.get("region").features.forEach((function(n){t.hasNoData(n)&&(n.__hidden=!0)})),t.zoomVisRegions()):(g.get("gregion").classed("hidden",t.hasNoData),g.get("outlines").classed("hidden",t.hasNoData),t.zoomVisRegions())),t.canvas)t.canvasLayers.find((function(t){return"region"===t.id})).style=function(n){var r=gn(e(n.fill=t.hasNoData(n)?S:k(n.data[$.values]))),i=r.r,o=r.g,a=r.b,u=!c||P(n)?1:.1;return{fill:"rgba(".concat(i,",").concat(o,",").concat(a,",").concat(u,")")}},t.draw();else g.get("region").style("fill",(function(n){return t.hasNoData(n)?e(n.fill=S):e(n.fill=k(n.data[$.values]))})),g.get("outlines").classed("has-data",(function(n){return!t.hasNoData(n)}));var j,N=m.get("labels.enabled"),z=m.get("labels.type");if($.labels&&N&&"column"===z){var L,T=/<br *\/?>|\n/g,D=m.axes(!0).labels.type();if("number"===D){var C=M[$.labels]||{};L={prepend:C["number-prepend"]||"",append:C["number-append"]||"",minusChar:Nl(m.theme(),"typography.chart.minusCharacter","−"),format:m.get("map-label-format","0,0.[00]"),multiply:Math.pow(10,-C["number-divisor"]||0)}}t.data.forEach((function(n){n.__area=t.path.area(n)}));var R=t.data.sort((function(t,n){return n.__area-t.__area})),B=t.g.append("g.labels"),F=B.selectAll("g.label").data(R).enter().append("g.label").classed("inverted",U).each((function(t){var n=t.data&&t.data[$.labels]?"text"===D?t.data[$.labels].replace(/-/g,"- "):Cp(t.data[$.labels],L):"";t.__lines=(n?n.match(T)?n.trim().split(T):zi(n,10):[]).map((function(t){return"text"===D?t.replace(/- /g,"-"):t}))}));F.append("text.buffer"),F.append("text.label").style("fill",(function(t){return X(t)})),F=B.selectAll("text").filter((function(t){return t.anchor&&isFinite(t.anchor[0])&&isFinite(t.anchor[1])})).translate((function(t){return t.anchor})),m.get("hide-empty-regions")&&F.classed("hidden",t.hasNoData),F.tspans(Oi("__lines"),12),B.selectAll("g.label").each((function(t){var n=wt(this);n.classed("inverted")&&n.select("text.label").selectAll("tspan").style("fill",X(t))})),t.updateLabelOverlaps(B,"g.label"),F.classed("lbl-hidden",I),t.addZoomLayer("labels",B,F),t.onZoom((function(){t.updateLabelOverlaps(B,"g.label"),F.classed("lbl-hidden",I)}))}N&&"places"===z&&t.renderPlaces();var q=u&&u.title&&(u.title!==m.get("tooltip.title")||u.body!==m.get("tooltip.body"));if((u=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?cy(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):cy(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({},m.get("tooltip",{title:"",body:"",enabled:!1}))).enabled){try{u.template=dw.utils.htmlTemplate((u.title?"<h2>".concat(u.title,"</h2>"):"")+u.body)}catch(n){t.isDatawrapperEditor?u.template=dw.utils.htmlTemplate(ad(n)):u.template=function(){throw new Error}}if((j=wt(y.querySelector(".dw-tooltip"))).node())q&&Z(l,!1,!0);else{j=wt(y).append("div.dw-tooltip").style("max-height",.55*_[1]+"px").style("overflow-y","auto");var W=t.g.append("path.region-outline.hover-outline.has-data").st({vectorEffect:"non-scaling-stroke",strokeWidth:Nl(w,"vis.d3-maps-choropleth.borders.hoverOutline.scale",2)*t.SVG_TO_CANVAS_SCALE,strokeLinejoin:"round",fill:"none"}).attr("d","M0,0");if(t.onZoom((function(){W.datum()&&(W.attr("d",t.path),V())})),t.canvas){var H=od(d.get("region").features,t.mapProj);t.svg.on("mousemove",(function(){if(!f&&(u.enabled||m.get("legend.interactive"))&&!ay){var n=Mt(t.svg.node()),e=t.getZoom().invert(n),r=t.proj.invert(e),i=H(r);i&&i.data&&null!==i.data[$.values]?(u.enabled&&Z(i),W.datum(i).attr("d",t.path),O("region.mouseenter",zl(i.data)),t.onHighlight&&t.onHighlight(i)):(O("region.mouseleave"),t.onHighlight&&t.onHighlight(null),j.style("visibility","hidden"),W.datum(null).attr("d","M0,0"))}})).on("click",(function(){if(f)return V();var n=Mt(t.svg.node()),e=t.getZoom().invert(n),r=t.proj.invert(e),i=H(r);i&&O("region.click",zl(i.data)),(m.get("tooltip.sticky")||ay)&&i&&i!==f&&i.data&&null!==i.data[$.values]&&(f=i,j.classed("sticky",!0),W.datum(i).attr("d",t.path),Z(i))}))}else g.get("outlines").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("mouseover",(function(n){f||ay||(Z(n),t.onHighlight&&t.onHighlight(n),wt(this).classed("hovered-region",!0))})).on("mousemove",(function(t){f||ay||Z(t,!0)})).on("mouseout",(function(){f||ay||(t.onHighlight&&t.onHighlight(null),j.style("visibility","hidden"))})).on("click",(function(n){m.get("tooltip.sticky")&&(""===u.title&&""===u.body||(g.get("outlines").classed("sticky",!1),f===n||t.hasNoData(n)?(f&&t.hasNoData(n)||f===n)&&V():(wt(this).classed("sticky",!0),f=n,Z(n))))})),wt(y).selectAll("rect.background").on("click",V)}}else{var Y=y.querySelector(".dw-tooltip");Y&&Y.parentNode.removeChild(Y)}m.mapKey.update({container:y,colorScale:k,map:t}),t.fixZoom(),t.resizeMap(m.size())}function I(n){return!function(t){return t&&t.data&&r&&r.length&&$.labels&&r.indexOf(t.data[$.labels])>-1}(n)&&(t.scale<A||!!E&&!n._visible)}function U(t){return zn(t.fill).l<50}function X(t){var n=U(t),r=Nl(w,"vis.d3-maps-choropleth.labels.color.".concat(n?"inverted":"normal"),zn(t.fill).darker(n?-4:2.5)+"");return e(r)}function V(){f=!1,j.style("visibility","hidden").classed("sticky",!1)}function Z(n,e,r){if(l=n,!t.hasNoData(n)&&(""!==u.title||""!==u.body)){if(!e){var i,o={FORMAT:ud};!function(t){var n=t.ctx,e=t.columns,r=t.data,i=t.useKeys,o=void 0!==i&&i,a=t.colFmts,u=new Set,c=new Map;e.forEach((function(t){for(var n=id(t.name()),e=n,r=0;u.has(e);)e="".concat(n,"_").concat(++r);u.add(e),c.set(t.name(),e)})),e.forEach((function(t){var e=id(t.name()),i=c.get(t.name()),u=a[t.name()]||{},l=Math.pow(10,-u["number-divisor"]||0);if(n[i]=r[o?e:t.name()],"number"===t.type()){n[i]*=l;var f=t.range(),h=s(f,2),p={min:h[0],max:h[1],sum:t.sum(),mean:t.mean(),median:t.median()};Object.keys(p).forEach((function(t){n["".concat(i,"__").concat(t)]=p[t]}))}}))}({ctx:o,columns:m.dataset.columns(),data:n.data,colFmts:M});try{i=u.template(o).replace(/\n\n/g,"<br>")}catch(n){if(!t.isDatawrapperEditor)return;i=ad(n)}var a;if(a=ay?i+'<div class="dw-tooltip-close">&#x2715;</div>':i,""===i)return;j.style("visibility","visible").html(a)}if(j.select(".dw-tooltip-close").on("click",V),!r){var c=Mt(y),f=v.clientWidth<450?.55:.45;t.sizeTooltip(c,y,j),j.style("max-height",v.clientHeight*f+"px")}}}}function P(t){if(!t.data)return!1;if(void 0!==c.min){var n=t.data[$.values];return n>=c.min&&n<c.max}return c.value?t.data[$.values]===c.value:void 0}},reset:function(){}}}))}();
//# sourceMappingURL=d3-maps-choropleth.js.map
